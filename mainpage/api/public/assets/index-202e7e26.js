function ZE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eu={},JE={get exports(){return Eu},set exports(t){Eu=t}},xh={},Q={},eT={get exports(){return Q},set exports(t){Q=t}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wa=Symbol.for("react.element"),tT=Symbol.for("react.portal"),rT=Symbol.for("react.fragment"),nT=Symbol.for("react.strict_mode"),iT=Symbol.for("react.profiler"),sT=Symbol.for("react.provider"),oT=Symbol.for("react.context"),aT=Symbol.for("react.forward_ref"),lT=Symbol.for("react.suspense"),uT=Symbol.for("react.memo"),hT=Symbol.for("react.lazy"),Sg=Symbol.iterator;function cT(t){return t===null||typeof t!="object"?null:(t=Sg&&t[Sg]||t["@@iterator"],typeof t=="function"?t:null)}var Oy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ly=Object.assign,Ny={};function yo(t,e,r){this.props=t,this.context=e,this.refs=Ny,this.updater=r||Oy}yo.prototype.isReactComponent={};yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fy(){}Fy.prototype=yo.prototype;function Hp(t,e,r){this.props=t,this.context=e,this.refs=Ny,this.updater=r||Oy}var Vp=Hp.prototype=new Fy;Vp.constructor=Hp;Ly(Vp,yo.prototype);Vp.isPureReactComponent=!0;var bg=Array.isArray,Uy=Object.prototype.hasOwnProperty,jp={current:null},zy={key:!0,ref:!0,__self:!0,__source:!0};function Gy(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Uy.call(e,n)&&!zy.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Wa,type:t,key:s,ref:o,props:i,_owner:jp.current}}function dT(t,e){return{$$typeof:Wa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wa}function fT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Cg=/\/+/g;function Pc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fT(""+t.key):e.toString(36)}function Zl(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wa:case tT:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Pc(o,0):n,bg(i)?(r="",t!=null&&(r=t.replace(Cg,"$&/")+"/"),Zl(i,e,r,"",function(u){return u})):i!=null&&(Xp(i)&&(i=dT(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",bg(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Pc(s,a);o+=Zl(s,e,r,l,i)}else if(l=cT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Pc(s,a++),o+=Zl(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sl(t,e,r){if(t==null)return t;var n=[],i=0;return Zl(t,n,"","",function(s){return e.call(r,s,i++)}),n}function pT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var It={current:null},Ql={transition:null},mT={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:Ql,ReactCurrentOwner:jp};de.Children={map:sl,forEach:function(t,e,r){sl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return sl(t,function(){e++}),e},toArray:function(t){return sl(t,function(e){return e})||[]},only:function(t){if(!Xp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=yo;de.Fragment=rT;de.Profiler=iT;de.PureComponent=Hp;de.StrictMode=nT;de.Suspense=lT;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mT;de.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ly({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Uy.call(e,l)&&!zy.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Wa,type:t.type,key:i,ref:s,props:n,_owner:o}};de.createContext=function(t){return t={$$typeof:oT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sT,_context:t},t.Consumer=t};de.createElement=Gy;de.createFactory=function(t){var e=Gy.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:aT,render:t}};de.isValidElement=Xp;de.lazy=function(t){return{$$typeof:hT,_payload:{_status:-1,_result:t},_init:pT}};de.memo=function(t,e){return{$$typeof:uT,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Ql.transition;Ql.transition={};try{t()}finally{Ql.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return It.current.useCallback(t,e)};de.useContext=function(t){return It.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return It.current.useDeferredValue(t)};de.useEffect=function(t,e){return It.current.useEffect(t,e)};de.useId=function(){return It.current.useId()};de.useImperativeHandle=function(t,e,r){return It.current.useImperativeHandle(t,e,r)};de.useInsertionEffect=function(t,e){return It.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return It.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return It.current.useMemo(t,e)};de.useReducer=function(t,e,r){return It.current.useReducer(t,e,r)};de.useRef=function(t){return It.current.useRef(t)};de.useState=function(t){return It.current.useState(t)};de.useSyncExternalStore=function(t,e,r){return It.current.useSyncExternalStore(t,e,r)};de.useTransition=function(){return It.current.useTransition()};de.version="18.2.0";(function(t){t.exports=de})(eT);const vo=QE(Q),Ud=ZE({__proto__:null,default:vo},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT=Q,_T=Symbol.for("react.element"),yT=Symbol.for("react.fragment"),vT=Object.prototype.hasOwnProperty,xT=gT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wT={key:!0,ref:!0,__self:!0,__source:!0};function $y(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)vT.call(e,n)&&!wT.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:_T,type:t,key:s,ref:o,props:i,_owner:xT.current}}xh.Fragment=yT;xh.jsx=$y;xh.jsxs=$y;(function(t){t.exports=xh})(JE);const Vn=Eu.jsx,ET=Eu.jsxs;var zd={},TT={get exports(){return zd},set exports(t){zd=t}},er={},Gd={},ST={get exports(){return Gd},set exports(t){Gd=t}},Hy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,F){var D=k.length;k.push(F);e:for(;0<D;){var $=D-1>>>1,M=k[$];if(0<i(M,F))k[$]=F,k[D]=M,D=$;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var F=k[0],D=k.pop();if(D!==F){k[0]=D;e:for(var $=0,M=k.length,O=M>>>1;$<O;){var B=2*($+1)-1,X=k[B],A=B+1,ee=k[A];if(0>i(X,D))A<M&&0>i(ee,X)?(k[$]=ee,k[A]=D,$=A):(k[$]=X,k[B]=D,$=B);else if(A<M&&0>i(ee,D))k[$]=ee,k[A]=D,$=A;else break e}}return F}function i(k,F){var D=k.sortIndex-F.sortIndex;return D!==0?D:k.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,c=null,d=3,f=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(k){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=k)n(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=r(u)}}function x(k){if(m=!1,g(k),!p)if(r(l)!==null)p=!0,H(w);else{var F=r(u);F!==null&&U(x,F.startTime-k)}}function w(k,F){p=!1,m&&(m=!1,y(E),E=-1),f=!0;var D=d;try{for(g(F),c=r(l);c!==null&&(!(c.expirationTime>F)||k&&!R());){var $=c.callback;if(typeof $=="function"){c.callback=null,d=c.priorityLevel;var M=$(c.expirationTime<=F);F=t.unstable_now(),typeof M=="function"?c.callback=M:c===r(l)&&n(l),g(F)}else n(l);c=r(l)}if(c!==null)var O=!0;else{var B=r(u);B!==null&&U(x,B.startTime-F),O=!1}return O}finally{c=null,d=D,f=!1}}var S=!1,T=null,E=-1,b=5,C=-1;function R(){return!(t.unstable_now()-C<b)}function G(){if(T!==null){var k=t.unstable_now();C=k;var F=!0;try{F=T(!0,k)}finally{F?P():(S=!1,T=null)}}else S=!1}var P;if(typeof _=="function")P=function(){_(G)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,V=I.port2;I.port1.onmessage=G,P=function(){V.postMessage(null)}}else P=function(){v(G,0)};function H(k){T=k,S||(S=!0,P())}function U(k,F){E=v(function(){k(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,H(w))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var D=d;d=F;try{return k()}finally{d=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var D=d;d=k;try{return F()}finally{d=D}},t.unstable_scheduleCallback=function(k,F,D){var $=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?$+D:$):D=$,k){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=D+M,k={id:h++,callback:F,priorityLevel:k,startTime:D,expirationTime:M,sortIndex:-1},D>$?(k.sortIndex=D,e(u,k),r(l)===null&&k===r(u)&&(m?(y(E),E=-1):m=!0,U(x,D-$))):(k.sortIndex=M,e(l,k),p||f||(p=!0,H(w))),k},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(k){var F=d;return function(){var D=d;d=F;try{return k.apply(this,arguments)}finally{d=D}}}})(Hy);(function(t){t.exports=Hy})(ST);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=Q,Qt=Gd;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jy=new Set,ga={};function rs(t,e){Js(t,e),Js(t+"Capture",e)}function Js(t,e){for(ga[t]=e,t=0;t<e.length;t++)jy.add(e[t])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$d=Object.prototype.hasOwnProperty,bT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ag={},Pg={};function CT(t){return $d.call(Pg,t)?!0:$d.call(Ag,t)?!1:bT.test(t)?Pg[t]=!0:(Ag[t]=!0,!1)}function AT(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PT(t,e,r,n){if(e===null||typeof e>"u"||AT(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wp=/[\-:]([a-z])/g;function Yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wp,Yp);yt[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wp,Yp);yt[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wp,Yp);yt[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function qp(t,e,r,n){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PT(e,r,i,n)&&(r=null),n||i===null?CT(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Bn=Vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ol=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Kp=Symbol.for("react.strict_mode"),Hd=Symbol.for("react.profiler"),Xy=Symbol.for("react.provider"),Wy=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),jd=Symbol.for("react.suspense_list"),Qp=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Yy=Symbol.for("react.offscreen"),Ig=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=Ig&&t[Ig]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,Ic;function $o(t){if(Ic===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ic=e&&e[1]||""}return`
`+Ic+t}var Rc=!1;function kc(t,e){if(!t||Rc)return"";Rc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$o(t):""}function IT(t){switch(t.tag){case 5:return $o(t.type);case 16:return $o("Lazy");case 13:return $o("Suspense");case 19:return $o("SuspenseList");case 0:case 2:case 15:return t=kc(t.type,!1),t;case 11:return t=kc(t.type.render,!1),t;case 1:return t=kc(t.type,!0),t;default:return""}}function Xd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case ys:return"Portal";case Hd:return"Profiler";case Kp:return"StrictMode";case Vd:return"Suspense";case jd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wy:return(t.displayName||"Context")+".Consumer";case Xy:return(t._context.displayName||"Context")+".Provider";case Zp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qp:return e=t.displayName||null,e!==null?e:Xd(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return Xd(t(e))}catch{}}return null}function RT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xd(e);case 8:return e===Kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kT(t){var e=qy(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function al(t){t._valueTracker||(t._valueTracker=kT(t))}function Ky(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=qy(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wd(t,e){var r=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Rg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ci(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zy(t,e){e=e.checked,e!=null&&qp(t,"checked",e,!1)}function Yd(t,e){Zy(t,e);var r=ci(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qd(t,e.type,r):e.hasOwnProperty("defaultValue")&&qd(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function qd(t,e,r){(e!=="number"||Tu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ho=Array.isArray;function Ns(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ci(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(Ho(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ci(r)}}function Qy(t,e){var r=ci(e.value),n=ci(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Dg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ll,ev=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ll=ll||document.createElement("div"),ll.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ll.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _a(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MT=["Webkit","ms","Moz","O"];Object.keys(ta).forEach(function(t){MT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ta[e]=ta[t]})});function tv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ta.hasOwnProperty(t)&&ta[t]?(""+e).trim():e+"px"}function rv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=tv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var DT=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qd(t,e){if(e){if(DT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Jd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ef=null;function Jp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tf=null,Fs=null,Us=null;function Bg(t){if(t=Ka(t)){if(typeof tf!="function")throw Error(N(280));var e=t.stateNode;e&&(e=bh(e),tf(t.stateNode,t.type,e))}}function nv(t){Fs?Us?Us.push(t):Us=[t]:Fs=t}function iv(){if(Fs){var t=Fs,e=Us;if(Us=Fs=null,Bg(t),e)for(t=0;t<e.length;t++)Bg(e[t])}}function sv(t,e){return t(e)}function ov(){}var Mc=!1;function av(t,e,r){if(Mc)return t(e,r);Mc=!0;try{return sv(t,e,r)}finally{Mc=!1,(Fs!==null||Us!==null)&&(ov(),iv())}}function ya(t,e){var r=t.stateNode;if(r===null)return null;var n=bh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var rf=!1;if(An)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){rf=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{rf=!1}function BT(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var ra=!1,Su=null,bu=!1,nf=null,OT={onError:function(t){ra=!0,Su=t}};function LT(t,e,r,n,i,s,o,a,l){ra=!1,Su=null,BT.apply(OT,arguments)}function NT(t,e,r,n,i,s,o,a,l){if(LT.apply(this,arguments),ra){if(ra){var u=Su;ra=!1,Su=null}else throw Error(N(198));bu||(bu=!0,nf=u)}}function ns(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function lv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Og(t){if(ns(t)!==t)throw Error(N(188))}function FT(t){var e=t.alternate;if(!e){if(e=ns(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Og(i),t;if(s===n)return Og(i),e;s=s.sibling}throw Error(N(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function uv(t){return t=FT(t),t!==null?hv(t):null}function hv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hv(t);if(e!==null)return e;t=t.sibling}return null}var cv=Qt.unstable_scheduleCallback,Lg=Qt.unstable_cancelCallback,UT=Qt.unstable_shouldYield,zT=Qt.unstable_requestPaint,Ye=Qt.unstable_now,GT=Qt.unstable_getCurrentPriorityLevel,em=Qt.unstable_ImmediatePriority,dv=Qt.unstable_UserBlockingPriority,Cu=Qt.unstable_NormalPriority,$T=Qt.unstable_LowPriority,fv=Qt.unstable_IdlePriority,wh=null,nn=null;function HT(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(wh,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:XT,VT=Math.log,jT=Math.LN2;function XT(t){return t>>>=0,t===0?32:31-(VT(t)/jT|0)|0}var ul=64,hl=4194304;function Vo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Au(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Vo(a):(s&=o,s!==0&&(n=Vo(s)))}else o=r&~i,o!==0?n=Vo(o):s!==0&&(n=Vo(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Lr(e),i=1<<r,n|=t[r],e&=~i;return n}function WT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YT(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Lr(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=WT(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function sf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pv(){var t=ul;return ul<<=1,!(ul&4194240)&&(ul=64),t}function Dc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ya(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=r}function qT(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Lr(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function tm(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Lr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ye=0;function mv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gv,rm,_v,yv,vv,of=!1,cl=[],Jn=null,ei=null,ti=null,va=new Map,xa=new Map,Gn=[],KT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ng(t,e){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":va.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(e.pointerId)}}function Po(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ka(e),e!==null&&rm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZT(t,e,r,n,i){switch(e){case"focusin":return Jn=Po(Jn,t,e,r,n,i),!0;case"dragenter":return ei=Po(ei,t,e,r,n,i),!0;case"mouseover":return ti=Po(ti,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return va.set(s,Po(va.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,xa.set(s,Po(xa.get(s)||null,t,e,r,n,i)),!0}return!1}function xv(t){var e=Bi(t.target);if(e!==null){var r=ns(e);if(r!==null){if(e=r.tag,e===13){if(e=lv(r),e!==null){t.blockedOn=e,vv(t.priority,function(){_v(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=af(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ef=n,r.target.dispatchEvent(n),ef=null}else return e=Ka(r),e!==null&&rm(e),t.blockedOn=r,!1;e.shift()}return!0}function Fg(t,e,r){Jl(t)&&r.delete(e)}function QT(){of=!1,Jn!==null&&Jl(Jn)&&(Jn=null),ei!==null&&Jl(ei)&&(ei=null),ti!==null&&Jl(ti)&&(ti=null),va.forEach(Fg),xa.forEach(Fg)}function Io(t,e){t.blockedOn===e&&(t.blockedOn=null,of||(of=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,QT)))}function wa(t){function e(i){return Io(i,t)}if(0<cl.length){Io(cl[0],t);for(var r=1;r<cl.length;r++){var n=cl[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Jn!==null&&Io(Jn,t),ei!==null&&Io(ei,t),ti!==null&&Io(ti,t),va.forEach(e),xa.forEach(e),r=0;r<Gn.length;r++)n=Gn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gn.length&&(r=Gn[0],r.blockedOn===null);)xv(r),r.blockedOn===null&&Gn.shift()}var zs=Bn.ReactCurrentBatchConfig,Pu=!0;function JT(t,e,r,n){var i=ye,s=zs.transition;zs.transition=null;try{ye=1,nm(t,e,r,n)}finally{ye=i,zs.transition=s}}function eS(t,e,r,n){var i=ye,s=zs.transition;zs.transition=null;try{ye=4,nm(t,e,r,n)}finally{ye=i,zs.transition=s}}function nm(t,e,r,n){if(Pu){var i=af(t,e,r,n);if(i===null)Hc(t,e,n,Iu,r),Ng(t,n);else if(ZT(i,t,e,r,n))n.stopPropagation();else if(Ng(t,n),e&4&&-1<KT.indexOf(t)){for(;i!==null;){var s=Ka(i);if(s!==null&&gv(s),s=af(t,e,r,n),s===null&&Hc(t,e,n,Iu,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Hc(t,e,n,null,r)}}var Iu=null;function af(t,e,r,n){if(Iu=null,t=Jp(n),t=Bi(t),t!==null)if(e=ns(t),e===null)t=null;else if(r=e.tag,r===13){if(t=lv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Iu=t,null}function wv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GT()){case em:return 1;case dv:return 4;case Cu:case $T:return 16;case fv:return 536870912;default:return 16}default:return 16}}var jn=null,im=null,eu=null;function Ev(){if(eu)return eu;var t,e=im,r=e.length,n,i="value"in jn?jn.value:jn.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return eu=i.slice(t,1<n?1-n:void 0)}function tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dl(){return!0}function Ug(){return!1}function tr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dl:Ug,this.isPropagationStopped=Ug,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sm=tr(xo),qa=Ne({},xo,{view:0,detail:0}),tS=tr(qa),Bc,Oc,Ro,Eh=Ne({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ro&&(Ro&&t.type==="mousemove"?(Bc=t.screenX-Ro.screenX,Oc=t.screenY-Ro.screenY):Oc=Bc=0,Ro=t),Bc)},movementY:function(t){return"movementY"in t?t.movementY:Oc}}),zg=tr(Eh),rS=Ne({},Eh,{dataTransfer:0}),nS=tr(rS),iS=Ne({},qa,{relatedTarget:0}),Lc=tr(iS),sS=Ne({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),oS=tr(sS),aS=Ne({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lS=tr(aS),uS=Ne({},xo,{data:0}),Gg=tr(uS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dS[t])?!!e[t]:!1}function om(){return fS}var pS=Ne({},qa,{key:function(t){if(t.key){var e=hS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(t){return t.type==="keypress"?tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mS=tr(pS),gS=Ne({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=tr(gS),_S=Ne({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),yS=tr(_S),vS=Ne({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),xS=tr(vS),wS=Ne({},Eh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ES=tr(wS),TS=[9,13,27,32],am=An&&"CompositionEvent"in window,na=null;An&&"documentMode"in document&&(na=document.documentMode);var SS=An&&"TextEvent"in window&&!na,Tv=An&&(!am||na&&8<na&&11>=na),Hg=String.fromCharCode(32),Vg=!1;function Sv(t,e){switch(t){case"keyup":return TS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function bS(t,e){switch(t){case"compositionend":return bv(e);case"keypress":return e.which!==32?null:(Vg=!0,Hg);case"textInput":return t=e.data,t===Hg&&Vg?null:t;default:return null}}function CS(t,e){if(xs)return t==="compositionend"||!am&&Sv(t,e)?(t=Ev(),eu=im=jn=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tv&&e.locale!=="ko"?null:e.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AS[t.type]:e==="textarea"}function Cv(t,e,r,n){nv(n),e=Ru(e,"onChange"),0<e.length&&(r=new sm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ia=null,Ea=null;function PS(t){Nv(t,0)}function Th(t){var e=Ts(t);if(Ky(e))return t}function IS(t,e){if(t==="change")return e}var Av=!1;if(An){var Nc;if(An){var Fc="oninput"in document;if(!Fc){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Fc=typeof Xg.oninput=="function"}Nc=Fc}else Nc=!1;Av=Nc&&(!document.documentMode||9<document.documentMode)}function Wg(){ia&&(ia.detachEvent("onpropertychange",Pv),Ea=ia=null)}function Pv(t){if(t.propertyName==="value"&&Th(Ea)){var e=[];Cv(e,Ea,t,Jp(t)),av(PS,e)}}function RS(t,e,r){t==="focusin"?(Wg(),ia=e,Ea=r,ia.attachEvent("onpropertychange",Pv)):t==="focusout"&&Wg()}function kS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Th(Ea)}function MS(t,e){if(t==="click")return Th(e)}function DS(t,e){if(t==="input"||t==="change")return Th(e)}function BS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $r=typeof Object.is=="function"?Object.is:BS;function Ta(t,e){if($r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$d.call(e,i)||!$r(t[i],e[i]))return!1}return!0}function Yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qg(t,e){var r=Yg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yg(r)}}function Iv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Iv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rv(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Tu(t.document)}return e}function lm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OS(t){var e=Rv(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Iv(r.ownerDocument.documentElement,r)){if(n!==null&&lm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=qg(r,s);var o=qg(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LS=An&&"documentMode"in document&&11>=document.documentMode,ws=null,lf=null,sa=null,uf=!1;function Kg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uf||ws==null||ws!==Tu(n)||(n=ws,"selectionStart"in n&&lm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sa&&Ta(sa,n)||(sa=n,n=Ru(lf,"onSelect"),0<n.length&&(e=new sm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ws)))}function fl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Es={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},Uc={},kv={};An&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Sh(t){if(Uc[t])return Uc[t];if(!Es[t])return t;var e=Es[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in kv)return Uc[t]=e[r];return t}var Mv=Sh("animationend"),Dv=Sh("animationiteration"),Bv=Sh("animationstart"),Ov=Sh("transitionend"),Lv=new Map,Zg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(t,e){Lv.set(t,e),rs(e,[t])}for(var zc=0;zc<Zg.length;zc++){var Gc=Zg[zc],NS=Gc.toLowerCase(),FS=Gc[0].toUpperCase()+Gc.slice(1);vi(NS,"on"+FS)}vi(Mv,"onAnimationEnd");vi(Dv,"onAnimationIteration");vi(Bv,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(Ov,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),US=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function Qg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,NT(n,e,void 0,t),t.currentTarget=null}function Nv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Qg(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Qg(i,a,u),s=l}}}if(bu)throw t=nf,bu=!1,nf=null,t}function Ce(t,e){var r=e[pf];r===void 0&&(r=e[pf]=new Set);var n=t+"__bubble";r.has(n)||(Fv(e,t,2,!1),r.add(n))}function $c(t,e,r){var n=0;e&&(n|=4),Fv(r,t,n,e)}var pl="_reactListening"+Math.random().toString(36).slice(2);function Sa(t){if(!t[pl]){t[pl]=!0,jy.forEach(function(r){r!=="selectionchange"&&(US.has(r)||$c(r,!1,t),$c(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pl]||(e[pl]=!0,$c("selectionchange",!1,e))}}function Fv(t,e,r,n){switch(wv(e)){case 1:var i=JT;break;case 4:i=eS;break;default:i=nm}r=i.bind(null,e,r,t),i=void 0,!rf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Hc(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bi(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}av(function(){var u=s,h=Jp(r),c=[];e:{var d=Lv.get(t);if(d!==void 0){var f=sm,p=t;switch(t){case"keypress":if(tu(r)===0)break e;case"keydown":case"keyup":f=mS;break;case"focusin":p="focus",f=Lc;break;case"focusout":p="blur",f=Lc;break;case"beforeblur":case"afterblur":f=Lc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=yS;break;case Mv:case Dv:case Bv:f=oS;break;case Ov:f=xS;break;case"scroll":f=tS;break;case"wheel":f=ES;break;case"copy":case"cut":case"paste":f=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=$g}var m=(e&4)!==0,v=!m&&t==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var _=u,g;_!==null;){g=_;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,y!==null&&(x=ya(_,y),x!=null&&m.push(ba(_,x,g)))),v)break;_=_.return}0<m.length&&(d=new f(d,p,null,r,h),c.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&r!==ef&&(p=r.relatedTarget||r.fromElement)&&(Bi(p)||p[Pn]))break e;if((f||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=u,p=p?Bi(p):null,p!==null&&(v=ns(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=zg,x="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(m=$g,x="onPointerLeave",y="onPointerEnter",_="pointer"),v=f==null?d:Ts(f),g=p==null?d:Ts(p),d=new m(x,_+"leave",f,r,h),d.target=v,d.relatedTarget=g,x=null,Bi(h)===u&&(m=new m(y,_+"enter",p,r,h),m.target=g,m.relatedTarget=v,x=m),v=x,f&&p)t:{for(m=f,y=p,_=0,g=m;g;g=ls(g))_++;for(g=0,x=y;x;x=ls(x))g++;for(;0<_-g;)m=ls(m),_--;for(;0<g-_;)y=ls(y),g--;for(;_--;){if(m===y||y!==null&&m===y.alternate)break t;m=ls(m),y=ls(y)}m=null}else m=null;f!==null&&Jg(c,d,f,m,!1),p!==null&&v!==null&&Jg(c,v,p,m,!0)}}e:{if(d=u?Ts(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var w=IS;else if(jg(d))if(Av)w=DS;else{w=kS;var S=RS}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=MS);if(w&&(w=w(t,u))){Cv(c,w,r,h);break e}S&&S(t,d,u),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&qd(d,"number",d.value)}switch(S=u?Ts(u):window,t){case"focusin":(jg(S)||S.contentEditable==="true")&&(ws=S,lf=u,sa=null);break;case"focusout":sa=lf=ws=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,Kg(c,r,h);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":Kg(c,r,h)}var T;if(am)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xs?Sv(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Tv&&r.locale!=="ko"&&(xs||E!=="onCompositionStart"?E==="onCompositionEnd"&&xs&&(T=Ev()):(jn=h,im="value"in jn?jn.value:jn.textContent,xs=!0)),S=Ru(u,E),0<S.length&&(E=new Gg(E,t,null,r,h),c.push({event:E,listeners:S}),T?E.data=T:(T=bv(r),T!==null&&(E.data=T)))),(T=SS?bS(t,r):CS(t,r))&&(u=Ru(u,"onBeforeInput"),0<u.length&&(h=new Gg("onBeforeInput","beforeinput",null,r,h),c.push({event:h,listeners:u}),h.data=T))}Nv(c,e)})}function ba(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ru(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ya(t,r),s!=null&&n.unshift(ba(t,s,i)),s=ya(t,e),s!=null&&n.push(ba(t,s,i))),t=t.return}return n}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jg(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=ya(r,s),l!=null&&o.unshift(ba(r,l,a))):i||(l=ya(r,s),l!=null&&o.push(ba(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var zS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function e0(t){return(typeof t=="string"?t:""+t).replace(zS,`
`).replace(GS,"")}function ml(t,e,r){if(e=e0(e),e0(t)!==e&&r)throw Error(N(425))}function ku(){}var hf=null,cf=null;function df(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ff=typeof setTimeout=="function"?setTimeout:void 0,$S=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(t){return t0.resolve(null).then(t).catch(VS)}:ff;function VS(t){setTimeout(function(){throw t})}function Vc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),wa(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wa(e)}function ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function r0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Zr="__reactFiber$"+wo,Ca="__reactProps$"+wo,Pn="__reactContainer$"+wo,pf="__reactEvents$"+wo,jS="__reactListeners$"+wo,XS="__reactHandles$"+wo;function Bi(t){var e=t[Zr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pn]||r[Zr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=r0(t);t!==null;){if(r=t[Zr])return r;t=r0(t)}return e}t=r,r=t.parentNode}return null}function Ka(t){return t=t[Zr]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ts(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function bh(t){return t[Ca]||null}var mf=[],Ss=-1;function xi(t){return{current:t}}function Ae(t){0>Ss||(t.current=mf[Ss],mf[Ss]=null,Ss--)}function Se(t,e){Ss++,mf[Ss]=t.current,t.current=e}var di={},Ct=xi(di),Ot=xi(!1),Xi=di;function eo(t,e){var r=t.type.contextTypes;if(!r)return di;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(t){return t=t.childContextTypes,t!=null}function Mu(){Ae(Ot),Ae(Ct)}function n0(t,e,r){if(Ct.current!==di)throw Error(N(168));Se(Ct,e),Se(Ot,r)}function Uv(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(N(108,RT(t)||"Unknown",i));return Ne({},r,n)}function Du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Xi=Ct.current,Se(Ct,t),Se(Ot,Ot.current),!0}function i0(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=Uv(t,e,Xi),n.__reactInternalMemoizedMergedChildContext=t,Ae(Ot),Ae(Ct),Se(Ct,t)):Ae(Ot),Se(Ot,r)}var vn=null,Ch=!1,jc=!1;function zv(t){vn===null?vn=[t]:vn.push(t)}function WS(t){Ch=!0,zv(t)}function wi(){if(!jc&&vn!==null){jc=!0;var t=0,e=ye;try{var r=vn;for(ye=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}vn=null,Ch=!1}catch(i){throw vn!==null&&(vn=vn.slice(t+1)),cv(em,wi),i}finally{ye=e,jc=!1}}return null}var bs=[],Cs=0,Bu=null,Ou=0,sr=[],or=0,Wi=null,wn=1,En="";function Ai(t,e){bs[Cs++]=Ou,bs[Cs++]=Bu,Bu=t,Ou=e}function Gv(t,e,r){sr[or++]=wn,sr[or++]=En,sr[or++]=Wi,Wi=t;var n=wn;t=En;var i=32-Lr(n)-1;n&=~(1<<i),r+=1;var s=32-Lr(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,wn=1<<32-Lr(e)+i|r<<i|n,En=s+t}else wn=1<<s|r<<i|n,En=t}function um(t){t.return!==null&&(Ai(t,1),Gv(t,1,0))}function hm(t){for(;t===Bu;)Bu=bs[--Cs],bs[Cs]=null,Ou=bs[--Cs],bs[Cs]=null;for(;t===Wi;)Wi=sr[--or],sr[or]=null,En=sr[--or],sr[or]=null,wn=sr[--or],sr[or]=null}var Kt=null,qt=null,Pe=!1,kr=null;function $v(t,e){var r=lr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function s0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,qt=ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Wi!==null?{id:wn,overflow:En}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=lr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Kt=t,qt=null,!0):!1;default:return!1}}function gf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _f(t){if(Pe){var e=qt;if(e){var r=e;if(!s0(t,e)){if(gf(t))throw Error(N(418));e=ri(r.nextSibling);var n=Kt;e&&s0(t,e)?$v(n,r):(t.flags=t.flags&-4097|2,Pe=!1,Kt=t)}}else{if(gf(t))throw Error(N(418));t.flags=t.flags&-4097|2,Pe=!1,Kt=t}}}function o0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function gl(t){if(t!==Kt)return!1;if(!Pe)return o0(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!df(t.type,t.memoizedProps)),e&&(e=qt)){if(gf(t))throw Hv(),Error(N(418));for(;e;)$v(t,e),e=ri(e.nextSibling)}if(o0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){qt=ri(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Kt?ri(t.stateNode.nextSibling):null;return!0}function Hv(){for(var t=qt;t;)t=ri(t.nextSibling)}function to(){qt=Kt=null,Pe=!1}function cm(t){kr===null?kr=[t]:kr.push(t)}var YS=Bn.ReactCurrentBatchConfig;function Ar(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Lu=xi(null),Nu=null,As=null,dm=null;function fm(){dm=As=Nu=null}function pm(t){var e=Lu.current;Ae(Lu),t._currentValue=e}function yf(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Gs(t,e){Nu=t,dm=As=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function gr(t){var e=t._currentValue;if(dm!==t)if(t={context:t,memoizedValue:e,next:null},As===null){if(Nu===null)throw Error(N(308));As=t,Nu.dependencies={lanes:0,firstContext:t}}else As=As.next=t;return e}var Oi=null;function mm(t){Oi===null?Oi=[t]:Oi.push(t)}function Vv(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,mm(e)):(r.next=i.next,i.next=r),e.interleaved=r,In(t,n)}function In(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var zn=!1;function gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,In(t,r)}return i=n.interleaved,i===null?(e.next=e,mm(n)):(e.next=i.next,i.next=e),n.interleaved=e,In(t,r)}function ru(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tm(t,r)}}function a0(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Fu(t,e,r,n){var i=t.updateQueue;zn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var c=i.baseState;o=0,h=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){c=p.call(f,c,d);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,c,d):p,d==null)break e;c=Ne({},c,d);break e;case 2:zn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=f,l=c):h=h.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(h===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qi|=o,t.lanes=o,t.memoizedState=c}}function l0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(N(191,i));i.call(n)}}}var Xv=new Vy.Component().refs;function vf(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ne({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ah={isMounted:function(t){return(t=t._reactInternals)?ns(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Pt(),i=si(t),s=Sn(n,i);s.payload=e,r!=null&&(s.callback=r),e=ni(t,s,i),e!==null&&(Nr(e,t,i,n),ru(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Pt(),i=si(t),s=Sn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ni(t,s,i),e!==null&&(Nr(e,t,i,n),ru(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pt(),n=si(t),i=Sn(r,n);i.tag=2,e!=null&&(i.callback=e),e=ni(t,i,n),e!==null&&(Nr(e,t,n,r),ru(e,t,n))}};function u0(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ta(r,n)||!Ta(i,s):!0}function Wv(t,e,r){var n=!1,i=di,s=e.contextType;return typeof s=="object"&&s!==null?s=gr(s):(i=Lt(e)?Xi:Ct.current,n=e.contextTypes,s=(n=n!=null)?eo(t,i):di),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ah,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function h0(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ah.enqueueReplaceState(e,e.state,null)}function xf(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Xv,gm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gr(s):(s=Lt(e)?Xi:Ct.current,i.context=eo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vf(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ah.enqueueReplaceState(i,i.state,null),Fu(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Xv&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function _l(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c0(t){var e=t._init;return e(t._payload)}function Yv(t){function e(y,_){if(t){var g=y.deletions;g===null?(y.deletions=[_],y.flags|=16):g.push(_)}}function r(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function n(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=oi(y,_),y.index=0,y.sibling=null,y}function s(y,_,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<_?(y.flags|=2,_):g):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,g,x){return _===null||_.tag!==6?(_=Qc(g,y.mode,x),_.return=y,_):(_=i(_,g),_.return=y,_)}function l(y,_,g,x){var w=g.type;return w===vs?h(y,_,g.props.children,x,g.key):_!==null&&(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Un&&c0(w)===_.type)?(x=i(_,g.props),x.ref=ko(y,_,g),x.return=y,x):(x=lu(g.type,g.key,g.props,null,y.mode,x),x.ref=ko(y,_,g),x.return=y,x)}function u(y,_,g,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==g.containerInfo||_.stateNode.implementation!==g.implementation?(_=Jc(g,y.mode,x),_.return=y,_):(_=i(_,g.children||[]),_.return=y,_)}function h(y,_,g,x,w){return _===null||_.tag!==7?(_=zi(g,y.mode,x,w),_.return=y,_):(_=i(_,g),_.return=y,_)}function c(y,_,g){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Qc(""+_,y.mode,g),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ol:return g=lu(_.type,_.key,_.props,null,y.mode,g),g.ref=ko(y,null,_),g.return=y,g;case ys:return _=Jc(_,y.mode,g),_.return=y,_;case Un:var x=_._init;return c(y,x(_._payload),g)}if(Ho(_)||Co(_))return _=zi(_,y.mode,g,null),_.return=y,_;_l(y,_)}return null}function d(y,_,g,x){var w=_!==null?_.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:a(y,_,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ol:return g.key===w?l(y,_,g,x):null;case ys:return g.key===w?u(y,_,g,x):null;case Un:return w=g._init,d(y,_,w(g._payload),x)}if(Ho(g)||Co(g))return w!==null?null:h(y,_,g,x,null);_l(y,g)}return null}function f(y,_,g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(g)||null,a(_,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ol:return y=y.get(x.key===null?g:x.key)||null,l(_,y,x,w);case ys:return y=y.get(x.key===null?g:x.key)||null,u(_,y,x,w);case Un:var S=x._init;return f(y,_,g,S(x._payload),w)}if(Ho(x)||Co(x))return y=y.get(g)||null,h(_,y,x,w,null);_l(_,x)}return null}function p(y,_,g,x){for(var w=null,S=null,T=_,E=_=0,b=null;T!==null&&E<g.length;E++){T.index>E?(b=T,T=null):b=T.sibling;var C=d(y,T,g[E],x);if(C===null){T===null&&(T=b);break}t&&T&&C.alternate===null&&e(y,T),_=s(C,_,E),S===null?w=C:S.sibling=C,S=C,T=b}if(E===g.length)return r(y,T),Pe&&Ai(y,E),w;if(T===null){for(;E<g.length;E++)T=c(y,g[E],x),T!==null&&(_=s(T,_,E),S===null?w=T:S.sibling=T,S=T);return Pe&&Ai(y,E),w}for(T=n(y,T);E<g.length;E++)b=f(T,y,E,g[E],x),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?E:b.key),_=s(b,_,E),S===null?w=b:S.sibling=b,S=b);return t&&T.forEach(function(R){return e(y,R)}),Pe&&Ai(y,E),w}function m(y,_,g,x){var w=Co(g);if(typeof w!="function")throw Error(N(150));if(g=w.call(g),g==null)throw Error(N(151));for(var S=w=null,T=_,E=_=0,b=null,C=g.next();T!==null&&!C.done;E++,C=g.next()){T.index>E?(b=T,T=null):b=T.sibling;var R=d(y,T,C.value,x);if(R===null){T===null&&(T=b);break}t&&T&&R.alternate===null&&e(y,T),_=s(R,_,E),S===null?w=R:S.sibling=R,S=R,T=b}if(C.done)return r(y,T),Pe&&Ai(y,E),w;if(T===null){for(;!C.done;E++,C=g.next())C=c(y,C.value,x),C!==null&&(_=s(C,_,E),S===null?w=C:S.sibling=C,S=C);return Pe&&Ai(y,E),w}for(T=n(y,T);!C.done;E++,C=g.next())C=f(T,y,E,C.value,x),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?E:C.key),_=s(C,_,E),S===null?w=C:S.sibling=C,S=C);return t&&T.forEach(function(G){return e(y,G)}),Pe&&Ai(y,E),w}function v(y,_,g,x){if(typeof g=="object"&&g!==null&&g.type===vs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ol:e:{for(var w=g.key,S=_;S!==null;){if(S.key===w){if(w=g.type,w===vs){if(S.tag===7){r(y,S.sibling),_=i(S,g.props.children),_.return=y,y=_;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Un&&c0(w)===S.type){r(y,S.sibling),_=i(S,g.props),_.ref=ko(y,S,g),_.return=y,y=_;break e}r(y,S);break}else e(y,S);S=S.sibling}g.type===vs?(_=zi(g.props.children,y.mode,x,g.key),_.return=y,y=_):(x=lu(g.type,g.key,g.props,null,y.mode,x),x.ref=ko(y,_,g),x.return=y,y=x)}return o(y);case ys:e:{for(S=g.key;_!==null;){if(_.key===S)if(_.tag===4&&_.stateNode.containerInfo===g.containerInfo&&_.stateNode.implementation===g.implementation){r(y,_.sibling),_=i(_,g.children||[]),_.return=y,y=_;break e}else{r(y,_);break}else e(y,_);_=_.sibling}_=Jc(g,y.mode,x),_.return=y,y=_}return o(y);case Un:return S=g._init,v(y,_,S(g._payload),x)}if(Ho(g))return p(y,_,g,x);if(Co(g))return m(y,_,g,x);_l(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,_!==null&&_.tag===6?(r(y,_.sibling),_=i(_,g),_.return=y,y=_):(r(y,_),_=Qc(g,y.mode,x),_.return=y,y=_),o(y)):r(y,_)}return v}var ro=Yv(!0),qv=Yv(!1),Za={},sn=xi(Za),Aa=xi(Za),Pa=xi(Za);function Li(t){if(t===Za)throw Error(N(174));return t}function _m(t,e){switch(Se(Pa,e),Se(Aa,t),Se(sn,Za),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zd(e,t)}Ae(sn),Se(sn,e)}function no(){Ae(sn),Ae(Aa),Ae(Pa)}function Kv(t){Li(Pa.current);var e=Li(sn.current),r=Zd(e,t.type);e!==r&&(Se(Aa,t),Se(sn,r))}function ym(t){Aa.current===t&&(Ae(sn),Ae(Aa))}var Me=xi(0);function Uu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xc=[];function vm(){for(var t=0;t<Xc.length;t++)Xc[t]._workInProgressVersionPrimary=null;Xc.length=0}var nu=Bn.ReactCurrentDispatcher,Wc=Bn.ReactCurrentBatchConfig,Yi=0,Le=null,tt=null,it=null,zu=!1,oa=!1,Ia=0,qS=0;function vt(){throw Error(N(321))}function xm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!$r(t[r],e[r]))return!1;return!0}function wm(t,e,r,n,i,s){if(Yi=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nu.current=t===null||t.memoizedState===null?JS:eb,t=r(n,i),oa){s=0;do{if(oa=!1,Ia=0,25<=s)throw Error(N(301));s+=1,it=tt=null,e.updateQueue=null,nu.current=tb,t=r(n,i)}while(oa)}if(nu.current=Gu,e=tt!==null&&tt.next!==null,Yi=0,it=tt=Le=null,zu=!1,e)throw Error(N(300));return t}function Em(){var t=Ia!==0;return Ia=0,t}function Yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Le.memoizedState=it=t:it=it.next=t,it}function _r(){if(tt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=it===null?Le.memoizedState:it.next;if(e!==null)it=e,tt=t;else{if(t===null)throw Error(N(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},it===null?Le.memoizedState=it=t:it=it.next=t}return it}function Ra(t,e){return typeof e=="function"?e(t):e}function Yc(t){var e=_r(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=tt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Yi&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=n):l=l.next=c,Le.lanes|=h,qi|=h}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,$r(n,e.memoizedState)||(Bt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,qi|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function qc(t){var e=_r(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$r(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Zv(){}function Qv(t,e){var r=Le,n=_r(),i=e(),s=!$r(n.memoizedState,i);if(s&&(n.memoizedState=i,Bt=!0),n=n.queue,Tm(t1.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,ka(9,e1.bind(null,r,n,i,e),void 0,null),ot===null)throw Error(N(349));Yi&30||Jv(r,e,i)}return i}function Jv(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function e1(t,e,r,n){e.value=r,e.getSnapshot=n,r1(e)&&n1(t)}function t1(t,e,r){return r(function(){r1(e)&&n1(t)})}function r1(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!$r(t,r)}catch{return!0}}function n1(t){var e=In(t,1);e!==null&&Nr(e,t,1,-1)}function d0(t){var e=Yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:t},e.queue=t,t=t.dispatch=QS.bind(null,Le,t),[e.memoizedState,t]}function ka(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function i1(){return _r().memoizedState}function iu(t,e,r,n){var i=Yr();Le.flags|=t,i.memoizedState=ka(1|e,r,void 0,n===void 0?null:n)}function Ph(t,e,r,n){var i=_r();n=n===void 0?null:n;var s=void 0;if(tt!==null){var o=tt.memoizedState;if(s=o.destroy,n!==null&&xm(n,o.deps)){i.memoizedState=ka(e,r,s,n);return}}Le.flags|=t,i.memoizedState=ka(1|e,r,s,n)}function f0(t,e){return iu(8390656,8,t,e)}function Tm(t,e){return Ph(2048,8,t,e)}function s1(t,e){return Ph(4,2,t,e)}function o1(t,e){return Ph(4,4,t,e)}function a1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function l1(t,e,r){return r=r!=null?r.concat([t]):null,Ph(4,4,a1.bind(null,e,t),r)}function Sm(){}function u1(t,e){var r=_r();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function h1(t,e){var r=_r();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function c1(t,e,r){return Yi&21?($r(r,e)||(r=pv(),Le.lanes|=r,qi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=r)}function KS(t,e){var r=ye;ye=r!==0&&4>r?r:4,t(!0);var n=Wc.transition;Wc.transition={};try{t(!1),e()}finally{ye=r,Wc.transition=n}}function d1(){return _r().memoizedState}function ZS(t,e,r){var n=si(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},f1(t))p1(e,r);else if(r=Vv(t,e,r,n),r!==null){var i=Pt();Nr(r,t,n,i),m1(r,e,n)}}function QS(t,e,r){var n=si(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(f1(t))p1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,$r(a,o)){var l=e.interleaved;l===null?(i.next=i,mm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Vv(t,e,i,n),r!==null&&(i=Pt(),Nr(r,t,n,i),m1(r,e,n))}}function f1(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function p1(t,e){oa=zu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function m1(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tm(t,r)}}var Gu={readContext:gr,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},JS={readContext:gr,useCallback:function(t,e){return Yr().memoizedState=[t,e===void 0?null:e],t},useContext:gr,useEffect:f0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,iu(4194308,4,a1.bind(null,e,t),r)},useLayoutEffect:function(t,e){return iu(4194308,4,t,e)},useInsertionEffect:function(t,e){return iu(4,2,t,e)},useMemo:function(t,e){var r=Yr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Yr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ZS.bind(null,Le,t),[n.memoizedState,t]},useRef:function(t){var e=Yr();return t={current:t},e.memoizedState=t},useState:d0,useDebugValue:Sm,useDeferredValue:function(t){return Yr().memoizedState=t},useTransition:function(){var t=d0(!1),e=t[0];return t=KS.bind(null,t[1]),Yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Le,i=Yr();if(Pe){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),ot===null)throw Error(N(349));Yi&30||Jv(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,f0(t1.bind(null,n,s,t),[t]),n.flags|=2048,ka(9,e1.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Yr(),e=ot.identifierPrefix;if(Pe){var r=En,n=wn;r=(n&~(1<<32-Lr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ia++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=qS++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eb={readContext:gr,useCallback:u1,useContext:gr,useEffect:Tm,useImperativeHandle:l1,useInsertionEffect:s1,useLayoutEffect:o1,useMemo:h1,useReducer:Yc,useRef:i1,useState:function(){return Yc(Ra)},useDebugValue:Sm,useDeferredValue:function(t){var e=_r();return c1(e,tt.memoizedState,t)},useTransition:function(){var t=Yc(Ra)[0],e=_r().memoizedState;return[t,e]},useMutableSource:Zv,useSyncExternalStore:Qv,useId:d1,unstable_isNewReconciler:!1},tb={readContext:gr,useCallback:u1,useContext:gr,useEffect:Tm,useImperativeHandle:l1,useInsertionEffect:s1,useLayoutEffect:o1,useMemo:h1,useReducer:qc,useRef:i1,useState:function(){return qc(Ra)},useDebugValue:Sm,useDeferredValue:function(t){var e=_r();return tt===null?e.memoizedState=t:c1(e,tt.memoizedState,t)},useTransition:function(){var t=qc(Ra)[0],e=_r().memoizedState;return[t,e]},useMutableSource:Zv,useSyncExternalStore:Qv,useId:d1,unstable_isNewReconciler:!1};function io(t,e){try{var r="",n=e;do r+=IT(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Kc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wf(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var rb=typeof WeakMap=="function"?WeakMap:Map;function g1(t,e,r){r=Sn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Hu||(Hu=!0,kf=n),wf(t,e)},r}function _1(t,e,r){r=Sn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){wf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){wf(t,e),typeof n!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function p0(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new rb;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=gb.bind(null,t,e,r),e.then(t,t))}function m0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function g0(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Sn(-1,1),e.tag=2,ni(r,e,1))),r.lanes|=1),t)}var nb=Bn.ReactCurrentOwner,Bt=!1;function At(t,e,r,n){e.child=t===null?qv(e,null,r,n):ro(e,t.child,r,n)}function _0(t,e,r,n,i){r=r.render;var s=e.ref;return Gs(e,i),n=wm(t,e,r,n,s,i),r=Em(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rn(t,e,i)):(Pe&&r&&um(e),e.flags|=1,At(t,e,n,i),e.child)}function y0(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Mm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,y1(t,e,s,n,i)):(t=lu(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ta,r(o,n)&&t.ref===e.ref)return Rn(t,e,i)}return e.flags|=1,t=oi(s,n),t.ref=e.ref,t.return=e,e.child=t}function y1(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ta(s,n)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Rn(t,e,i)}return Ef(t,e,r,n,i)}function v1(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Is,Xt),Xt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Is,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Se(Is,Xt),Xt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Se(Is,Xt),Xt|=n;return At(t,e,i,r),e.child}function x1(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ef(t,e,r,n,i){var s=Lt(r)?Xi:Ct.current;return s=eo(e,s),Gs(e,i),r=wm(t,e,r,n,s,i),n=Em(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rn(t,e,i)):(Pe&&n&&um(e),e.flags|=1,At(t,e,r,i),e.child)}function v0(t,e,r,n,i){if(Lt(r)){var s=!0;Du(e)}else s=!1;if(Gs(e,i),e.stateNode===null)su(t,e),Wv(e,r,n),xf(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=Lt(r)?Xi:Ct.current,u=eo(e,u));var h=r.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&h0(e,o,n,u),zn=!1;var d=e.memoizedState;o.state=d,Fu(e,n,o,i),l=e.memoizedState,a!==n||d!==l||Ot.current||zn?(typeof h=="function"&&(vf(e,r,h,n),l=e.memoizedState),(a=zn||u0(e,r,a,n,d,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,jv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ar(e.type,a),o.props=u,c=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=gr(l):(l=Lt(r)?Xi:Ct.current,l=eo(e,l));var f=r.getDerivedStateFromProps;(h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||d!==l)&&h0(e,o,n,l),zn=!1,d=e.memoizedState,o.state=d,Fu(e,n,o,i);var p=e.memoizedState;a!==c||d!==p||Ot.current||zn?(typeof f=="function"&&(vf(e,r,f,n),p=e.memoizedState),(u=zn||u0(e,r,u,n,d,p,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Tf(t,e,r,n,s,i)}function Tf(t,e,r,n,i,s){x1(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&i0(e,r,!1),Rn(t,e,s);n=e.stateNode,nb.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ro(e,t.child,null,s),e.child=ro(e,null,a,s)):At(t,e,a,s),e.memoizedState=n.state,i&&i0(e,r,!0),e.child}function w1(t){var e=t.stateNode;e.pendingContext?n0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n0(t,e.context,!1),_m(t,e.containerInfo)}function x0(t,e,r,n,i){return to(),cm(i),e.flags|=256,At(t,e,r,n),e.child}var Sf={dehydrated:null,treeContext:null,retryLane:0};function bf(t){return{baseLanes:t,cachePool:null,transitions:null}}function E1(t,e,r){var n=e.pendingProps,i=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(Me,i&1),t===null)return _f(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=kh(o,n,0,null),t=zi(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=bf(r),e.memoizedState=Sf,t):bm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ib(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=oi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oi(a,s):(s=zi(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?bf(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Sf,n}return s=t.child,t=s.sibling,n=oi(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function bm(t,e){return e=kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yl(t,e,r,n){return n!==null&&cm(n),ro(e,t.child,null,r),t=bm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ib(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Kc(Error(N(422))),yl(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=kh({mode:"visible",children:n.children},i,0,null),s=zi(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ro(e,t.child,null,o),e.child.memoizedState=bf(o),e.memoizedState=Sf,s);if(!(e.mode&1))return yl(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(N(419)),n=Kc(s,n,void 0),yl(t,e,o,n)}if(a=(o&t.childLanes)!==0,Bt||a){if(n=ot,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,In(t,i),Nr(n,t,i,-1))}return km(),n=Kc(Error(N(421))),yl(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_b.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=ri(i.nextSibling),Kt=e,Pe=!0,kr=null,t!==null&&(sr[or++]=wn,sr[or++]=En,sr[or++]=Wi,wn=t.id,En=t.overflow,Wi=e),e=bm(e,n.children),e.flags|=4096,e)}function w0(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),yf(t.return,e,r)}function Zc(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function T1(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(At(t,e,n.children,r),n=Me.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w0(t,r,e);else if(t.tag===19)w0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Se(Me,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Uu(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Zc(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uu(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Zc(e,!0,r,null,s);break;case"together":Zc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function su(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),qi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=oi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=oi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function sb(t,e,r){switch(e.tag){case 3:w1(e),to();break;case 5:Kv(e);break;case 1:Lt(e.type)&&Du(e);break;case 4:_m(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Se(Lu,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Se(Me,Me.current&1),e.flags|=128,null):r&e.child.childLanes?E1(t,e,r):(Se(Me,Me.current&1),t=Rn(t,e,r),t!==null?t.sibling:null);Se(Me,Me.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return T1(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Me,Me.current),n)break;return null;case 22:case 23:return e.lanes=0,v1(t,e,r)}return Rn(t,e,r)}var S1,Cf,b1,C1;S1=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cf=function(){};b1=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Li(sn.current);var s=null;switch(r){case"input":i=Wd(t,i),n=Wd(t,n),s=[];break;case"select":i=Ne({},i,{value:void 0}),n=Ne({},n,{value:void 0}),s=[];break;case"textarea":i=Kd(t,i),n=Kd(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ku)}Qd(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ga.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i?.[u],n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ga.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};C1=function(t,e,r,n){r!==n&&(e.flags|=4)};function Mo(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ob(t,e,r){var n=e.pendingProps;switch(hm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Lt(e.type)&&Mu(),xt(e),null;case 3:return n=e.stateNode,no(),Ae(Ot),Ae(Ct),vm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(gl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kr!==null&&(Bf(kr),kr=null))),Cf(t,e),xt(e),null;case 5:ym(e);var i=Li(Pa.current);if(r=e.type,t!==null&&e.stateNode!=null)b1(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return xt(e),null}if(t=Li(sn.current),gl(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Zr]=e,n[Ca]=s,t=(e.mode&1)!==0,r){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(i=0;i<jo.length;i++)Ce(jo[i],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Rg(n,s),Ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",n);break;case"textarea":Mg(n,s),Ce("invalid",n)}Qd(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&ml(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ml(n.textContent,a,t),i=["children",""+a]):ga.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",n)}switch(r){case"input":al(n),kg(n,s,!0);break;case"textarea":al(n),Dg(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ku)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jy(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Zr]=e,t[Ca]=n,S1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jd(r,n),r){case"dialog":Ce("cancel",t),Ce("close",t),i=n;break;case"iframe":case"object":case"embed":Ce("load",t),i=n;break;case"video":case"audio":for(i=0;i<jo.length;i++)Ce(jo[i],t);i=n;break;case"source":Ce("error",t),i=n;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=n;break;case"details":Ce("toggle",t),i=n;break;case"input":Rg(t,n),i=Wd(t,n),Ce("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ne({},n,{value:void 0}),Ce("invalid",t);break;case"textarea":Mg(t,n),i=Kd(t,n),Ce("invalid",t);break;default:i=n}Qd(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?rv(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ev(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_a(t,l):typeof l=="number"&&_a(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ga.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ce("scroll",t):l!=null&&qp(t,s,l,o))}switch(r){case"input":al(t),kg(t,n,!1);break;case"textarea":al(t),Dg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ci(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ns(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ns(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ku)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)C1(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=Li(Pa.current),Li(sn.current),gl(e)){if(n=e.stateNode,r=e.memoizedProps,n[Zr]=e,(s=n.nodeValue!==r)&&(t=Kt,t!==null))switch(t.tag){case 3:ml(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ml(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zr]=e,e.stateNode=n}return xt(e),null;case 13:if(Ae(Me),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&qt!==null&&e.mode&1&&!(e.flags&128))Hv(),to(),e.flags|=98560,s=!1;else if(s=gl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Zr]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),s=!1}else kr!==null&&(Bf(kr),kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?nt===0&&(nt=3):km())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return no(),Cf(t,e),t===null&&Sa(e.stateNode.containerInfo),xt(e),null;case 10:return pm(e.type._context),xt(e),null;case 17:return Lt(e.type)&&Mu(),xt(e),null;case 19:if(Ae(Me),s=e.memoizedState,s===null)return xt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Mo(s,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Uu(t),o!==null){for(e.flags|=128,Mo(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Se(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>so&&(e.flags|=128,n=!0,Mo(s,!1),e.lanes=4194304)}else{if(!n)if(t=Uu(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Mo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return xt(e),null}else 2*Ye()-s.renderingStartTime>so&&r!==1073741824&&(e.flags|=128,n=!0,Mo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,r=Me.current,Se(Me,n?r&1|2:r&1),e):(xt(e),null);case 22:case 23:return Rm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Xt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function ab(t,e){switch(hm(e),e.tag){case 1:return Lt(e.type)&&Mu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return no(),Ae(Ot),Ae(Ct),vm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ym(e),null;case 13:if(Ae(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(Me),null;case 4:return no(),null;case 10:return pm(e.type._context),null;case 22:case 23:return Rm(),null;case 24:return null;default:return null}}var vl=!1,wt=!1,lb=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ps(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ge(t,e,n)}else r.current=null}function Af(t,e,r){try{r()}catch(n){Ge(t,e,n)}}var E0=!1;function ub(t,e){if(hf=Pu,t=Rv(),lm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,h=0,c=t,d=null;t:for(;;){for(var f;c!==r||i!==0&&c.nodeType!==3||(a=o+i),c!==s||n!==0&&c.nodeType!==3||(l=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(f=c.firstChild)!==null;)d=c,c=f;for(;;){if(c===t)break t;if(d===r&&++u===i&&(a=o),d===s&&++h===n&&(l=o),(f=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(cf={focusedElem:t,selectionRange:r},Pu=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ar(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){Ge(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return p=E0,E0=!1,p}function aa(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Af(e,r,s)}i=i.next}while(i!==n)}}function Ih(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Pf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function A1(t){var e=t.alternate;e!==null&&(t.alternate=null,A1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zr],delete e[Ca],delete e[pf],delete e[jS],delete e[XS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function P1(t){return t.tag===5||t.tag===3||t.tag===4}function T0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function If(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ku));else if(n!==4&&(t=t.child,t!==null))for(If(t,e,r),t=t.sibling;t!==null;)If(t,e,r),t=t.sibling}function Rf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Rf(t,e,r),t=t.sibling;t!==null;)Rf(t,e,r),t=t.sibling}var ht=null,Ir=!1;function Nn(t,e,r){for(r=r.child;r!==null;)I1(t,e,r),r=r.sibling}function I1(t,e,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(wh,r)}catch{}switch(r.tag){case 5:wt||Ps(r,e);case 6:var n=ht,i=Ir;ht=null,Nn(t,e,r),ht=n,Ir=i,ht!==null&&(Ir?(t=ht,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(Ir?(t=ht,r=r.stateNode,t.nodeType===8?Vc(t.parentNode,r):t.nodeType===1&&Vc(t,r),wa(t)):Vc(ht,r.stateNode));break;case 4:n=ht,i=Ir,ht=r.stateNode.containerInfo,Ir=!0,Nn(t,e,r),ht=n,Ir=i;break;case 0:case 11:case 14:case 15:if(!wt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Af(r,e,o),i=i.next}while(i!==n)}Nn(t,e,r);break;case 1:if(!wt&&(Ps(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ge(r,e,a)}Nn(t,e,r);break;case 21:Nn(t,e,r);break;case 22:r.mode&1?(wt=(n=wt)||r.memoizedState!==null,Nn(t,e,r),wt=n):Nn(t,e,r);break;default:Nn(t,e,r)}}function S0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new lb),e.forEach(function(n){var i=yb.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Ir=!1;break e;case 3:ht=a.stateNode.containerInfo,Ir=!0;break e;case 4:ht=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if(ht===null)throw Error(N(160));I1(s,o,i),ht=null,Ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)R1(e,t),e=e.sibling}function R1(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(e,t),jr(t),n&4){try{aa(3,t,t.return),Ih(3,t)}catch(m){Ge(t,t.return,m)}try{aa(5,t,t.return)}catch(m){Ge(t,t.return,m)}}break;case 1:wr(e,t),jr(t),n&512&&r!==null&&Ps(r,r.return);break;case 5:if(wr(e,t),jr(t),n&512&&r!==null&&Ps(r,r.return),t.flags&32){var i=t.stateNode;try{_a(i,"")}catch(m){Ge(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Zy(i,s),Jd(a,o);var u=Jd(a,s);for(o=0;o<l.length;o+=2){var h=l[o],c=l[o+1];h==="style"?rv(i,c):h==="dangerouslySetInnerHTML"?ev(i,c):h==="children"?_a(i,c):qp(i,h,c,u)}switch(a){case"input":Yd(i,s);break;case"textarea":Qy(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ns(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ns(i,!!s.multiple,s.defaultValue,!0):Ns(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ca]=s}catch(m){Ge(t,t.return,m)}}break;case 6:if(wr(e,t),jr(t),n&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ge(t,t.return,m)}}break;case 3:if(wr(e,t),jr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wa(e.containerInfo)}catch(m){Ge(t,t.return,m)}break;case 4:wr(e,t),jr(t);break;case 13:wr(e,t),jr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pm=Ye())),n&4&&S0(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(wt=(u=wt)||h,wr(e,t),wt=u):wr(e,t),jr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(c=Y=h;Y!==null;){switch(d=Y,f=d.child,d.tag){case 0:case 11:case 14:case 15:aa(4,d,d.return);break;case 1:Ps(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ge(n,r,m)}}break;case 5:Ps(d,d.return);break;case 22:if(d.memoizedState!==null){C0(c);continue}}f!==null?(f.return=d,Y=f):C0(c)}h=h.sibling}e:for(h=null,c=t;;){if(c.tag===5){if(h===null){h=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tv("display",o))}catch(m){Ge(t,t.return,m)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(m){Ge(t,t.return,m)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:wr(e,t),jr(t),n&4&&S0(t);break;case 21:break;default:wr(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(P1(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_a(i,""),n.flags&=-33);var s=T0(t);Rf(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=T0(t);If(t,a,o);break;default:throw Error(N(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hb(t,e,r){Y=t,k1(t)}function k1(t,e,r){for(var n=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||vl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||wt;a=vl;var u=wt;if(vl=o,(wt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?A0(i):l!==null?(l.return=o,Y=l):A0(i);for(;s!==null;)Y=s,k1(s),s=s.sibling;Y=i,vl=a,wt=u}b0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):b0(t)}}function b0(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wt||Ih(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!wt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ar(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&l0(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}l0(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&wa(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}wt||e.flags&512&&Pf(e)}catch(d){Ge(e,e.return,d)}}if(e===t){Y=null;break}if(r=e.sibling,r!==null){r.return=e.return,Y=r;break}Y=e.return}}function C0(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Y=r;break}Y=e.return}}function A0(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ih(4,e)}catch(l){Ge(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{Pf(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{Pf(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var cb=Math.ceil,$u=Bn.ReactCurrentDispatcher,Cm=Bn.ReactCurrentOwner,pr=Bn.ReactCurrentBatchConfig,me=0,ot=null,Qe=null,gt=0,Xt=0,Is=xi(0),nt=0,Ma=null,qi=0,Rh=0,Am=0,la=null,Mt=null,Pm=0,so=1/0,_n=null,Hu=!1,kf=null,ii=null,xl=!1,Xn=null,Vu=0,ua=0,Mf=null,ou=-1,au=0;function Pt(){return me&6?Ye():ou!==-1?ou:ou=Ye()}function si(t){return t.mode&1?me&2&&gt!==0?gt&-gt:YS.transition!==null?(au===0&&(au=pv()),au):(t=ye,t!==0||(t=window.event,t=t===void 0?16:wv(t.type)),t):1}function Nr(t,e,r,n){if(50<ua)throw ua=0,Mf=null,Error(N(185));Ya(t,r,n),(!(me&2)||t!==ot)&&(t===ot&&(!(me&2)&&(Rh|=r),nt===4&&$n(t,gt)),Nt(t,n),r===1&&me===0&&!(e.mode&1)&&(so=Ye()+500,Ch&&wi()))}function Nt(t,e){var r=t.callbackNode;YT(t,e);var n=Au(t,t===ot?gt:0);if(n===0)r!==null&&Lg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Lg(r),e===1)t.tag===0?WS(P0.bind(null,t)):zv(P0.bind(null,t)),HS(function(){!(me&6)&&wi()}),r=null;else{switch(mv(n)){case 1:r=em;break;case 4:r=dv;break;case 16:r=Cu;break;case 536870912:r=fv;break;default:r=Cu}r=U1(r,M1.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function M1(t,e){if(ou=-1,au=0,me&6)throw Error(N(327));var r=t.callbackNode;if($s()&&t.callbackNode!==r)return null;var n=Au(t,t===ot?gt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ju(t,n);else{e=n;var i=me;me|=2;var s=B1();(ot!==t||gt!==e)&&(_n=null,so=Ye()+500,Ui(t,e));do try{pb();break}catch(a){D1(t,a)}while(1);fm(),$u.current=s,me=i,Qe!==null?e=0:(ot=null,gt=0,e=nt)}if(e!==0){if(e===2&&(i=sf(t),i!==0&&(n=i,e=Df(t,i))),e===1)throw r=Ma,Ui(t,0),$n(t,n),Nt(t,Ye()),r;if(e===6)$n(t,n);else{if(i=t.current.alternate,!(n&30)&&!db(i)&&(e=ju(t,n),e===2&&(s=sf(t),s!==0&&(n=s,e=Df(t,s))),e===1))throw r=Ma,Ui(t,0),$n(t,n),Nt(t,Ye()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:Pi(t,Mt,_n);break;case 3:if($n(t,n),(n&130023424)===n&&(e=Pm+500-Ye(),10<e)){if(Au(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ff(Pi.bind(null,t,Mt,_n),e);break}Pi(t,Mt,_n);break;case 4:if($n(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Lr(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cb(n/1960))-n,10<n){t.timeoutHandle=ff(Pi.bind(null,t,Mt,_n),n);break}Pi(t,Mt,_n);break;case 5:Pi(t,Mt,_n);break;default:throw Error(N(329))}}}return Nt(t,Ye()),t.callbackNode===r?M1.bind(null,t):null}function Df(t,e){var r=la;return t.current.memoizedState.isDehydrated&&(Ui(t,e).flags|=256),t=ju(t,e),t!==2&&(e=Mt,Mt=r,e!==null&&Bf(e)),t}function Bf(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function db(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!$r(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $n(t,e){for(e&=~Am,e&=~Rh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Lr(e),n=1<<r;t[r]=-1,e&=~n}}function P0(t){if(me&6)throw Error(N(327));$s();var e=Au(t,0);if(!(e&1))return Nt(t,Ye()),null;var r=ju(t,e);if(t.tag!==0&&r===2){var n=sf(t);n!==0&&(e=n,r=Df(t,n))}if(r===1)throw r=Ma,Ui(t,0),$n(t,e),Nt(t,Ye()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pi(t,Mt,_n),Nt(t,Ye()),null}function Im(t,e){var r=me;me|=1;try{return t(e)}finally{me=r,me===0&&(so=Ye()+500,Ch&&wi())}}function Ki(t){Xn!==null&&Xn.tag===0&&!(me&6)&&$s();var e=me;me|=1;var r=pr.transition,n=ye;try{if(pr.transition=null,ye=1,t)return t()}finally{ye=n,pr.transition=r,me=e,!(me&6)&&wi()}}function Rm(){Xt=Is.current,Ae(Is)}function Ui(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$S(r)),Qe!==null)for(r=Qe.return;r!==null;){var n=r;switch(hm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mu();break;case 3:no(),Ae(Ot),Ae(Ct),vm();break;case 5:ym(n);break;case 4:no();break;case 13:Ae(Me);break;case 19:Ae(Me);break;case 10:pm(n.type._context);break;case 22:case 23:Rm()}r=r.return}if(ot=t,Qe=t=oi(t.current,null),gt=Xt=e,nt=0,Ma=null,Am=Rh=qi=0,Mt=la=null,Oi!==null){for(e=0;e<Oi.length;e++)if(r=Oi[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Oi=null}return t}function D1(t,e){do{var r=Qe;try{if(fm(),nu.current=Gu,zu){for(var n=Le.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zu=!1}if(Yi=0,it=tt=Le=null,oa=!1,Ia=0,Cm.current=null,r===null||r.return===null){nt=1,Ma=e,Qe=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=m0(o);if(f!==null){f.flags&=-257,g0(f,o,a,s,e),f.mode&1&&p0(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){p0(s,u,e),km();break e}l=Error(N(426))}}else if(Pe&&a.mode&1){var v=m0(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),g0(v,o,a,s,e),cm(io(l,a));break e}}s=l=io(l,a),nt!==4&&(nt=2),la===null?la=[s]:la.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=g1(s,l,e);a0(s,y);break e;case 1:a=l;var _=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ii===null||!ii.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=_1(s,a,e);a0(s,x);break e}}s=s.return}while(s!==null)}L1(r)}catch(w){e=w,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(1)}function B1(){var t=$u.current;return $u.current=Gu,t===null?Gu:t}function km(){(nt===0||nt===3||nt===2)&&(nt=4),ot===null||!(qi&268435455)&&!(Rh&268435455)||$n(ot,gt)}function ju(t,e){var r=me;me|=2;var n=B1();(ot!==t||gt!==e)&&(_n=null,Ui(t,e));do try{fb();break}catch(i){D1(t,i)}while(1);if(fm(),me=r,$u.current=n,Qe!==null)throw Error(N(261));return ot=null,gt=0,nt}function fb(){for(;Qe!==null;)O1(Qe)}function pb(){for(;Qe!==null&&!UT();)O1(Qe)}function O1(t){var e=F1(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?L1(t):Qe=e,Cm.current=null}function L1(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ab(r,e),r!==null){r.flags&=32767,Qe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Qe=null;return}}else if(r=ob(r,e,Xt),r!==null){Qe=r;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);nt===0&&(nt=5)}function Pi(t,e,r){var n=ye,i=pr.transition;try{pr.transition=null,ye=1,mb(t,e,r,n)}finally{pr.transition=i,ye=n}return null}function mb(t,e,r,n){do $s();while(Xn!==null);if(me&6)throw Error(N(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(qT(t,s),t===ot&&(Qe=ot=null,gt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xl||(xl=!0,U1(Cu,function(){return $s(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=pr.transition,pr.transition=null;var o=ye;ye=1;var a=me;me|=4,Cm.current=null,ub(t,r),R1(r,t),OS(cf),Pu=!!hf,cf=hf=null,t.current=r,hb(r),zT(),me=a,ye=o,pr.transition=s}else t.current=r;if(xl&&(xl=!1,Xn=t,Vu=i),s=t.pendingLanes,s===0&&(ii=null),HT(r.stateNode),Nt(t,Ye()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,t=kf,kf=null,t;return Vu&1&&t.tag!==0&&$s(),s=t.pendingLanes,s&1?t===Mf?ua++:(ua=0,Mf=t):ua=0,wi(),null}function $s(){if(Xn!==null){var t=mv(Vu),e=pr.transition,r=ye;try{if(pr.transition=null,ye=16>t?16:t,Xn===null)var n=!1;else{if(t=Xn,Xn=null,Vu=0,me&6)throw Error(N(331));var i=me;for(me|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:aa(8,h,s)}var c=h.child;if(c!==null)c.return=h,Y=c;else for(;Y!==null;){h=Y;var d=h.sibling,f=h.return;if(A1(h),h===u){Y=null;break}if(d!==null){d.return=f,Y=d;break}Y=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:aa(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Y=y;break e}Y=s.return}}var _=t.current;for(Y=_;Y!==null;){o=Y;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,Y=g;else e:for(o=_;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ih(9,a)}}catch(w){Ge(a,a.return,w)}if(a===o){Y=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Y=x;break e}Y=a.return}}if(me=i,wi(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(wh,t)}catch{}n=!0}return n}finally{ye=r,pr.transition=e}}return!1}function I0(t,e,r){e=io(r,e),e=g1(t,e,1),t=ni(t,e,1),e=Pt(),t!==null&&(Ya(t,1,e),Nt(t,e))}function Ge(t,e,r){if(t.tag===3)I0(t,t,r);else for(;e!==null;){if(e.tag===3){I0(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ii===null||!ii.has(n))){t=io(r,t),t=_1(e,t,1),e=ni(e,t,1),t=Pt(),e!==null&&(Ya(e,1,t),Nt(e,t));break}}e=e.return}}function gb(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&r,ot===t&&(gt&r)===r&&(nt===4||nt===3&&(gt&130023424)===gt&&500>Ye()-Pm?Ui(t,0):Am|=r),Nt(t,e)}function N1(t,e){e===0&&(t.mode&1?(e=hl,hl<<=1,!(hl&130023424)&&(hl=4194304)):e=1);var r=Pt();t=In(t,e),t!==null&&(Ya(t,e,r),Nt(t,r))}function _b(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),N1(t,r)}function yb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),N1(t,r)}var F1;F1=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Bt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Bt=!1,sb(t,e,r);Bt=!!(t.flags&131072)}else Bt=!1,Pe&&e.flags&1048576&&Gv(e,Ou,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;su(t,e),t=e.pendingProps;var i=eo(e,Ct.current);Gs(e,r),i=wm(null,e,n,t,i,r);var s=Em();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(n)?(s=!0,Du(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gm(e),i.updater=Ah,e.stateNode=i,i._reactInternals=e,xf(e,n,t,r),e=Tf(null,e,n,!0,s,r)):(e.tag=0,Pe&&s&&um(e),At(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(su(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=xb(n),t=Ar(n,t),i){case 0:e=Ef(null,e,n,t,r);break e;case 1:e=v0(null,e,n,t,r);break e;case 11:e=_0(null,e,n,t,r);break e;case 14:e=y0(null,e,n,Ar(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ar(n,i),Ef(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ar(n,i),v0(t,e,n,i,r);case 3:e:{if(w1(e),t===null)throw Error(N(387));n=e.pendingProps,s=e.memoizedState,i=s.element,jv(t,e),Fu(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=io(Error(N(423)),e),e=x0(t,e,n,r,i);break e}else if(n!==i){i=io(Error(N(424)),e),e=x0(t,e,n,r,i);break e}else for(qt=ri(e.stateNode.containerInfo.firstChild),Kt=e,Pe=!0,kr=null,r=qv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(to(),n===i){e=Rn(t,e,r);break e}At(t,e,n,r)}e=e.child}return e;case 5:return Kv(e),t===null&&_f(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,df(n,i)?o=null:s!==null&&df(n,s)&&(e.flags|=32),x1(t,e),At(t,e,o,r),e.child;case 6:return t===null&&_f(e),null;case 13:return E1(t,e,r);case 4:return _m(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ro(e,null,n,r):At(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ar(n,i),_0(t,e,n,i,r);case 7:return At(t,e,e.pendingProps,r),e.child;case 8:return At(t,e,e.pendingProps.children,r),e.child;case 12:return At(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Se(Lu,n._currentValue),n._currentValue=o,s!==null)if($r(s.value,o)){if(s.children===i.children&&!Ot.current){e=Rn(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Sn(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),yf(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),yf(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}At(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Gs(e,r),i=gr(i),n=n(i),e.flags|=1,At(t,e,n,r),e.child;case 14:return n=e.type,i=Ar(n,e.pendingProps),i=Ar(n.type,i),y0(t,e,n,i,r);case 15:return y1(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ar(n,i),su(t,e),e.tag=1,Lt(n)?(t=!0,Du(e)):t=!1,Gs(e,r),Wv(e,n,i),xf(e,n,i,r),Tf(null,e,n,!0,t,r);case 19:return T1(t,e,r);case 22:return v1(t,e,r)}throw Error(N(156,e.tag))};function U1(t,e){return cv(t,e)}function vb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,e,r,n){return new vb(t,e,r,n)}function Mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xb(t){if(typeof t=="function")return Mm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zp)return 11;if(t===Qp)return 14}return 2}function oi(t,e){var r=t.alternate;return r===null?(r=lr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function lu(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Mm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vs:return zi(r.children,i,s,e);case Kp:o=8,i|=8;break;case Hd:return t=lr(12,r,e,i|2),t.elementType=Hd,t.lanes=s,t;case Vd:return t=lr(13,r,e,i),t.elementType=Vd,t.lanes=s,t;case jd:return t=lr(19,r,e,i),t.elementType=jd,t.lanes=s,t;case Yy:return kh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xy:o=10;break e;case Wy:o=9;break e;case Zp:o=11;break e;case Qp:o=14;break e;case Un:o=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=lr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function zi(t,e,r,n){return t=lr(7,t,n,e),t.lanes=r,t}function kh(t,e,r,n){return t=lr(22,t,n,e),t.elementType=Yy,t.lanes=r,t.stateNode={isHidden:!1},t}function Qc(t,e,r){return t=lr(6,t,null,e),t.lanes=r,t}function Jc(t,e,r){return e=lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wb(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dc(0),this.expirationTimes=Dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dm(t,e,r,n,i,s,o,a,l){return t=new wb(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=lr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gm(s),t}function Eb(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function z1(t){if(!t)return di;t=t._reactInternals;e:{if(ns(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(Lt(r))return Uv(t,r,e)}return e}function G1(t,e,r,n,i,s,o,a,l){return t=Dm(r,n,!0,t,i,s,o,a,l),t.context=z1(null),r=t.current,n=Pt(),i=si(r),s=Sn(n,i),s.callback=e??null,ni(r,s,i),t.current.lanes=i,Ya(t,i,n),Nt(t,n),t}function Mh(t,e,r,n){var i=e.current,s=Pt(),o=si(i);return r=z1(r),e.context===null?e.context=r:e.pendingContext=r,e=Sn(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ni(i,e,o),t!==null&&(Nr(t,i,o,s),ru(t,i,o)),o}function Xu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function R0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Bm(t,e){R0(t,e),(t=t.alternate)&&R0(t,e)}function Tb(){return null}var $1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Om(t){this._internalRoot=t}Dh.prototype.render=Om.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Mh(t,e,null,null)};Dh.prototype.unmount=Om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){Mh(null,t,null,null)}),e[Pn]=null}};function Dh(t){this._internalRoot=t}Dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=yv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Gn.length&&e!==0&&e<Gn[r].priority;r++);Gn.splice(r,0,t),r===0&&xv(t)}};function Lm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function k0(){}function Sb(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Xu(o);s.call(u)}}var o=G1(e,n,t,0,null,!1,!1,"",k0);return t._reactRootContainer=o,t[Pn]=o.current,Sa(t.nodeType===8?t.parentNode:t),Ki(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Xu(l);a.call(u)}}var l=Dm(t,0,!1,null,null,!1,!1,"",k0);return t._reactRootContainer=l,t[Pn]=l.current,Sa(t.nodeType===8?t.parentNode:t),Ki(function(){Mh(e,l,r,n)}),l}function Oh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xu(o);a.call(l)}}Mh(e,o,t,i)}else o=Sb(r,e,t,i,n);return Xu(o)}gv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Vo(e.pendingLanes);r!==0&&(tm(e,r|1),Nt(e,Ye()),!(me&6)&&(so=Ye()+500,wi()))}break;case 13:Ki(function(){var n=In(t,1);if(n!==null){var i=Pt();Nr(n,t,1,i)}}),Bm(t,1)}};rm=function(t){if(t.tag===13){var e=In(t,134217728);if(e!==null){var r=Pt();Nr(e,t,134217728,r)}Bm(t,134217728)}};_v=function(t){if(t.tag===13){var e=si(t),r=In(t,e);if(r!==null){var n=Pt();Nr(r,t,e,n)}Bm(t,e)}};yv=function(){return ye};vv=function(t,e){var r=ye;try{return ye=t,e()}finally{ye=r}};tf=function(t,e,r){switch(e){case"input":if(Yd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=bh(n);if(!i)throw Error(N(90));Ky(n),Yd(n,i)}}}break;case"textarea":Qy(t,r);break;case"select":e=r.value,e!=null&&Ns(t,!!r.multiple,e,!1)}};sv=Im;ov=Ki;var bb={usingClientEntryPoint:!1,Events:[Ka,Ts,bh,nv,iv,Im]},Do={findFiberByHostInstance:Bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Cb={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uv(t),t===null?null:t.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||Tb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{wh=wl.inject(Cb),nn=wl}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bb;er.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lm(e))throw Error(N(200));return Eb(t,e,null,r)};er.createRoot=function(t,e){if(!Lm(t))throw Error(N(299));var r=!1,n="",i=$1;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dm(t,1,!1,null,null,r,!1,n,i),t[Pn]=e.current,Sa(t.nodeType===8?t.parentNode:t),new Om(e)};er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=uv(e),t=t===null?null:t.stateNode,t};er.flushSync=function(t){return Ki(t)};er.hydrate=function(t,e,r){if(!Bh(e))throw Error(N(200));return Oh(null,t,e,!0,r)};er.hydrateRoot=function(t,e,r){if(!Lm(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=$1;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=G1(e,null,t,1,r??null,i,!1,s,o),t[Pn]=e.current,Sa(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Dh(e)};er.render=function(t,e,r){if(!Bh(e))throw Error(N(200));return Oh(null,t,e,!1,r)};er.unmountComponentAtNode=function(t){if(!Bh(t))throw Error(N(40));return t._reactRootContainer?(Ki(function(){Oh(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};er.unstable_batchedUpdates=Im;er.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Bh(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Oh(t,e,r,!1,n)};er.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=er})(TT);var H1,M0=zd;H1=M0.createRoot,M0.hydrateRoot;var Wu={},Ab={get exports(){return Wu},set exports(t){Wu=t}},ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=Symbol.for("react.element"),Fm=Symbol.for("react.portal"),Lh=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),Fh=Symbol.for("react.profiler"),Uh=Symbol.for("react.provider"),zh=Symbol.for("react.context"),Pb=Symbol.for("react.server_context"),Gh=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),Hh=Symbol.for("react.suspense_list"),Vh=Symbol.for("react.memo"),jh=Symbol.for("react.lazy"),Ib=Symbol.for("react.offscreen"),V1;V1=Symbol.for("react.module.reference");function vr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Nm:switch(t=t.type,t){case Lh:case Fh:case Nh:case $h:case Hh:return t;default:switch(t=t&&t.$$typeof,t){case Pb:case zh:case Gh:case jh:case Vh:case Uh:return t;default:return e}}case Fm:return e}}}ve.ContextConsumer=zh;ve.ContextProvider=Uh;ve.Element=Nm;ve.ForwardRef=Gh;ve.Fragment=Lh;ve.Lazy=jh;ve.Memo=Vh;ve.Portal=Fm;ve.Profiler=Fh;ve.StrictMode=Nh;ve.Suspense=$h;ve.SuspenseList=Hh;ve.isAsyncMode=function(){return!1};ve.isConcurrentMode=function(){return!1};ve.isContextConsumer=function(t){return vr(t)===zh};ve.isContextProvider=function(t){return vr(t)===Uh};ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nm};ve.isForwardRef=function(t){return vr(t)===Gh};ve.isFragment=function(t){return vr(t)===Lh};ve.isLazy=function(t){return vr(t)===jh};ve.isMemo=function(t){return vr(t)===Vh};ve.isPortal=function(t){return vr(t)===Fm};ve.isProfiler=function(t){return vr(t)===Fh};ve.isStrictMode=function(t){return vr(t)===Nh};ve.isSuspense=function(t){return vr(t)===$h};ve.isSuspenseList=function(t){return vr(t)===Hh};ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lh||t===Fh||t===Nh||t===$h||t===Hh||t===Ib||typeof t=="object"&&t!==null&&(t.$$typeof===jh||t.$$typeof===Vh||t.$$typeof===Uh||t.$$typeof===zh||t.$$typeof===Gh||t.$$typeof===V1||t.getModuleId!==void 0)};ve.typeOf=vr;(function(t){t.exports=ve})(Ab);function Rb(t){function e(M,O,B,X,A){for(var ee=0,L=0,he=0,ie=0,te,K,ue=0,be=0,ae,Ue=ae=te=0,_e=0,ze=0,So=0,ut=0,il=B.length,bo=il-1,xr,se="",He="",bc="",Cc="",Ln;_e<il;){if(K=B.charCodeAt(_e),_e===bo&&L+ie+he+ee!==0&&(L!==0&&(K=L===47?10:47),ie=he=ee=0,il++,bo++),L+ie+he+ee===0){if(_e===bo&&(0<ze&&(se=se.replace(d,"")),0<se.trim().length)){switch(K){case 32:case 9:case 59:case 13:case 10:break;default:se+=B.charAt(_e)}K=59}switch(K){case 123:for(se=se.trim(),te=se.charCodeAt(0),ae=1,ut=++_e;_e<il;){switch(K=B.charCodeAt(_e)){case 123:ae++;break;case 125:ae--;break;case 47:switch(K=B.charCodeAt(_e+1)){case 42:case 47:e:{for(Ue=_e+1;Ue<bo;++Ue)switch(B.charCodeAt(Ue)){case 47:if(K===42&&B.charCodeAt(Ue-1)===42&&_e+2!==Ue){_e=Ue+1;break e}break;case 10:if(K===47){_e=Ue+1;break e}}_e=Ue}}break;case 91:K++;case 40:K++;case 34:case 39:for(;_e++<bo&&B.charCodeAt(_e)!==K;);}if(ae===0)break;_e++}switch(ae=B.substring(ut,_e),te===0&&(te=(se=se.replace(c,"").trim()).charCodeAt(0)),te){case 64:switch(0<ze&&(se=se.replace(d,"")),K=se.charCodeAt(1),K){case 100:case 109:case 115:case 45:ze=O;break;default:ze=H}if(ae=e(O,ze,ae,K,A+1),ut=ae.length,0<k&&(ze=r(H,se,So),Ln=a(3,ae,ze,O,P,G,ut,K,A,X),se=ze.join(""),Ln!==void 0&&(ut=(ae=Ln.trim()).length)===0&&(K=0,ae="")),0<ut)switch(K){case 115:se=se.replace(S,o);case 100:case 109:case 45:ae=se+"{"+ae+"}";break;case 107:se=se.replace(_,"$1 $2"),ae=se+"{"+ae+"}",ae=V===1||V===2&&s("@"+ae,3)?"@-webkit-"+ae+"@"+ae:"@"+ae;break;default:ae=se+ae,X===112&&(ae=(He+=ae,""))}else ae="";break;default:ae=e(O,r(O,se,So),ae,X,A+1)}bc+=ae,ae=So=ze=Ue=te=0,se="",K=B.charCodeAt(++_e);break;case 125:case 59:if(se=(0<ze?se.replace(d,""):se).trim(),1<(ut=se.length))switch(Ue===0&&(te=se.charCodeAt(0),te===45||96<te&&123>te)&&(ut=(se=se.replace(" ",":")).length),0<k&&(Ln=a(1,se,O,M,P,G,He.length,X,A,X))!==void 0&&(ut=(se=Ln.trim()).length)===0&&(se="\0\0"),te=se.charCodeAt(0),K=se.charCodeAt(1),te){case 0:break;case 64:if(K===105||K===99){Cc+=se+B.charAt(_e);break}default:se.charCodeAt(ut-1)!==58&&(He+=i(se,te,K,se.charCodeAt(2)))}So=ze=Ue=te=0,se="",K=B.charCodeAt(++_e)}}switch(K){case 13:case 10:L===47?L=0:1+te===0&&X!==107&&0<se.length&&(ze=1,se+="\0"),0<k*D&&a(0,se,O,M,P,G,He.length,X,A,X),G=1,P++;break;case 59:case 125:if(L+ie+he+ee===0){G++;break}default:switch(G++,xr=B.charAt(_e),K){case 9:case 32:if(ie+ee+L===0)switch(ue){case 44:case 58:case 9:case 32:xr="";break;default:K!==32&&(xr=" ")}break;case 0:xr="\\0";break;case 12:xr="\\f";break;case 11:xr="\\v";break;case 38:ie+L+ee===0&&(ze=So=1,xr="\f"+xr);break;case 108:if(ie+L+ee+I===0&&0<Ue)switch(_e-Ue){case 2:ue===112&&B.charCodeAt(_e-3)===58&&(I=ue);case 8:be===111&&(I=be)}break;case 58:ie+L+ee===0&&(Ue=_e);break;case 44:L+he+ie+ee===0&&(ze=1,xr+="\r");break;case 34:case 39:L===0&&(ie=ie===K?0:ie===0?K:ie);break;case 91:ie+L+he===0&&ee++;break;case 93:ie+L+he===0&&ee--;break;case 41:ie+L+ee===0&&he--;break;case 40:if(ie+L+ee===0){if(te===0)switch(2*ue+3*be){case 533:break;default:te=1}he++}break;case 64:L+he+ie+ee+Ue+ae===0&&(ae=1);break;case 42:case 47:if(!(0<ie+ee+he))switch(L){case 0:switch(2*K+3*B.charCodeAt(_e+1)){case 235:L=47;break;case 220:ut=_e,L=42}break;case 42:K===47&&ue===42&&ut+2!==_e&&(B.charCodeAt(ut+2)===33&&(He+=B.substring(ut,_e+1)),xr="",L=0)}}L===0&&(se+=xr)}be=ue,ue=K,_e++}if(ut=He.length,0<ut){if(ze=O,0<k&&(Ln=a(2,He,ze,M,P,G,ut,X,A,X),Ln!==void 0&&(He=Ln).length===0))return Cc+He+bc;if(He=ze.join(",")+"{"+He+"}",V*I!==0){switch(V!==2||s(He,2)||(I=0),I){case 111:He=He.replace(x,":-moz-$1")+He;break;case 112:He=He.replace(g,"::-webkit-input-$1")+He.replace(g,"::-moz-$1")+He.replace(g,":-ms-input-$1")+He}I=0}}return Cc+He+bc}function r(M,O,B){var X=O.trim().split(v);O=X;var A=X.length,ee=M.length;switch(ee){case 0:case 1:var L=0;for(M=ee===0?"":M[0]+" ";L<A;++L)O[L]=n(M,O[L],B).trim();break;default:var he=L=0;for(O=[];L<A;++L)for(var ie=0;ie<ee;++ie)O[he++]=n(M[ie]+" ",X[L],B).trim()}return O}function n(M,O,B){var X=O.charCodeAt(0);switch(33>X&&(X=(O=O.trim()).charCodeAt(0)),X){case 38:return O.replace(y,"$1"+M.trim());case 58:return M.trim()+O.replace(y,"$1"+M.trim());default:if(0<1*B&&0<O.indexOf("\f"))return O.replace(y,(M.charCodeAt(0)===58?"":"$1")+M.trim())}return M+O}function i(M,O,B,X){var A=M+";",ee=2*O+3*B+4*X;if(ee===944){M=A.indexOf(":",9)+1;var L=A.substring(M,A.length-1).trim();return L=A.substring(0,M).trim()+L+";",V===1||V===2&&s(L,1)?"-webkit-"+L+L:L}if(V===0||V===2&&!s(A,1))return A;switch(ee){case 1015:return A.charCodeAt(10)===97?"-webkit-"+A+A:A;case 951:return A.charCodeAt(3)===116?"-webkit-"+A+A:A;case 963:return A.charCodeAt(5)===110?"-webkit-"+A+A:A;case 1009:if(A.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+A+A;case 978:return"-webkit-"+A+"-moz-"+A+A;case 1019:case 983:return"-webkit-"+A+"-moz-"+A+"-ms-"+A+A;case 883:if(A.charCodeAt(8)===45)return"-webkit-"+A+A;if(0<A.indexOf("image-set(",11))return A.replace(R,"$1-webkit-$2")+A;break;case 932:if(A.charCodeAt(4)===45)switch(A.charCodeAt(5)){case 103:return"-webkit-box-"+A.replace("-grow","")+"-webkit-"+A+"-ms-"+A.replace("grow","positive")+A;case 115:return"-webkit-"+A+"-ms-"+A.replace("shrink","negative")+A;case 98:return"-webkit-"+A+"-ms-"+A.replace("basis","preferred-size")+A}return"-webkit-"+A+"-ms-"+A+A;case 964:return"-webkit-"+A+"-ms-flex-"+A+A;case 1023:if(A.charCodeAt(8)!==99)break;return L=A.substring(A.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+L+"-webkit-"+A+"-ms-flex-pack"+L+A;case 1005:return p.test(A)?A.replace(f,":-webkit-")+A.replace(f,":-moz-")+A:A;case 1e3:switch(L=A.substring(13).trim(),O=L.indexOf("-")+1,L.charCodeAt(0)+L.charCodeAt(O)){case 226:L=A.replace(w,"tb");break;case 232:L=A.replace(w,"tb-rl");break;case 220:L=A.replace(w,"lr");break;default:return A}return"-webkit-"+A+"-ms-"+L+A;case 1017:if(A.indexOf("sticky",9)===-1)break;case 975:switch(O=(A=M).length-10,L=(A.charCodeAt(O)===33?A.substring(0,O):A).substring(M.indexOf(":",7)+1).trim(),ee=L.charCodeAt(0)+(L.charCodeAt(7)|0)){case 203:if(111>L.charCodeAt(8))break;case 115:A=A.replace(L,"-webkit-"+L)+";"+A;break;case 207:case 102:A=A.replace(L,"-webkit-"+(102<ee?"inline-":"")+"box")+";"+A.replace(L,"-webkit-"+L)+";"+A.replace(L,"-ms-"+L+"box")+";"+A}return A+";";case 938:if(A.charCodeAt(5)===45)switch(A.charCodeAt(6)){case 105:return L=A.replace("-items",""),"-webkit-"+A+"-webkit-box-"+L+"-ms-flex-"+L+A;case 115:return"-webkit-"+A+"-ms-flex-item-"+A.replace(E,"")+A;default:return"-webkit-"+A+"-ms-flex-line-pack"+A.replace("align-content","").replace(E,"")+A}break;case 973:case 989:if(A.charCodeAt(3)!==45||A.charCodeAt(4)===122)break;case 931:case 953:if(C.test(M)===!0)return(L=M.substring(M.indexOf(":")+1)).charCodeAt(0)===115?i(M.replace("stretch","fill-available"),O,B,X).replace(":fill-available",":stretch"):A.replace(L,"-webkit-"+L)+A.replace(L,"-moz-"+L.replace("fill-",""))+A;break;case 962:if(A="-webkit-"+A+(A.charCodeAt(5)===102?"-ms-"+A:"")+A,B+X===211&&A.charCodeAt(13)===105&&0<A.indexOf("transform",10))return A.substring(0,A.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+A}return A}function s(M,O){var B=M.indexOf(O===1?":":"{"),X=M.substring(0,O!==3?B:10);return B=M.substring(B+1,M.length-1),F(O!==2?X:X.replace(b,"$1"),B,O)}function o(M,O){var B=i(O,O.charCodeAt(0),O.charCodeAt(1),O.charCodeAt(2));return B!==O+";"?B.replace(T," or ($1)").substring(4):"("+O+")"}function a(M,O,B,X,A,ee,L,he,ie,te){for(var K=0,ue=O,be;K<k;++K)switch(be=U[K].call(h,M,ue,B,X,A,ee,L,he,ie,te)){case void 0:case!1:case!0:case null:break;default:ue=be}if(ue!==O)return ue}function l(M){switch(M){case void 0:case null:k=U.length=0;break;default:if(typeof M=="function")U[k++]=M;else if(typeof M=="object")for(var O=0,B=M.length;O<B;++O)l(M[O]);else D=!!M|0}return l}function u(M){return M=M.prefix,M!==void 0&&(F=null,M?typeof M!="function"?V=1:(V=2,F=M):V=0),u}function h(M,O){var B=M;if(33>B.charCodeAt(0)&&(B=B.trim()),$=B,B=[$],0<k){var X=a(-1,O,B,B,P,G,0,0,0,0);X!==void 0&&typeof X=="string"&&(O=X)}var A=e(H,B,O,0,0);return 0<k&&(X=a(-2,A,B,B,P,G,A.length,0,0,0),X!==void 0&&(A=X)),$="",I=0,G=P=1,A}var c=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,m=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,_=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,x=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,T=/([\s\S]*?);/g,E=/-self|flex-/g,b=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,R=/([^-])(image-set\()/,G=1,P=1,I=0,V=1,H=[],U=[],k=0,F=null,D=0,$="";return h.use=l,h.set=u,t!==void 0&&u(t),h}var kb={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Mb(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Db=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,D0=Mb(function(t){return Db.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Of={},Bb={get exports(){return Of},set exports(t){Of=t}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=typeof Symbol=="function"&&Symbol.for,Um=lt?Symbol.for("react.element"):60103,zm=lt?Symbol.for("react.portal"):60106,Xh=lt?Symbol.for("react.fragment"):60107,Wh=lt?Symbol.for("react.strict_mode"):60108,Yh=lt?Symbol.for("react.profiler"):60114,qh=lt?Symbol.for("react.provider"):60109,Kh=lt?Symbol.for("react.context"):60110,Gm=lt?Symbol.for("react.async_mode"):60111,Zh=lt?Symbol.for("react.concurrent_mode"):60111,Qh=lt?Symbol.for("react.forward_ref"):60112,Jh=lt?Symbol.for("react.suspense"):60113,Ob=lt?Symbol.for("react.suspense_list"):60120,ec=lt?Symbol.for("react.memo"):60115,tc=lt?Symbol.for("react.lazy"):60116,Lb=lt?Symbol.for("react.block"):60121,Nb=lt?Symbol.for("react.fundamental"):60117,Fb=lt?Symbol.for("react.responder"):60118,Ub=lt?Symbol.for("react.scope"):60119;function rr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Um:switch(t=t.type,t){case Gm:case Zh:case Xh:case Yh:case Wh:case Jh:return t;default:switch(t=t&&t.$$typeof,t){case Kh:case Qh:case tc:case ec:case qh:return t;default:return e}}case zm:return e}}}function j1(t){return rr(t)===Zh}xe.AsyncMode=Gm;xe.ConcurrentMode=Zh;xe.ContextConsumer=Kh;xe.ContextProvider=qh;xe.Element=Um;xe.ForwardRef=Qh;xe.Fragment=Xh;xe.Lazy=tc;xe.Memo=ec;xe.Portal=zm;xe.Profiler=Yh;xe.StrictMode=Wh;xe.Suspense=Jh;xe.isAsyncMode=function(t){return j1(t)||rr(t)===Gm};xe.isConcurrentMode=j1;xe.isContextConsumer=function(t){return rr(t)===Kh};xe.isContextProvider=function(t){return rr(t)===qh};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Um};xe.isForwardRef=function(t){return rr(t)===Qh};xe.isFragment=function(t){return rr(t)===Xh};xe.isLazy=function(t){return rr(t)===tc};xe.isMemo=function(t){return rr(t)===ec};xe.isPortal=function(t){return rr(t)===zm};xe.isProfiler=function(t){return rr(t)===Yh};xe.isStrictMode=function(t){return rr(t)===Wh};xe.isSuspense=function(t){return rr(t)===Jh};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xh||t===Zh||t===Yh||t===Wh||t===Jh||t===Ob||typeof t=="object"&&t!==null&&(t.$$typeof===tc||t.$$typeof===ec||t.$$typeof===qh||t.$$typeof===Kh||t.$$typeof===Qh||t.$$typeof===Nb||t.$$typeof===Fb||t.$$typeof===Ub||t.$$typeof===Lb)};xe.typeOf=rr;(function(t){t.exports=xe})(Bb);var $m=Of,zb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Gb={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$b={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},X1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Hm={};Hm[$m.ForwardRef]=$b;Hm[$m.Memo]=X1;function B0(t){return $m.isMemo(t)?X1:Hm[t.$$typeof]||zb}var Hb=Object.defineProperty,Vb=Object.getOwnPropertyNames,O0=Object.getOwnPropertySymbols,jb=Object.getOwnPropertyDescriptor,Xb=Object.getPrototypeOf,L0=Object.prototype;function W1(t,e,r){if(typeof e!="string"){if(L0){var n=Xb(e);n&&n!==L0&&W1(t,n,r)}var i=Vb(e);O0&&(i=i.concat(O0(e)));for(var s=B0(t),o=B0(e),a=0;a<i.length;++a){var l=i[a];if(!Gb[l]&&!(r&&r[l])&&!(o&&o[l])&&!(s&&s[l])){var u=jb(e,l);try{Hb(t,l,u)}catch{}}}}return t}var Wb=W1;function Jr(){return(Jr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var N0=function(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r},Lf=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!Wu.typeOf(t)},Yu=Object.freeze([]),ai=Object.freeze({});function Da(t){return typeof t=="function"}function F0(t){return t.displayName||t.name||"Component"}function Vm(t){return t&&typeof t.styledComponentId=="string"}var oo=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",jm=typeof window<"u"&&"HTMLElement"in window,Yb=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),qb={};function Qa(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var Kb=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var e=t.prototype;return e.indexOfGroup=function(r){for(var n=0,i=0;i<r;i++)n+=this.groupSizes[i];return n},e.insertRules=function(r,n){if(r>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;r>=o;)(o<<=1)<0&&Qa(16,""+r);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(r+1),u=0,h=n.length;u<h;u++)this.tag.insertRule(l,n[u])&&(this.groupSizes[r]++,l++)},e.clearGroup=function(r){if(r<this.length){var n=this.groupSizes[r],i=this.indexOfGroup(r),s=i+n;this.groupSizes[r]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(r){var n="";if(r>=this.length||this.groupSizes[r]===0)return n;for(var i=this.groupSizes[r],s=this.indexOfGroup(r),o=s+i,a=s;a<o;a++)n+=this.tag.getRule(a)+`/*!sc*/
`;return n},t}(),uu=new Map,qu=new Map,ha=1,El=function(t){if(uu.has(t))return uu.get(t);for(;qu.has(ha);)ha++;var e=ha++;return uu.set(t,e),qu.set(e,t),e},Zb=function(t){return qu.get(t)},Qb=function(t,e){e>=ha&&(ha=e+1),uu.set(t,e),qu.set(e,t)},Jb="style["+oo+'][data-styled-version="5.3.6"]',eC=new RegExp("^"+oo+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),tC=function(t,e,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&t.registerName(e,n)},rC=function(t,e){for(var r=(e.textContent||"").split(`/*!sc*/
`),n=[],i=0,s=r.length;i<s;i++){var o=r[i].trim();if(o){var a=o.match(eC);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(Qb(u,l),tC(t,u,a[3]),t.getTag().insertRules(l,n)),n.length=0}else n.push(o)}}},nC=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},Y1=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var h=l[u];if(h&&h.nodeType===1&&h.hasAttribute(oo))return h}}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(oo,"active"),n.setAttribute("data-styled-version","5.3.6");var o=nC();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},iC=function(){function t(r){var n=this.element=Y1(r);n.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}Qa(17)}(n),this.length=0}var e=t.prototype;return e.insertRule=function(r,n){try{return this.sheet.insertRule(n,r),this.length++,!0}catch{return!1}},e.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},e.getRule=function(r){var n=this.sheet.cssRules[r];return n!==void 0&&typeof n.cssText=="string"?n.cssText:""},t}(),sC=function(){function t(r){var n=this.element=Y1(r);this.nodes=n.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(r,n){if(r<=this.length&&r>=0){var i=document.createTextNode(n),s=this.nodes[r];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},e.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),oC=function(){function t(r){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(r,n){return r<=this.length&&(this.rules.splice(r,0,n),this.length++,!0)},e.deleteRule=function(r){this.rules.splice(r,1),this.length--},e.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),U0=jm,aC={isServer:!jm,useCSSOMInjection:!Yb},Ku=function(){function t(r,n,i){r===void 0&&(r=ai),n===void 0&&(n={}),this.options=Jr({},aC,{},r),this.gs=n,this.names=new Map(i),this.server=!!r.isServer,!this.server&&jm&&U0&&(U0=!1,function(s){for(var o=document.querySelectorAll(Jb),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(oo)!=="active"&&(rC(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(r){return El(r)};var e=t.prototype;return e.reconstructWithOptions=function(r,n){return n===void 0&&(n=!0),new t(Jr({},this.options,{},r),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(n=this.options).isServer,s=n.useCSSOMInjection,o=n.target,r=i?new oC(o):s?new iC(o):new sC(o),new Kb(r)));var r,n,i,s,o},e.hasNameForId=function(r,n){return this.names.has(r)&&this.names.get(r).has(n)},e.registerName=function(r,n){if(El(r),this.names.has(r))this.names.get(r).add(n);else{var i=new Set;i.add(n),this.names.set(r,i)}},e.insertRules=function(r,n,i){this.registerName(r,n),this.getTag().insertRules(El(r),i)},e.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},e.clearRules=function(r){this.getTag().clearGroup(El(r)),this.clearNames(r)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(r){for(var n=r.getTag(),i=n.length,s="",o=0;o<i;o++){var a=Zb(o);if(a!==void 0){var l=r.names.get(a),u=n.getGroup(o);if(l&&u&&l.size){var h=oo+".g"+o+'[id="'+a+'"]',c="";l!==void 0&&l.forEach(function(d){d.length>0&&(c+=d+",")}),s+=""+u+h+'{content:"'+c+`"}/*!sc*/
`}}}return s}(this)},t}(),lC=/(a)(d)/gi,z0=function(t){return String.fromCharCode(t+(t>25?39:97))};function Nf(t){var e,r="";for(e=Math.abs(t);e>52;e=e/52|0)r=z0(e%52)+r;return(z0(e%52)+r).replace(lC,"$1-$2")}var Rs=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},q1=function(t){return Rs(5381,t)};function K1(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(Da(r)&&!Vm(r))return!1}return!0}var uC=q1("5.3.6"),hC=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&K1(e),this.componentId=r,this.baseHash=Rs(uC,r),this.baseStyle=n,Ku.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,r,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=Zi(this.rules,e,r,n).join(""),a=Nf(Rs(this.baseHash,o)>>>0);if(!r.hasNameForId(i,a)){var l=n(o,"."+a,void 0,i);r.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,h=Rs(this.baseHash,n.hash),c="",d=0;d<u;d++){var f=this.rules[d];if(typeof f=="string")c+=f;else if(f){var p=Zi(f,e,r,n),m=Array.isArray(p)?p.join(""):p;h=Rs(h,m+d),c+=m}}if(c){var v=Nf(h>>>0);if(!r.hasNameForId(i,v)){var y=n(c,"."+v,void 0,i);r.insertRules(i,v,y)}s.push(v)}}return s.join(" ")},t}(),cC=/^\s*\/\/.*$/gm,dC=[":","[",".","#"];function fC(t){var e,r,n,i,s=t===void 0?ai:t,o=s.options,a=o===void 0?ai:o,l=s.plugins,u=l===void 0?Yu:l,h=new Rb(a),c=[],d=function(m){function v(y){if(y)try{m(y+"}")}catch{}}return function(y,_,g,x,w,S,T,E,b,C){switch(y){case 1:if(b===0&&_.charCodeAt(0)===64)return m(_+";"),"";break;case 2:if(E===0)return _+"/*|*/";break;case 3:switch(E){case 102:case 112:return m(g[0]+_),"";default:return _+(C===0?"/*|*/":"")}case-2:_.split("/*|*/}").forEach(v)}}}(function(m){c.push(m)}),f=function(m,v,y){return v===0&&dC.indexOf(y[r.length])!==-1||y.match(i)?m:"."+e};function p(m,v,y,_){_===void 0&&(_="&");var g=m.replace(cC,""),x=v&&y?y+" "+v+" { "+g+" }":g;return e=_,r=v,n=new RegExp("\\"+r+"\\b","g"),i=new RegExp("(\\"+r+"\\b){2,}"),h(y||!v?"":v,x)}return h.use([].concat(u,[function(m,v,y){m===2&&y.length&&y[0].lastIndexOf(r)>0&&(y[0]=y[0].replace(n,f))},d,function(m){if(m===-2){var v=c;return c=[],v}}])),p.hash=u.length?u.reduce(function(m,v){return v.name||Qa(15),Rs(m,v.name)},5381).toString():"",p}var Z1=vo.createContext();Z1.Consumer;var Q1=vo.createContext(),pC=(Q1.Consumer,new Ku),Ff=fC();function J1(){return Q.useContext(Z1)||pC}function ex(){return Q.useContext(Q1)||Ff}var mC=function(){function t(e,r){var n=this;this.inject=function(i,s){s===void 0&&(s=Ff);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.toString=function(){return Qa(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=r}return t.prototype.getName=function(e){return e===void 0&&(e=Ff),this.name+e.hash},t}(),gC=/([A-Z])/,_C=/([A-Z])/g,yC=/^ms-/,vC=function(t){return"-"+t.toLowerCase()};function G0(t){return gC.test(t)?t.replace(_C,vC).replace(yC,"-ms-"):t}var $0=function(t){return t==null||t===!1||t===""};function Zi(t,e,r,n){if(Array.isArray(t)){for(var i,s=[],o=0,a=t.length;o<a;o+=1)(i=Zi(t[o],e,r,n))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if($0(t))return"";if(Vm(t))return"."+t.styledComponentId;if(Da(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return Zi(l,e,r,n)}var u;return t instanceof mC?r?(t.inject(r,n),t.getName(n)):t:Lf(t)?function h(c,d){var f,p,m=[];for(var v in c)c.hasOwnProperty(v)&&!$0(c[v])&&(Array.isArray(c[v])&&c[v].isCss||Da(c[v])?m.push(G0(v)+":",c[v],";"):Lf(c[v])?m.push.apply(m,h(c[v],v)):m.push(G0(v)+": "+(f=v,(p=c[v])==null||typeof p=="boolean"||p===""?"":typeof p!="number"||p===0||f in kb?String(p).trim():p+"px")+";"));return d?[d+" {"].concat(m,["}"]):m}(t):t.toString()}var H0=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function tx(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Da(t)||Lf(t)?H0(Zi(N0(Yu,[t].concat(r)))):r.length===0&&t.length===1&&typeof t[0]=="string"?t:H0(Zi(N0(t,r)))}var rx=function(t,e,r){return r===void 0&&(r=ai),t.theme!==r.theme&&t.theme||e||r.theme},xC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wC=/(^-|-$)/g;function ed(t){return t.replace(xC,"-").replace(wC,"")}var nx=function(t){return Nf(q1(t)>>>0)};function Tl(t){return typeof t=="string"&&!0}var Uf=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},EC=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function TC(t,e,r){var n=t[r];Uf(e)&&Uf(n)?ix(n,e):t[r]=e}function ix(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var i=0,s=r;i<s.length;i++){var o=s[i];if(Uf(o))for(var a in o)EC(a)&&TC(t,o[a],a)}return t}var Xm=vo.createContext();Xm.Consumer;var td={};function sx(t,e,r){var n=Vm(t),i=!Tl(t),s=e.attrs,o=s===void 0?Yu:s,a=e.componentId,l=a===void 0?function(_,g){var x=typeof _!="string"?"sc":ed(_);td[x]=(td[x]||0)+1;var w=x+"-"+nx("5.3.6"+x+td[x]);return g?g+"-"+w:w}(e.displayName,e.parentComponentId):a,u=e.displayName,h=u===void 0?function(_){return Tl(_)?"styled."+_:"Styled("+F0(_)+")"}(t):u,c=e.displayName&&e.componentId?ed(e.displayName)+"-"+e.componentId:e.componentId||l,d=n&&t.attrs?Array.prototype.concat(t.attrs,o).filter(Boolean):o,f=e.shouldForwardProp;n&&t.shouldForwardProp&&(f=e.shouldForwardProp?function(_,g,x){return t.shouldForwardProp(_,g,x)&&e.shouldForwardProp(_,g,x)}:t.shouldForwardProp);var p,m=new hC(r,c,n?t.componentStyle:void 0),v=m.isStatic&&o.length===0,y=function(_,g){return function(x,w,S,T){var E=x.attrs,b=x.componentStyle,C=x.defaultProps,R=x.foldedComponentIds,G=x.shouldForwardProp,P=x.styledComponentId,I=x.target,V=function(X,A,ee){X===void 0&&(X=ai);var L=Jr({},A,{theme:X}),he={};return ee.forEach(function(ie){var te,K,ue,be=ie;for(te in Da(be)&&(be=be(L)),be)L[te]=he[te]=te==="className"?(K=he[te],ue=be[te],K&&ue?K+" "+ue:K||ue):be[te]}),[L,he]}(rx(w,Q.useContext(Xm),C)||ai,w,E),H=V[0],U=V[1],k=function(X,A,ee,L){var he=J1(),ie=ex(),te=A?X.generateAndInjectStyles(ai,he,ie):X.generateAndInjectStyles(ee,he,ie);return te}(b,T,H),F=S,D=U.$as||w.$as||U.as||w.as||I,$=Tl(D),M=U!==w?Jr({},w,{},U):w,O={};for(var B in M)B[0]!=="$"&&B!=="as"&&(B==="forwardedAs"?O.as=M[B]:(G?G(B,D0,D):!$||D0(B))&&(O[B]=M[B]));return w.style&&U.style!==w.style&&(O.style=Jr({},w.style,{},U.style)),O.className=Array.prototype.concat(R,P,k!==P?k:null,w.className,U.className).filter(Boolean).join(" "),O.ref=F,Q.createElement(D,O)}(p,_,g,v)};return y.displayName=h,(p=vo.forwardRef(y)).attrs=d,p.componentStyle=m,p.displayName=h,p.shouldForwardProp=f,p.foldedComponentIds=n?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Yu,p.styledComponentId=c,p.target=n?t.target:t,p.withComponent=function(_){var g=e.componentId,x=function(S,T){if(S==null)return{};var E,b,C={},R=Object.keys(S);for(b=0;b<R.length;b++)E=R[b],T.indexOf(E)>=0||(C[E]=S[E]);return C}(e,["componentId"]),w=g&&g+"-"+(Tl(_)?_:ed(F0(_)));return sx(_,Jr({},x,{attrs:d,componentId:w}),r)},Object.defineProperty(p,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=n?ix({},t.defaultProps,_):_}}),p.toString=function(){return"."+p.styledComponentId},i&&Wb(p,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),p}var zf=function(t){return function e(r,n,i){if(i===void 0&&(i=ai),!Wu.isValidElementType(n))return Qa(1,String(n));var s=function(){return r(n,i,tx.apply(void 0,arguments))};return s.withConfig=function(o){return e(r,n,Jr({},i,{},o))},s.attrs=function(o){return e(r,n,Jr({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(sx,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){zf[t]=zf(t)});var SC=function(){function t(r,n){this.rules=r,this.componentId=n,this.isStatic=K1(r),Ku.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(r,n,i,s){var o=s(Zi(this.rules,n,i,s).join(""),""),a=this.componentId+r;i.insertRules(a,a,o)},e.removeStyles=function(r,n){n.clearRules(this.componentId+r)},e.renderStyles=function(r,n,i,s){r>2&&Ku.registerId(this.componentId+r),this.removeStyles(r,i),this.createStyles(r,n,i,s)},t}();function bC(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=tx.apply(void 0,[t].concat(r)),s="sc-global-"+nx(JSON.stringify(i)),o=new SC(i,s);function a(u){var h=J1(),c=ex(),d=Q.useContext(Xm),f=Q.useRef(h.allocateGSInstance(s)).current;return h.server&&l(f,u,h,d,c),Q.useLayoutEffect(function(){if(!h.server)return l(f,u,h,d,c),function(){return o.removeStyles(f,h)}},[f,u,h,d,c]),null}function l(u,h,c,d,f){if(o.isStatic)o.renderStyles(u,qb,c,f);else{var p=Jr({},h,{theme:rx(h,d,a.defaultProps)});o.renderStyles(u,p,c,f)}}return vo.memo(a)}const ox=zf,CC=bC`
  html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	overflow: hidden;
	line-height: 1;
	/* 우클릭 메뉴를 숨기는 스타일 */
	-webkit-touch-callout: none; /* iOS Safari */
	-webkit-user-select: none; /* Safari */
	-khtml-user-select: none; /* Konqueror HTML */
	-moz-user-select: none; /* Firefox */
	-ms-user-select: none; /* Internet Explorer/Edge */
	user-select: none; /* 일반적인 스타일 */
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}
`;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zu.apply(this,arguments)}var Wn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wn||(Wn={}));const V0="popstate";function AC(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Gf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ax(i)}return IC(e,r,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PC(){return Math.random().toString(36).substr(2,8)}function j0(t,e){return{usr:t.state,key:t.key,idx:e}}function Gf(t,e,r,n){return r===void 0&&(r=null),Zu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rc(e):e,{state:r,key:e&&e.key||n||PC()})}function ax(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function rc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function IC(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Wn.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Zu({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function c(){a=Wn.Pop;let v=h(),y=v==null?null:v-u;u=v,l&&l({action:a,location:m.location,delta:y})}function d(v,y){a=Wn.Push;let _=Gf(m.location,v,y);r&&r(_,v),u=h()+1;let g=j0(_,u),x=m.createHref(_);try{o.pushState(g,"",x)}catch{i.location.assign(x)}s&&l&&l({action:a,location:m.location,delta:1})}function f(v,y){a=Wn.Replace;let _=Gf(m.location,v,y);r&&r(_,v),u=h();let g=j0(_,u),x=m.createHref(_);o.replaceState(g,"",x),s&&l&&l({action:a,location:m.location,delta:0})}function p(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:ax(v);return Gt(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(V0,c),l=v,()=>{i.removeEventListener(V0,c),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:f,go(v){return o.go(v)}};return m}var X0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(X0||(X0={}));function RC(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?rc(e):e,i=hx(n.pathname||"/",r);if(i==null)return null;let s=lx(t);kC(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=zC(s[a],HC(i));return o}function lx(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Gt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Hs([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(Gt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lx(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:FC(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ux(s.path))i(s,o,l)}),e}function ux(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=ux(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function kC(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:UC(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const MC=/^:\w+$/,DC=3,BC=2,OC=1,LC=10,NC=-2,W0=t=>t==="*";function FC(t,e){let r=t.split("/"),n=r.length;return r.some(W0)&&(n+=NC),e&&(n+=BC),r.filter(i=>!W0(i)).reduce((i,s)=>i+(MC.test(s)?DC:s===""?OC:LC),n)}function UC(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function zC(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],l=o===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=GC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!h)return null;Object.assign(n,h.params);let c=a.route;s.push({params:n,pathname:Hs([i,h.pathname]),pathnameBase:jC(Hs([i,h.pathnameBase])),route:c}),h.pathnameBase!=="/"&&(i=Hs([i,h.pathnameBase]))}return s}function GC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$C(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,h,c)=>{if(h==="*"){let d=a[c]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[h]=VC(a[c]||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function $C(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Wm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(n.push(a),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function HC(t){try{return decodeURI(t)}catch(e){return Wm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function VC(t,e){try{return decodeURIComponent(t)}catch(r){return Wm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function hx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Hs=t=>t.join("/").replace(/\/\/+/g,"/"),jC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function XC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function WC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const YC=typeof Object.is=="function"?Object.is:WC,{useState:qC,useEffect:KC,useLayoutEffect:ZC,useDebugValue:QC}=Ud;function JC(t,e,r){const n=e(),[{inst:i},s]=qC({inst:{value:n,getSnapshot:e}});return ZC(()=>{i.value=n,i.getSnapshot=e,rd(i)&&s({inst:i})},[t,n,e]),KC(()=>(rd(i)&&s({inst:i}),t(()=>{rd(i)&&s({inst:i})})),[t]),QC(n),n}function rd(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!YC(r,n)}catch{return!0}}function eA(t,e,r){return e()}const tA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rA=!tA,nA=rA?eA:JC;"useSyncExternalStore"in Ud&&(t=>t.useSyncExternalStore)(Ud);const cx=Q.createContext(null),dx=Q.createContext(null),fx=Q.createContext(null),nc=Q.createContext(null),ic=Q.createContext({outlet:null,matches:[]}),px=Q.createContext(null);function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$f.apply(this,arguments)}function Ym(){return Q.useContext(nc)!=null}function iA(){return Ym()||Gt(!1),Q.useContext(nc).location}function sA(t,e){Ym()||Gt(!1);let{navigator:r}=Q.useContext(fx),n=Q.useContext(dx),{matches:i}=Q.useContext(ic),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=iA(),u;if(e){var h;let m=typeof e=="string"?rc(e):e;a==="/"||(h=m.pathname)!=null&&h.startsWith(a)||Gt(!1),u=m}else u=l;let c=u.pathname||"/",d=a==="/"?c:c.slice(a.length)||"/",f=RC(t,{pathname:d}),p=uA(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Hs([a,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:Hs([a,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n||void 0);return e&&p?Q.createElement(nc.Provider,{value:{location:$f({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wn.Pop}},p):p}function oA(){let t=fA(),e=XC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),r?Q.createElement("pre",{style:i},r):null,s)}class aA extends Q.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location?{error:e.error,location:e.location}:{error:e.error||r.error,location:r.location}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?Q.createElement(ic.Provider,{value:this.props.routeContext},Q.createElement(px.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lA(t){let{routeContext:e,match:r,children:n}=t,i=Q.useContext(cx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Q.createElement(ic.Provider,{value:e},n)}function uA(t,e,r){if(e===void 0&&(e=[]),t==null)if(r!=null&&r.errors)t=r.matches;else return null;let n=t,i=r?.errors;if(i!=null){let s=n.findIndex(o=>o.route.id&&i?.[o.route.id]);s>=0||Gt(!1),n=n.slice(0,Math.min(n.length,s+1))}return n.reduceRight((s,o,a)=>{let l=o.route.id?i?.[o.route.id]:null,u=null;r&&(o.route.ErrorBoundary?u=Q.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=Q.createElement(oA,null));let h=e.concat(n.slice(0,a+1)),c=()=>{let d=s;return l?d=u:o.route.Component?d=Q.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),Q.createElement(lA,{match:o,routeContext:{outlet:s,matches:h},children:d})};return r&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?Q.createElement(aA,{location:r.location,component:u,error:l,children:c(),routeContext:{outlet:null,matches:h}}):c()},null)}var Y0;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Y0||(Y0={}));var Qu;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Qu||(Qu={}));function hA(t){let e=Q.useContext(dx);return e||Gt(!1),e}function cA(t){let e=Q.useContext(ic);return e||Gt(!1),e}function dA(t){let e=cA(),r=e.matches[e.matches.length-1];return r.route.id||Gt(!1),r.route.id}function fA(){var t;let e=Q.useContext(px),r=hA(Qu.UseRouteError),n=dA(Qu.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function mx(t){Gt(!1)}function pA(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Wn.Pop,navigator:s,static:o=!1}=t;Ym()&&Gt(!1);let a=e.replace(/^\/*/,"/"),l=Q.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof n=="string"&&(n=rc(n));let{pathname:u="/",search:h="",hash:c="",state:d=null,key:f="default"}=n,p=Q.useMemo(()=>{let m=hx(u,a);return m==null?null:{location:{pathname:m,search:h,hash:c,state:d,key:f},navigationType:i}},[a,u,h,c,d,f,i]);return p==null?null:Q.createElement(fx.Provider,{value:l},Q.createElement(nc.Provider,{children:r,value:p}))}function mA(t){let{children:e,location:r}=t,n=Q.useContext(cx),i=n&&!e?n.router.routes:Hf(e);return sA(i,r)}var q0;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(q0||(q0={}));new Promise(()=>{});function Hf(t,e){e===void 0&&(e=[]);let r=[];return Q.Children.forEach(t,(n,i)=>{if(!Q.isValidElement(n))return;let s=[...e,i];if(n.type===Q.Fragment){r.push.apply(r,Hf(n.props.children,s));return}n.type!==mx&&Gt(!1),!n.props.index||!n.props.children||Gt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Hf(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gA(t){let{basename:e,children:r,window:n}=t,i=Q.useRef();i.current==null&&(i.current=AC({window:n,v5Compat:!0}));let s=i.current,[o,a]=Q.useState({action:s.action,location:s.location});return Q.useLayoutEffect(()=>s.listen(a),[s]),Q.createElement(pA,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s})}var K0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(K0||(K0={}));var Z0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Z0||(Z0={}));var is=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(is||{}),gx=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(gx||{}),Vf=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Vf||{}),ne=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ne||{}),en=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(en||{}),z=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(z||{}),Vs=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Vs||{}),re=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(re||{}),jf=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(jf||{}),tn=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(tn||{}),li=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(li||{}),hn=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(hn||{}),Hr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Hr||{}),qr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(qr||{}),qm=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(qm||{}),ur=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(ur||{}),et=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(et||{}),qe=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(qe||{}),on=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(on||{});const _A={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},j={ADAPTER:_A,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var nd=/iPhone/i,Q0=/iPod/i,J0=/iPad/i,e_=/\biOS-universal(?:.+)Mac\b/i,id=/\bAndroid(?:.+)Mobile\b/i,t_=/Android/i,us=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Sl=/Silk/i,pn=/Windows Phone/i,r_=/\bWindows(?:.+)ARM\b/i,n_=/BlackBerry/i,i_=/BB10/i,s_=/Opera Mini/i,o_=/\b(CriOS|Chrome)(?:.+)Mobile/i,a_=/Mobile(?:.+)Firefox\b/i,l_=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function yA(t){return function(e){return e.test(t)}}function u_(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=yA(r),s={apple:{phone:i(nd)&&!i(pn),ipod:i(Q0),tablet:!i(nd)&&(i(J0)||l_(e))&&!i(pn),universal:i(e_),device:(i(nd)||i(Q0)||i(J0)||i(e_)||l_(e))&&!i(pn)},amazon:{phone:i(us),tablet:!i(us)&&i(Sl),device:i(us)||i(Sl)},android:{phone:!i(pn)&&i(us)||!i(pn)&&i(id),tablet:!i(pn)&&!i(us)&&!i(id)&&(i(Sl)||i(t_)),device:!i(pn)&&(i(us)||i(Sl)||i(id)||i(t_))||i(/\bokhttp\b/i)},windows:{phone:i(pn),tablet:i(r_),device:i(pn)||i(r_)},other:{blackberry:i(n_),blackberry10:i(i_),opera:i(s_),firefox:i(a_),chrome:i(o_),device:i(n_)||i(i_)||i(s_)||i(a_)||i(o_)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const vA=u_.default??u_,Tn=vA(globalThis.navigator);j.RETINA_PREFIX=/@([0-9\.]+)x/;j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Qi={},xA={get exports(){return Qi},set exports(t){Qi=t}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function s(l,u,h,c,d){if(typeof h!="function")throw new TypeError("The listener must be a function");var f=new i(h,c||l,d),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,c;if(this._eventsCount===0)return u;for(c in h=this._events)e.call(h,c)&&u.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=r?r+u:u,c=this._events[h];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,p=new Array(f);d<f;d++)p[d]=c[d].fn;return p},a.prototype.listenerCount=function(u){var h=r?r+u:u,c=this._events[h];return c?c.fn?1:c.length:0},a.prototype.emit=function(u,h,c,d,f,p){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,_,g;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,c),!0;case 4:return v.fn.call(v.context,h,c,d),!0;case 5:return v.fn.call(v.context,h,c,d,f),!0;case 6:return v.fn.call(v.context,h,c,d,f,p),!0}for(g=1,_=new Array(y-1);g<y;g++)_[g-1]=arguments[g];v.fn.apply(v.context,_)}else{var x=v.length,w;for(g=0;g<x;g++)switch(v[g].once&&this.removeListener(u,v[g].fn,void 0,!0),y){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,h);break;case 3:v[g].fn.call(v[g].context,h,c);break;case 4:v[g].fn.call(v[g].context,h,c,d);break;default:if(!_)for(w=1,_=new Array(y-1);w<y;w++)_[w-1]=arguments[w];v[g].fn.apply(v[g].context,_)}}return!0},a.prototype.on=function(u,h,c){return s(this,u,h,c,!1)},a.prototype.once=function(u,h,c){return s(this,u,h,c,!0)},a.prototype.removeListener=function(u,h,c,d){var f=r?r+u:u;if(!this._events[f])return this;if(!h)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===h&&(!d||p.once)&&(!c||p.context===c)&&o(this,f);else{for(var m=0,v=[],y=p.length;m<y;m++)(p[m].fn!==h||d&&!p[m].once||c&&p[m].context!==c)&&v.push(p[m]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(xA);var Ju={},wA={get exports(){return Ju},set exports(t){Ju=t}};wA.exports=sc;Ju.default=sc;function sc(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=_x(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,h,c,d,f;if(n&&(s=CA(t,e,s,r)),t.length>80*r){a=u=t[0],l=h=t[1];for(var p=r;p<i;p+=r)c=t[p],d=t[p+1],c<a&&(a=c),d<l&&(l=d),c>u&&(u=c),d>h&&(h=d);f=Math.max(u-a,h-l),f=f!==0?32767/f:0}return Ba(s,o,r,a,l,f,0),o}function _x(t,e,r,n,i){var s,o;if(i===Yf(t,e,r,n)>0)for(s=e;s<r;s+=n)o=h_(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=h_(s,t[s],t[s+1],o);return o&&oc(o,o.next)&&(La(o),o=o.next),o}function Ji(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(oc(r,r.next)||Be(r.prev,r,r.next)===0)){if(La(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Ba(t,e,r,n,i,s,o){if(t){!o&&s&&kA(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?TA(t,n,i,s):EA(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),La(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=SA(Ji(t),e,r),Ba(t,e,r,n,i,s,2)):o===2&&bA(t,e,r,n,i,s):Ba(Ji(t),e,r,n,i,s,1);break}}}}function EA(t){var e=t.prev,r=t,n=t.next;if(Be(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,h=i<s?i<o?i:o:s<o?s:o,c=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,p=n.next;p!==e;){if(p.x>=h&&p.x<=d&&p.y>=c&&p.y<=f&&ks(i,a,s,l,o,u,p.x,p.y)&&Be(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function TA(t,e,r,n){var i=t.prev,s=t,o=t.next;if(Be(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,h=i.y,c=s.y,d=o.y,f=a<l?a<u?a:u:l<u?l:u,p=h<c?h<d?h:d:c<d?c:d,m=a>l?a>u?a:u:l>u?l:u,v=h>c?h>d?h:d:c>d?c:d,y=Xf(f,p,e,r,n),_=Xf(m,v,e,r,n),g=t.prevZ,x=t.nextZ;g&&g.z>=y&&x&&x.z<=_;){if(g.x>=f&&g.x<=m&&g.y>=p&&g.y<=v&&g!==i&&g!==o&&ks(a,h,l,c,u,d,g.x,g.y)&&Be(g.prev,g,g.next)>=0||(g=g.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&ks(a,h,l,c,u,d,x.x,x.y)&&Be(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;g&&g.z>=y;){if(g.x>=f&&g.x<=m&&g.y>=p&&g.y<=v&&g!==i&&g!==o&&ks(a,h,l,c,u,d,g.x,g.y)&&Be(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;x&&x.z<=_;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&ks(a,h,l,c,u,d,x.x,x.y)&&Be(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function SA(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!oc(i,s)&&yx(i,n,n.next,s)&&Oa(i,s)&&Oa(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),La(n),La(n.next),n=t=s),n=n.next}while(n!==t);return Ji(n)}function bA(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&BA(o,a)){var l=vx(o,a);o=Ji(o,o.next),l=Ji(l,l.next),Ba(o,e,r,n,i,s,0),Ba(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function CA(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=_x(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(DA(u));for(i.sort(AA),s=0;s<i.length;s++)r=PA(i[s],r);return r}function AA(t,e){return t.x-e.x}function PA(t,e){var r=IA(t,e);if(!r)return e;var n=vx(r,t);return Ji(n,n.next),Ji(r,r.next)}function IA(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,h=o.y,c=1/0,d;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&ks(i<h?n:s,i,u,h,i<h?s:n,i,r.x,r.y)&&(d=Math.abs(i-r.y)/(n-r.x),Oa(r,t)&&(d<c||d===c&&(r.x>o.x||r.x===o.x&&RA(o,r)))&&(o=r,c=d)),r=r.next;while(r!==l);return o}function RA(t,e){return Be(t.prev,t,e.prev)<0&&Be(e.next,t,t.next)<0}function kA(t,e,r,n){var i=t;do i.z===0&&(i.z=Xf(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,MA(i)}function MA(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function Xf(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function DA(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ks(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function BA(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!OA(t,e)&&(Oa(t,e)&&Oa(e,t)&&LA(t,e)&&(Be(t.prev,t,e.prev)||Be(t,e.prev,e))||oc(t,e)&&Be(t.prev,t,t.next)>0&&Be(e.prev,e,e.next)>0)}function Be(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function oc(t,e){return t.x===e.x&&t.y===e.y}function yx(t,e,r,n){var i=Cl(Be(t,e,r)),s=Cl(Be(t,e,n)),o=Cl(Be(r,n,t)),a=Cl(Be(r,n,e));return!!(i!==s&&o!==a||i===0&&bl(t,r,e)||s===0&&bl(t,n,e)||o===0&&bl(r,t,n)||a===0&&bl(r,e,n))}function bl(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Cl(t){return t>0?1:t<0?-1:0}function OA(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&yx(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Oa(t,e){return Be(t.prev,t,t.next)<0?Be(t,e,t.next)>=0&&Be(t,t.prev,e)>=0:Be(t,e,t.prev)<0||Be(t,t.next,e)<0}function LA(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function vx(t,e){var r=new Wf(t.i,t.x,t.y),n=new Wf(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function h_(t,e,r,n){var i=new Wf(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function La(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Wf(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}sc.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Yf(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,h=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Yf(t,u,h,r))}var c=0;for(a=0;a<n.length;a+=3){var d=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function Yf(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}sc.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var eh={},NA={get exports(){return eh},set exports(t){eh=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Ac=="object"&&Ac;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,h=26,c=38,d=700,f=72,p=128,m="-",v=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,w=Math.floor,S=String.fromCharCode,T;function E(D){throw RangeError(g[D])}function b(D,$){for(var M=D.length,O=[];M--;)O[M]=$(D[M]);return O}function C(D,$){var M=D.split("@"),O="";M.length>1&&(O=M[0]+"@",D=M[1]),D=D.replace(_,".");var B=D.split("."),X=b(B,$).join(".");return O+X}function R(D){for(var $=[],M=0,O=D.length,B,X;M<O;)B=D.charCodeAt(M++),B>=55296&&B<=56319&&M<O?(X=D.charCodeAt(M++),(X&64512)==56320?$.push(((B&1023)<<10)+(X&1023)+65536):($.push(B),M--)):$.push(B);return $}function G(D){return b(D,function($){var M="";return $>65535&&($-=65536,M+=S($>>>10&1023|55296),$=56320|$&1023),M+=S($),M}).join("")}function P(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:l}function I(D,$){return D+22+75*(D<26)-(($!=0)<<5)}function V(D,$,M){var O=0;for(D=M?w(D/d):D>>1,D+=w(D/$);D>x*h>>1;O+=l)D=w(D/x);return w(O+(x+1)*D/(D+c))}function H(D){var $=[],M=D.length,O,B=0,X=p,A=f,ee,L,he,ie,te,K,ue,be,ae;for(ee=D.lastIndexOf(m),ee<0&&(ee=0),L=0;L<ee;++L)D.charCodeAt(L)>=128&&E("not-basic"),$.push(D.charCodeAt(L));for(he=ee>0?ee+1:0;he<M;){for(ie=B,te=1,K=l;he>=M&&E("invalid-input"),ue=P(D.charCodeAt(he++)),(ue>=l||ue>w((a-B)/te))&&E("overflow"),B+=ue*te,be=K<=A?u:K>=A+h?h:K-A,!(ue<be);K+=l)ae=l-be,te>w(a/ae)&&E("overflow"),te*=ae;O=$.length+1,A=V(B-ie,O,ie==0),w(B/O)>a-X&&E("overflow"),X+=w(B/O),B%=O,$.splice(B++,0,X)}return G($)}function U(D){var $,M,O,B,X,A,ee,L,he,ie,te,K=[],ue,be,ae,Ue;for(D=R(D),ue=D.length,$=p,M=0,X=f,A=0;A<ue;++A)te=D[A],te<128&&K.push(S(te));for(O=B=K.length,B&&K.push(m);O<ue;){for(ee=a,A=0;A<ue;++A)te=D[A],te>=$&&te<ee&&(ee=te);for(be=O+1,ee-$>w((a-M)/be)&&E("overflow"),M+=(ee-$)*be,$=ee,A=0;A<ue;++A)if(te=D[A],te<$&&++M>a&&E("overflow"),te==$){for(L=M,he=l;ie=he<=X?u:he>=X+h?h:he-X,!(L<ie);he+=l)Ue=L-ie,ae=l-ie,K.push(S(I(ie+Ue%ae,0))),L=w(Ue/ae);K.push(S(I(L,0))),X=V(M,be,O==B),M=0,++O}++M,++$}return K.join("")}function k(D){return C(D,function($){return v.test($)?H($.slice(4).toLowerCase()):$})}function F(D){return C(D,function($){return y.test($)?"xn--"+U($):$})}if(o={version:"1.3.2",ucs2:{decode:R,encode:G},decode:H,encode:U,toASCII:F,toUnicode:k},n&&i)if(t.exports==n)i.exports=o;else for(T in o)o.hasOwnProperty(T)&&(n[T]=o[T]);else r.punycode=o})(Ac)})(NA,eh);var FA={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Na={};function UA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var zA=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var u=t[l].replace(s,"%20"),h=u.indexOf(r),c,d,f,p;h>=0?(c=u.substr(0,h),d=u.substr(h+1)):(c=u,d=""),f=decodeURIComponent(c),p=decodeURIComponent(d),UA(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i},Bo=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},GA=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(Bo(i))+r;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(Bo(o))}).join(e):s+encodeURIComponent(Bo(t[i]))}).join(e):n?encodeURIComponent(Bo(n))+r+encodeURIComponent(Bo(t)):""};Na.decode=Na.parse=zA;Na.encode=Na.stringify=GA;var $A=eh,Kr=FA,HA=ac,VA=tP,jA=eP;function Fr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var XA=/^([a-z0-9.+-]+:)/i,WA=/:[0-9]*$/,YA=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,qA=["<",">",'"',"`"," ","\r",`
`,"	"],KA=["{","}","|","\\","^","`"].concat(qA),qf=["'"].concat(KA),c_=["%","/","?",";","#"].concat(qf),d_=["/","?","#"],ZA=255,f_=/^[+a-z0-9A-Z_-]{0,63}$/,QA=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,JA={javascript:!0,"javascript:":!0},Kf={javascript:!0,"javascript:":!0},js={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Zf=Na;function ac(t,e,r){if(t&&Kr.isObject(t)&&t instanceof Fr)return t;var n=new Fr;return n.parse(t,e,r),n}Fr.prototype.parse=function(t,e,r){if(!Kr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=YA.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Zf.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=XA.exec(a);if(u){u=u[0];var h=u.toLowerCase();this.protocol=h,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=a.substr(0,2)==="//";c&&!(u&&Kf[u])&&(a=a.substr(2),this.slashes=!0)}if(!Kf[u]&&(c||u&&!js[u])){for(var d=-1,f=0;f<d_.length;f++){var p=a.indexOf(d_[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,v;d===-1?v=a.lastIndexOf("@"):v=a.lastIndexOf("@",d),v!==-1&&(m=a.slice(0,v),a=a.slice(v+1),this.auth=decodeURIComponent(m)),d=-1;for(var f=0;f<c_.length;f++){var p=a.indexOf(c_[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var _=this.hostname.split(/\./),f=0,g=_.length;f<g;f++){var x=_[f];if(x&&!x.match(f_)){for(var w="",S=0,T=x.length;S<T;S++)x.charCodeAt(S)>127?w+="x":w+=x[S];if(!w.match(f_)){var E=_.slice(0,f),b=_.slice(f+1),C=x.match(QA);C&&(E.push(C[1]),b.unshift(C[2])),b.length&&(a="/"+b.join(".")+a),this.hostname=E.join(".");break}}}this.hostname.length>ZA?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=$A.toASCII(this.hostname));var R=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+R,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!JA[h])for(var f=0,g=qf.length;f<g;f++){var P=qf[f];if(a.indexOf(P)!==-1){var I=encodeURIComponent(P);I===P&&(I=escape(P)),a=a.split(P).join(I)}}var V=a.indexOf("#");V!==-1&&(this.hash=a.substr(V),a=a.slice(0,V));var H=a.indexOf("?");if(H!==-1?(this.search=a.substr(H),this.query=a.substr(H+1),e&&(this.query=Zf.parse(this.query)),a=a.slice(0,H)):e&&(this.search="",this.query={}),a&&(this.pathname=a),js[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",U=this.search||"";this.path=R+U}return this.href=this.format(),this};function eP(t){return Kr.isString(t)&&(t=ac(t)),t instanceof Fr?t.format():Fr.prototype.format.call(t)}Fr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Kr.isObject(this.query)&&Object.keys(this.query).length&&(s=Zf.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||js[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function tP(t,e){return ac(t,!1,!0).resolve(e)}Fr.prototype.resolve=function(t){return this.resolveObject(ac(t,!1,!0)).format()};Fr.prototype.resolveObject=function(t){if(Kr.isString(t)){var e=new Fr;e.parse(t,!1,!0),t=e}for(var r=new Fr,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return js[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!js[t.protocol]){for(var u=Object.keys(t),h=0;h<u.length;h++){var c=u[h];r[c]=t[c]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Kf[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",f=r.search||"";r.path=d+f}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",v=m||p||r.host&&t.pathname,y=v,_=r.pathname&&r.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!js[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),v=v&&(g[0]===""||_[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=g;else if(g.length)_||(_=[]),_.pop(),_=_.concat(g),r.search=t.search,r.query=t.query;else if(!Kr.isNullOrUndefined(t.search)){if(x){r.hostname=r.host=_.shift();var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.host=r.hostname=w.shift())}return r.search=t.search,r.query=t.query,(!Kr.isNull(r.pathname)||!Kr.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=_.slice(-1)[0],T=(r.host||t.host||_.length>1)&&(S==="."||S==="..")||S==="",E=0,b=_.length;b>=0;b--)S=_[b],S==="."?_.splice(b,1):S===".."?(_.splice(b,1),E++):E&&(_.splice(b,1),E--);if(!v&&!y)for(;E--;E)_.unshift("..");v&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),T&&_.join("/").substr(-1)!=="/"&&_.push("");var C=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(x){r.hostname=r.host=C?"":_.length?_.shift():"";var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.host=r.hostname=w.shift())}return v=v||r.host&&_.length,v&&!C&&_.unshift(""),_.length?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(!Kr.isNull(r.pathname)||!Kr.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Fr.prototype.parseHost=function(){var t=this.host,e=WA.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const rP={parse:HA,format:jA,resolve:VA};function Er(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Oo(t){return t.split("?")[0].split("#")[0]}function nP(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function iP(t,e,r){return t.replace(new RegExp(nP(e),"g"),r)}function sP(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const _t={toPosix(t){return iP(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Er(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=r?.[0]||n?.[0]||i?.[0];e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=Oo(this.toPosix(e??j.ADAPTER.getBaseUrl())),i=Oo(this.toPosix(r??this.rootname(n)));return Er(t),t=this.toPosix(t),t.startsWith("/")?_t.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),Er(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=sP(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Er(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Er(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Er(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Er(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Er(t),e&&Er(e),t=Oo(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Er(t),t=Oo(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Er(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Oo(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,h=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},p_={};function ce(t,e,r=3){if(p_[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),p_[e]=!0}let sd;function oP(){return typeof sd>"u"&&(sd=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!j.ADAPTER.getWebGLRenderingContext())return!1;const r=j.ADAPTER.createCanvas();let n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const i=!!n?.getContextAttributes()?.stencil;if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),sd}var aP={grad:.9,turn:360,rad:360/(2*Math.PI)},mn=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},st=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},hr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},xx=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},m_=function(t){return{r:hr(t.r,0,255),g:hr(t.g,0,255),b:hr(t.b,0,255),a:hr(t.a)}},od=function(t){return{r:st(t.r),g:st(t.g),b:st(t.b),a:st(t.a,3)}},lP=/^#([0-9a-f]{3,8})$/i,Al=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},wx=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},Ex=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),u=s%6;return{r:255*[n,a,o,o,l,n][u],g:255*[l,n,n,a,o,o][u],b:255*[o,o,l,n,n,a][u],a:i}},g_=function(t){return{h:xx(t.h),s:hr(t.s,0,100),l:hr(t.l,0,100),a:hr(t.a)}},__=function(t){return{h:st(t.h),s:st(t.s),l:st(t.l),a:st(t.a,3)}},y_=function(t){return Ex((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},ca=function(t){return{h:(e=wx(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},uP=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hP=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cP=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,dP=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Qf={string:[[function(t){var e=lP.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?st(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?st(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=cP.exec(t)||dP.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:m_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=uP.exec(t)||hP.exec(t);if(!e)return null;var r,n,i=g_({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(aP[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return y_(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return mn(e)&&mn(r)&&mn(n)?m_({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!mn(e)||!mn(r)||!mn(n))return null;var o=g_({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return y_(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!mn(e)||!mn(r)||!mn(n))return null;var o=function(a){return{h:xx(a.h),s:hr(a.s,0,100),v:hr(a.v,0,100),a:hr(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return Ex(o)},"hsv"]]},v_=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},fP=function(t){return typeof t=="string"?v_(t.trim(),Qf.string):typeof t=="object"&&t!==null?v_(t,Qf.object):[null,void 0]},ad=function(t,e){var r=ca(t);return{h:r.h,s:hr(r.s+100*e,0,100),l:r.l,a:r.a}},ld=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},x_=function(t,e){var r=ca(t);return{h:r.h,s:r.s,l:hr(r.l+100*e,0,100),a:r.a}},Jf=function(){function t(e){this.parsed=fP(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return st(ld(this.rgba),2)},t.prototype.isDark=function(){return ld(this.rgba)<.5},t.prototype.isLight=function(){return ld(this.rgba)>=.5},t.prototype.toHex=function(){return e=od(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Al(st(255*s)):"","#"+Al(r)+Al(n)+Al(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return od(this.rgba)},t.prototype.toRgbString=function(){return e=od(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return __(ca(this.rgba))},t.prototype.toHslString=function(){return e=__(ca(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=wx(this.rgba),{h:st(e.h),s:st(e.s),v:st(e.v),a:st(e.a,3)};var e},t.prototype.invert=function(){return Xr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Xr(ad(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Xr(ad(this.rgba,-e))},t.prototype.grayscale=function(){return Xr(ad(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Xr(x_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Xr(x_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Xr({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):st(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=ca(this.rgba);return typeof e=="number"?Xr({h:e,s:r.s,l:r.l,a:r.a}):st(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Xr(e).toHex()},t}(),Xr=function(t){return t instanceof Jf?t:new Jf(t)},w_=[],pP=function(t){t.forEach(function(e){w_.indexOf(e)<0&&(e(Jf,Qf),w_.push(e))})};function mP(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=n[this.toHex()];if(u)return u;if(o?.closest){var h=this.toRgb(),c=1/0,d="black";if(!s.length)for(var f in r)s[f]=new t(r[f]).toRgb();for(var p in r){var m=(a=h,l=s[p],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));m<c&&(c=m,d=p)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}pP([mP]);const Xs=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Xs)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((i,s)=>i===e[s]);if(t!==null&&e!==null){const i=Object.keys(t),s=Object.keys(e);return i.length!==s.length?!1:i.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=Xs.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=Xs.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=Xr(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let we=Xs;we.shared=new Xs;we.temp=new Xs;we.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function gP(t){return ce("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),we.shared.setValue(t).toHex()}function _P(t){return ce("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),we.shared.setValue(t).toNumber()}function yP(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ne.NORMAL_NPM]=ne.NORMAL,t[ne.ADD_NPM]=ne.ADD,t[ne.SCREEN_NPM]=ne.SCREEN,e[ne.NORMAL]=ne.NORMAL_NPM,e[ne.ADD]=ne.ADD_NPM,e[ne.SCREEN]=ne.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const Tx=yP();function Sx(t,e){return Tx[e?1:0][t]}function vP(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function bx(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function th(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function E_(t){return!(t&t-1)&&!!t}function T_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ws(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Yn(t){return t===0?0:t<0?-1:1}let xP=0;function es(){return++xP}const Cx=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let ep=Cx;ep.EMPTY=new Cx(0,0,0,0);const S_={},Wr=Object.create(null),Fn=Object.create(null);class wP{constructor(e,r,n){this._canvas=j.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||j.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function b_(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function C_(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function EP(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,u=r-1;for(;a<r&&b_(s,e,a);)++a;if(a===r)return ep.EMPTY;for(;b_(s,e,u);)--u;for(;C_(s,e,o,a,u);)++o;for(;C_(s,e,l,a,u);)--l;return++l,++u,new ep(o,a,l,u)}function TP(t){const e=EP(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Pl;function SP(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Pl||(Pl=document.createElement("a")),Pl.href=t;const r=rP.parse(Pl.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function fi(t,e=1){const r=j.RETINA_PREFIX?.exec(t);return r?parseFloat(r[1]):e}var W=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(W||{});const tp=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},A_=(t,e)=>tp(t).priority??e,J={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(tp).forEach(e=>{e.type.forEach(r=>this._removeHandlers[r]?.(e))}),this},add(...t){return t.map(tp).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>A_(s,r)-A_(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class rp{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const bP=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function CP(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function AP(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=bP.replace(/%forloop%/gi,CP(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const ud=0,hd=1,cd=2,dd=3,fd=4,pd=5;class On{constructor(){this.data=0,this.blendMode=ne.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<ud)}set blend(e){!!(this.data&1<<ud)!==e&&(this.data^=1<<ud)}get offsets(){return!!(this.data&1<<hd)}set offsets(e){!!(this.data&1<<hd)!==e&&(this.data^=1<<hd)}get culling(){return!!(this.data&1<<cd)}set culling(e){!!(this.data&1<<cd)!==e&&(this.data^=1<<cd)}get depthTest(){return!!(this.data&1<<dd)}set depthTest(e){!!(this.data&1<<dd)!==e&&(this.data^=1<<dd)}get depthMask(){return!!(this.data&1<<pd)}set depthMask(e){!!(this.data&1<<pd)!==e&&(this.data^=1<<pd)}get clockwiseFrontFace(){return!!(this.data&1<<fd)}set clockwiseFrontFace(e){!!(this.data&1<<fd)!==e&&(this.data^=1<<fd)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ne.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new On;return e.depthTest=!1,e.blend=!0,e}}const np=[];function Ax(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=np.length-1;n>=0;--n){const i=np[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ur{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:h}=this;this._aliasCount++;for(let c=0,d=h.length;c<d;c++)h[c][u](e,r,n,i,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ur.prototype,{dispatch:{value:Ur.prototype.emit},run:{value:Ur.prototype.emit}});class Fa{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Ur("setRealSize"),this.onUpdate=new Ur("update"),this.onError=new Ur("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Ja extends Fa{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Hr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const PP={scaleMode:tn.NEAREST,format:z.RGBA,alphaMode:Hr.NPM},ds=class extends Qi{constructor(t=null,e=null){super(),e=Object.assign({},ds.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:h,target:c,resolution:d,resourceOptions:f}=e;t&&!(t instanceof Fa)&&(t=Ax(t,f),t.internal=!0),this.resolution=d||j.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=h,this.target=c,this.alphaMode=r,this.uid=es(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=E_(this.realWidth)&&E_(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Fn[this.cacheId],delete Wr[this.cacheId],this.cacheId=null),this.dispose(),ds.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=j.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=e?.pixiIdPrefix||"pixiid";t._pixiId=`${o}_${es()}`}i=t._pixiId}let s=Fn[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new ds(t,e),s.cacheId=i,ds.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new Ja(t,{width:e,height:r}),s=t instanceof Float32Array?re.FLOAT:re.UNSIGNED_BYTE;return new ds(i,Object.assign({},PP,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Fn[e]&&Fn[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Fn[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Fn[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Fn[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Fn[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let oe=ds;oe.defaultOptions={mipmap:hn.POW2,anisotropicLevel:0,scaleMode:tn.LINEAR,wrapMode:li.CLAMP,alphaMode:Hr.UNPACK,target:Vs.TEXTURE_2D,format:z.RGBA,type:re.UNSIGNED_BYTE};oe._globalBatch=0;class ip{constructor(){this.texArray=null,this.blend=0,this.type=en.TRIANGLES,this.start=0,this.size=0,this.data=null}}let IP=0;class We{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=IP++,this.disposeRunner=new Ur("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?on.ELEMENT_ARRAY_BUFFER:on.ARRAY_BUFFER}get index(){return this.type===on.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new We(e)}}class rh{constructor(e,r=0,n=!1,i=re.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,n,i,s){return new rh(e,r,n,i,s)}}const RP={Float32Array,Uint32Array,Int32Array,Uint8Array};function kP(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],h=t[l],c=bx(h);i[c]||(i[c]=new RP[c](s)),o=i[c];for(let d=0;d<h.length;d++){const f=(d/u|0)*n+a,p=d%u;o[f+p]=h[d]}a+=u}return new Float32Array(s)}const P_={5126:4,5123:2,5121:1};let MP=0;const DP={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class pi{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=MP++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ur("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof We||(r instanceof Array&&(r=new Float32Array(r)),r=new We(r));const u=e.split("|");if(u.length>1){for(let c=0;c<u.length;c++)this.addAttribute(u[c],r,n,i,s);return this}let h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[e]=new rh(h,n,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof We||(e instanceof Array&&(e=new Uint16Array(e)),e=new We(e)),e.type=on.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new We;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*P_[s.type]/4),s.buffer=0}for(n.data=kP(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new pi;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new We(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new rh(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=on.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new pi,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new DP[bx(o.buffers[a].data)](i[a]),r.buffers[a]=new We(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=on.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,h=0;for(let c=0;c<o.buffers.length;c++)if(o.buffers[c]!==o.indexBuffer){h=c;break}for(const c in o.attributes){const d=o.attributes[c];(d.buffer|0)===h&&(l+=d.size*P_[d.type]/4)}for(let c=0;c<e.length;c++){const d=e[c].indexBuffer.data;for(let f=0;f<d.length;f++)r.indexBuffer.data[f+u]+=a;a+=e[c].buffers[h].data.length/l,u+=d.length}}return r}}class Px extends pi{constructor(e=!1){super(),this._buffer=new We(null,e,!1),this._indexBuffer=new We(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,re.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,re.FLOAT).addAttribute("aColor",this._buffer,4,!0,re.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,re.FLOAT).addIndex(this._indexBuffer)}}const nh=Math.PI*2,BP=180/Math.PI,OP=Math.PI/180;var ft=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(ft||{});class ge{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new ge(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Il=[new ge,new ge,new ge,new ge];class le{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=ft.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new le(0,0,0,0)}clone(){return new le(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const E=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=E)return!1;const C=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>C}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Il[0].set(e.left,e.top),l=Il[1].set(e.left,e.bottom),u=Il[2].set(e.right,e.top),h=Il[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const c=Math.sign(r.a*r.d-r.b*r.c);if(c===0||(r.apply(a,a),r.apply(l,l),r.apply(u,u),r.apply(h,h),Math.max(a.x,l.x,u.x,h.x)<=n||Math.min(a.x,l.x,u.x,h.x)>=i||Math.max(a.y,l.y,u.y,h.y)<=s||Math.min(a.y,l.y,u.y,h.y)>=o))return!1;const d=c*(l.y-a.y),f=c*(a.x-l.x),p=d*n+f*s,m=d*i+f*s,v=d*n+f*o,y=d*i+f*o;if(Math.max(p,m,v,y)<=d*a.x+f*a.y||Math.min(p,m,v,y)>=d*h.x+f*h.y)return!1;const _=c*(a.y-u.y),g=c*(u.x-a.x),x=_*n+g*s,w=_*i+g*s,S=_*n+g*o,T=_*i+g*o;return!(Math.max(x,w,S,T)<=_*a.x+g*a.y||Math.min(x,w,S,T)>=_*h.x+g*h.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Km{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=ft.CIRC}clone(){return new Km(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new le(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Zm{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=ft.ELIP}clone(){return new Zm(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new le(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Ys{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=ft.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Ys(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],h=this.points[o*2+1];l>r!=h>r&&e<(u-a)*((r-l)/(h-l))+a&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class Qm{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=ft.RREC}clone(){return new Qm(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Ie{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new ge;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new ge;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(nh-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ie;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Ie}static get TEMP_MATRIX(){return new Ie}}const Ii=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ri=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ki=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Mi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],sp=[],Ix=[],Rl=Math.sign;function LP(){for(let t=0;t<16;t++){const e=[];sp.push(e);for(let r=0;r<16;r++){const n=Rl(Ii[t]*Ii[r]+ki[t]*Ri[r]),i=Rl(Ri[t]*Ii[r]+Mi[t]*Ri[r]),s=Rl(Ii[t]*ki[r]+ki[t]*Mi[r]),o=Rl(Ri[t]*ki[r]+Mi[t]*Mi[r]);for(let a=0;a<16;a++)if(Ii[a]===n&&Ri[a]===i&&ki[a]===s&&Mi[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Ie;e.set(Ii[t],Ri[t],ki[t],Mi[t],0,0),Ix.push(e)}}LP();const ke={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ii[t],uY:t=>Ri[t],vX:t=>ki[t],vY:t=>Mi[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>sp[t][e],sub:(t,e)=>sp[t][ke.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ke.S:ke.N:Math.abs(e)*2<=Math.abs(t)?t>0?ke.E:ke.W:e>0?t>0?ke.SE:ke.SW:t>0?ke.NE:ke.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=Ix[ke.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class qn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new qn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const Rx=class{constructor(){this.worldTransform=new Ie,this.localTransform=new Ie,this.position=new qn(this.onChange,this,0,0),this.scale=new qn(this.onChange,this,1,1),this.pivot=new qn(this.onChange,this,0,0),this.skew=new qn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Jm=Rx;Jm.IDENTITY=new Rx;var NP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,FP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function I_(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function md(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function kx(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return md(2*e);case"bvec3":return md(3*e);case"bvec4":return md(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const qs=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],UP={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},zP={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function GP(t,e){const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in t.uniforms){const i=e[n];if(!i){t.uniforms[n]?.group&&(t.uniforms[n].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const s=t.uniforms[n];let o=!1;for(let a=0;a<qs.length;a++)if(qs[a].test(i,s)){r.push(qs[a].code(n,s)),o=!0;break}if(!o){const l=(i.size===1&&!i.isArray?UP:zP)[i.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${l};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const Mx={};let kl=Mx;function $P(){if(kl===Mx||kl?.isContextLost()){const t=j.ADAPTER.createCanvas();let e;j.PREFER_ENV>=is.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),kl=e}return kl}let Ml;function HP(){if(!Ml){Ml=ur.MEDIUM;const t=$P();t&&t.getShaderPrecisionFormat&&(Ml=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?ur.HIGH:ur.MEDIUM)}return Ml}function R_(t,e){const r=t.getShaderSource(e).split(`
`).map((u,h)=>`${h}: ${u}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function VP(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||R_(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||R_(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const jP={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Dx(t){return jP[t]}let Dl=null;const k_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Bx(t,e){if(!Dl){const r=Object.keys(k_);Dl={};for(let n=0;n<r.length;++n){const i=r[n];Dl[t[i]]=k_[i]}}return Dl[e]}function M_(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===ur.HIGH&&r!==ur.HIGH&&(n=ur.MEDIUM),`precision ${n} float;
${t}`}else if(r!==ur.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Lo;function XP(){if(typeof Lo=="boolean")return Lo;try{Lo=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Lo=!1}return Lo}let WP=0;const Bl={},fs=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=WP++,this.vertexSrc=t||fs.defaultVertexSrc,this.fragmentSrc=e||fs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Bl[r]?(Bl[r]++,r+=`-${Bl[r]}`):Bl[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=M_(this.vertexSrc,fs.defaultVertexPrecision,ur.HIGH),this.fragmentSrc=M_(this.fragmentSrc,fs.defaultFragmentPrecision,HP())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return FP}static get defaultFragmentSrc(){return NP}static from(t,e,r){const n=t+e;let i=S_[n];return i||(S_[n]=i=new fs(t,e,r)),i}};let Br=fs;Br.defaultVertexPrecision=ur.HIGH;Br.defaultFragmentPrecision=Tn.apple.device?ur.HIGH:ur.MEDIUM;let YP=0;class zr{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=YP++,this.static=!!r,this.ubo=!!n,e instanceof We?(this.buffer=e,this.buffer.type=on.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new We(new Float32Array(1)),this.buffer.type=on.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new zr(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new zr(e,r,n)}static uboFrom(e,r){return new zr(e,r??!0,!0)}}class an{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof zr?this.uniformGroup=r:this.uniformGroup=new zr(r):this.uniformGroup=new zr({}),this.disposeRunner=new Ur("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Br.from(e,r);return new an(i,n)}}class qP{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=zr.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Br(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ie,default:this.defaultGroupCache[e]};return new an(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class op{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function KP(){return!Tn.apple.device}function ZP(t){let e=!0;const r=j.ADAPTER.getNavigator();if(Tn.tablet||Tn.phone){if(Tn.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Tn.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class lc{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var QP=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,JP=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Sr=class extends lc{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=Px,this.vertexSize=6,this.state=On.for2d(),this.size=Sr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??ZP(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??KP(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return ce("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return JP}static get defaultFragmentTemplate(){return QP}setShaderGenerator({vertex:t=Sr.defaultVertexSrc,fragment:e=Sr.defaultFragmentTemplate}={}){this.shaderGenerator=new qP(t,e)}contextChange(){const t=this.renderer.gl;j.PREFER_ENV===is.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Sr.defaultMaxTextures),this.maxTextures=AP(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Sr,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new ip);for(;e.length<n;)e.push(new op);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=Sr._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++oe._globalBatch,a=0,l=r[0],u=0;n.copyBoundTextures(i,e);for(let h=0;h<this._bufferSize;++h){const c=t[h];t[h]=null,c._batchEnabled!==o&&(l.count>=e&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,h),u=h,l=r[++a],++o),c._batchEnabled=o,c.touched=s,l.elements[l.count++]=c)}l.count>0&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let h=0;h<i.length;h++)i[h]=null;oe._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Sr._drawCallPool;let l=this._dcIndex,u=this._aIndex,h=this._iIndex,c=a[l];c.start=this._iIndex,c.texArray=t;for(let d=e;d<r;++d){const f=n[d],p=f._texture.baseTexture,m=Tx[p.alphaMode?1:0][f.blendMode];n[d]=null,e<d&&c.blend!==m&&(c.size=h-c.start,e=d,c=a[++l],c.texArray=t,c.start=h),this.packInterleavedGeometry(f,i,s,u,h),u+=f.vertexData.length/2*o,h+=f.indices.length,c.blend=m}e<r&&(c.size=h-c.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;Sr.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=Sr._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:h}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,r.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Sr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=th(Math.ceil(t/8)),r=T_(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new rp(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=th(Math.ceil(t/12)),r=T_(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,l=t.uvs,u=t.indices,h=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=we.shared.setValue(t._tintRGB).toPremultiplied(d,t._texture.baseTexture.alphaMode>0);for(let p=0;p<h.length;p+=2)o[n++]=h[p],o[n++]=h[p+1],o[n++]=l[p],o[n++]=l[p+1],s[n++]=f,o[n++]=c;for(let p=0;p<u.length;p++)r[i++]=a+u[p]}};let Mr=Sr;Mr.defaultBatchSize=4096;Mr.extension={name:"batch",type:W.RendererPlugin};Mr._drawCallPool=[];Mr._textureArrayPool=[];J.add(Mr);var eI=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,tI=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Xo=class extends an{constructor(t,e,r){const n=Br.from(t||Xo.defaultVertexSrc,e||Xo.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=Xo.defaultResolution,this.multisample=Xo.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new On}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return tI}static get defaultFragmentSrc(){return eI}};let pt=Xo;pt.defaultResolution=1;pt.defaultMultisample=qe.NONE;class uc{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new we(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}uc.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};uc.extension={type:[W.RendererSystem,W.CanvasRendererSystem],name:"background"};J.add(uc);class Ox{constructor(e){this.renderer=e,this.emptyRenderer=new lc(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const h=s[u],c=h._batchLocation;if(c>=0&&c<i&&r[c]===h){o[u]=c;continue}for(;l<i;){const d=r[l];if(d&&d._batchEnabled===n&&d._batchLocation===l){l++;continue}o[u]=l,h._batchLocation=l,r[l]=h;break}}}destroy(){this.renderer=null}}Ox.extension={type:W.RendererSystem,name:"batch"};J.add(Ox);let D_=0;class hc{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=D_++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=D_++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(j.PREFER_ENV>=is.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}hc.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};hc.extension={type:W.RendererSystem,name:"context"};J.add(hc);class rI extends Ja{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Hr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class ap{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ur("disposeFramebuffer"),this.multisample=qe.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new oe(null,{scaleMode:tn.NEAREST,resolution:1,mipmap:hn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new oe(new rI(null,{width:this.width,height:this.height}),{scaleMode:tn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:hn.OFF,format:z.DEPTH_COMPONENT,type:re.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Lx extends oe{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=qe.NONE),super(null,e),this.mipmap=hn.OFF,this.valid=!0,this._clear=new we([0,0,0,0]),this.framebuffer=new ap(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class mi extends Fa{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=SP(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Hr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class Nx extends mi{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;mi.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??j.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Hr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Fx{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=ke.add(n,ke.NW),this.x0=l+o*ke.uX(n),this.y0=u+a*ke.uY(n),n=ke.add(n,2),this.x1=l+o*ke.uX(n),this.y1=u+a*ke.uY(n),n=ke.add(n,2),this.x2=l+o*ke.uX(n),this.y2=u+a*ke.uY(n),n=ke.add(n,2),this.x3=l+o*ke.uX(n),this.y3=u+a*ke.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const B_=new Fx;function Ol(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class q extends Qi{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new le(0,0,1,1)),e instanceof q&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=B_,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ge(o.x,o.y):new ge(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r?.url&&Wr[r.url]&&q.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,q.removeFromCache(this),this.textureCacheIds=null}clone(){const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new q(this.baseTexture,!this.noFrame&&e,r,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===B_&&(this._uvs=new Fx),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=j.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof oe){if(!e.cacheId){const a=r?.pixiIdPrefix||"pixiid";e.cacheId=`${a}-${es()}`,oe.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=r?.pixiIdPrefix||"pixiid";e._pixiId=`${a}_${es()}`}s=e._pixiId}let o=Wr[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof oe)?(r.resolution||(r.resolution=fi(e)),o=new q(new oe(e,r)),o.baseTexture.cacheId=s,oe.addToCache(o.baseTexture,s),q.addToCache(o,s)):!o&&e instanceof oe&&(o=new q(e),q.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r?.resourceOptions),i=q.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new q(oe.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new oe(e,Object.assign({scaleMode:oe.defaultOptions.scaleMode,resolution:fi(r)},i)),{resource:o}=s;o instanceof Nx&&(o.url=r);const a=new q(s);return n||(n=r),oe.addToCache(a.baseTexture,n),q.addToCache(a,n),n!==r&&(oe.addToCache(a.baseTexture,r),q.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Wr[r]&&Wr[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Wr[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Wr[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Wr[e],r}}else if(e?.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Wr[e.textureCacheIds[r]]===e&&delete Wr[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,h=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return q._EMPTY||(q._EMPTY=new q(new oe),Ol(q._EMPTY),Ol(q._EMPTY.baseTexture)),q._EMPTY}static get WHITE(){if(!q._WHITE){const e=j.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),q._WHITE=new q(oe.from(e)),Ol(q._WHITE),Ol(q._WHITE.baseTexture)}return q._WHITE}}class ss extends q{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ss(new Lx(e))}}class Ux{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=qe.NONE){const i=new Lx(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ss(i)}getOptimalTexture(e,r,n=1,i=qe.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=th(e),r=th(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||qe.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Ux.SCREEN_KEY=-1;class nI extends pi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class zx extends pi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new We(this.vertices),this.uvBuffer=new We(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class iI{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qe.NONE,this.sourceFrame=new le,this.destinationFrame=new le,this.bindingSourceFrame=new le,this.bindingDestinationFrame=new le,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Ll=[new ge,new ge,new ge,new ge],gd=new Ie;class Gx{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Ux,this.statePool=[],this.quad=new nI,this.quadUv=new zx,this.tempRect=new le,this.activeState={},this.globalUniforms=new zr({outputFrame:new le,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new iI,o=this.renderer.renderTexture;let a=r[0].resolution,l=r[0].multisample,u=r[0].padding,h=r[0].autoFit,c=r[0].legacy??!0;for(let p=1;p<r.length;p++){const m=r[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),u=this.useMaxPadding?Math.max(u,m.padding):u+m.padding,h=h&&m.autoFit,c=c||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=c,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const d=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(gd.copyFrom(n.projection.transform).invert(),d),h?(s.sourceFrame.fit(d),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(d)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const f=this.tempRect;f.x=0,f.y=0,f.width=s.sourceFrame.width,f.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,f),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,qr.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,h=this.getOptimalFilterTexture(u.width,u.height,r.resolution);h.filterFrame=u.filterFrame;let c=0;for(c=0;c<n.length-1;++c){c===1&&r.multisample>1&&(h=this.getOptimalFilterTexture(u.width,u.height,r.resolution),h.filterFrame=u.filterFrame),n[c].apply(this,u,h,qr.CLEAR,r);const d=u;u=h,h=d}n[c].apply(this,u,l.renderTexture,qr.BLEND,r),c>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=qr.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===qr.CLEAR||r===qr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(en.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(en.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Ie.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=qe.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||qe.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Ll[0],i=Ll[1],s=Ll[2],o=Ll[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),h=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=h-l}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?gd.copyFrom(s):gd.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}Gx.extension={type:W.RendererSystem,name:"filter"};J.add(Gx);class sI{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qe.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const oI=new le;class $x{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new ap(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new le,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;j.PREFER_ENV===is.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Vf.COLOR|Vf.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new sI(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,h._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=qe.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=qe.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new ap(i.width,i.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=oI,r.width=i.width,r.height=i.height),n||(n=r);const u=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new le}destroy(){this.renderer=null}}$x.extension={type:W.RendererSystem,name:"framebuffer"};J.add($x);const _d={5126:4,5123:2,5121:1};class Hx{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;j.PREFER_ENV===is.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>n.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let h=u[l];if(h)return u[a.id]=h,h;const c=e.buffers,d=e.attributes,f={},p={};for(const m in c)f[m]=0,p[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*_d[d[m].type];for(const m in d){const v=d[m],y=v.size;v.stride===void 0&&(f[v.buffer]===y*_d[v.type]?v.stride=0:v.stride=f[v.buffer]),v.start===void 0&&(v.start=p[v.buffer],p[v.buffer]+=y*_d[v.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let m=0;m<c.length;m++){const v=c[m];o.bind(v),n&&v._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=h,u[l]=h,i.bindVertexArray(null),o.unbind(on.ARRAY_BUFFER),h}disposeGeometry(e,r){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=this.renderer?.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let a=0;a<s.length;a++){const l=s[a]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&o.dispose(s[a],r))}if(!r){for(const a in n)if(a[0]==="g"){const l=n[a];this._activeVao===l&&this.unbind(),i.deleteVertexArray(l)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const h=a[u],c=o[h.buffer],d=c._glBuffers[i];if(r.attributeData[u]){l!==d&&(s.bind(c),l=d);const f=r.attributeData[u].location;if(n.enableVertexAttribArray(f),n.vertexAttribPointer(f,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(f,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Hx.extension={type:W.RendererSystem,name:"geometry"};J.add(Hx);const O_=new Ie;class Vx{constructor(e,r){this._texture=e,this.mapCoord=new Ie,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(O_.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(O_));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var aI=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,lI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class uI extends pt{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||lI,r||aI,n),this.maskSprite=i,this.maskMatrix=new Ie}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Vx(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class hI{constructor(e=null){this.type=et.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=pt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=et.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class jx{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new hI;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==et.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case et.SCISSOR:this.renderer.scissor.push(n);break;case et.STENCIL:this.renderer.stencil.push(n);break;case et.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case et.COLOR:this.pushColorMask(n);break}n.type===et.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case et.SCISSOR:this.renderer.scissor.pop(r);break;case et.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case et.SPRITE:this.popSpriteMask(r);break;case et.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===et.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=et.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=et.SCISSOR:e.type=et.STENCIL:e.type=et.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new uI]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=r;const u=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}jx.extension={type:W.RendererSystem,name:"mask"};J.add(jx);class Xx{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const L_=new Ie,N_=[],hu=class extends Xx{constructor(t){super(t),this.glConst=j.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,N_.pop()??new le);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||hu.isMatrixRotated(e.worldTransform)||hu.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){hu.isMatrixRotated(i)||(i=i?L_.copyFrom(i):L_.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&N_.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let Wx=hu;Wx.extension={type:W.RendererSystem,name:"scissor"};J.add(Wx);class Yx extends Xx{constructor(e){super(e),this.glConst=j.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Yx.extension={type:W.RendererSystem,name:"stencil"};J.add(Yx);class qx{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return ce("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return ce("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return ce("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}qx.extension={type:[W.RendererSystem,W.CanvasRendererSystem],name:"_plugin"};J.add(qx);class Kx{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ie,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}Kx.extension={type:W.RendererSystem,name:"projection"};J.add(Kx);const cI=new Jm;class Zx{constructor(e){this.renderer=e,this._tempMatrix=new Ie}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=ss.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=cI,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}Zx.extension={type:[W.RendererSystem,W.CanvasRendererSystem],name:"textureGenerator"};J.add(Zx);const Ti=new le,No=new le;class Qx{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new le,this.destinationFrame=new le,this.viewportFrame=new le}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Ti.width=e.frame.width,Ti.height=e.frame.height,r=Ti),n||(No.x=e.frame.x,No.y=e.frame.y,No.width=r.width,No.height=r.height,n=No),o=s.framebuffer):(a=i.resolution,r||(Ti.width=i._view.screen.width,Ti.height=i._view.screen.height,r=Ti),n||(n=Ti,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=we.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:l,y:u,width:h,height:c}=this.viewportFrame;l=Math.round(l),u=Math.round(u),h=Math.round(h),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,h,c)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Qx.extension={type:W.RendererSystem,name:"renderTexture"};J.add(Qx);class dI{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function fI(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=Bx(e,s.type),a={type:o,name:s.name,size:Dx(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function pI(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=Bx(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:kx(l,s.size)}}return r}function mI(t,e){const r=I_(t,t.VERTEX_SHADER,e.vertexSrc),n=I_(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=e.extra?.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||VP(t,i,r,n),e.attributeData=fI(i,t),e.uniformData=pI(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const l=Object.keys(e.attributeData);l.sort((u,h)=>u>h?1:-1);for(let u=0;u<l.length;u++)e.attributeData[l[u]].location=u,t.bindAttribLocation(i,u,l[u]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const l in e.uniformData){const u=e.uniformData[l];o[l]={location:t.getUniformLocation(i,l),value:kx(u.type,u.size)}}return new dI(i,o)}function gI(t,e,r,n,i){r.buffer.update(i)}const _I={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Jx={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function yI(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=Jx[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function vI(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function xI(t,e){if(!t.autoManage)return{size:0,syncFunc:gI};const r=vI(t.uniforms,e),{uboElements:n,size:i}=yI(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],l=t.uniforms[a.data.name],u=a.data.name;let h=!1;for(let c=0;c<qs.length;c++){const d=qs[c];if(d.codeUbo&&d.test(a.data,l)){s.push(`offset = ${a.offset/4};`,qs[c].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const c=Dx(a.data.type),d=Math.max(Jx[a.data.type]/16,1),f=c/d,p=(4-f%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const c=_I[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${c};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let wI=0;const Nl={textureCount:0,uboCount:0};class ew{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=wI++}systemCheck(){if(!XP())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Nl.textureCount=0,Nl.uboCount=0,this.syncUniformGroup(e.uniformGroup,Nl)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=GP(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Nl,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=xI(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=mI(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ew.extension={type:W.RendererSystem,name:"shader"};J.add(ew);class cc{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}cc.defaultOptions={hello:!1};cc.extension={type:[W.RendererSystem,W.CanvasRendererSystem],name:"startup"};J.add(cc);function EI(t,e=[]){return e[ne.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.ADD]=[t.ONE,t.ONE],e[ne.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.NONE]=[0,0],e[ne.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ne.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ne.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ne.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ne.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ne.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ne.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ne.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ne.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ne.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const TI=0,SI=1,bI=2,CI=3,AI=4,PI=5,lp=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ne.NONE,this._blendEq=!1,this.map=[],this.map[TI]=this.setBlend,this.map[SI]=this.setOffset,this.map[bI]=this.setCullFace,this.map[CI]=this.setDepthTest,this.map[AI]=this.setFrontFace,this.map[PI]=this.setDepthMask,this.checks=[],this.defaultState=new On,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=EI(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(lp.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(lp.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let tw=lp;tw.extension={type:W.RendererSystem,name:"state"};J.add(tw);class II extends Qi{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Ur(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const cu=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=cu.defaultMaxIdle,this.checkCountMax=cu.defaultCheckCountMax,this.mode=cu.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==qm.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let Dr=cu;Dr.defaultMode=qm.AUTO;Dr.defaultMaxIdle=60*60;Dr.defaultCheckCountMax=60*10;Dr.extension={type:W.RendererSystem,name:"textureGC"};J.add(Dr);class yd{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=re.UNSIGNED_BYTE,this.internalFormat=z.RGBA,this.samplerType=0}}function RI(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[re.UNSIGNED_BYTE]:{[z.RGBA]:t.RGBA8,[z.RGB]:t.RGB8,[z.RG]:t.RG8,[z.RED]:t.R8,[z.RGBA_INTEGER]:t.RGBA8UI,[z.RGB_INTEGER]:t.RGB8UI,[z.RG_INTEGER]:t.RG8UI,[z.RED_INTEGER]:t.R8UI,[z.ALPHA]:t.ALPHA,[z.LUMINANCE]:t.LUMINANCE,[z.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[re.BYTE]:{[z.RGBA]:t.RGBA8_SNORM,[z.RGB]:t.RGB8_SNORM,[z.RG]:t.RG8_SNORM,[z.RED]:t.R8_SNORM,[z.RGBA_INTEGER]:t.RGBA8I,[z.RGB_INTEGER]:t.RGB8I,[z.RG_INTEGER]:t.RG8I,[z.RED_INTEGER]:t.R8I},[re.UNSIGNED_SHORT]:{[z.RGBA_INTEGER]:t.RGBA16UI,[z.RGB_INTEGER]:t.RGB16UI,[z.RG_INTEGER]:t.RG16UI,[z.RED_INTEGER]:t.R16UI,[z.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[re.SHORT]:{[z.RGBA_INTEGER]:t.RGBA16I,[z.RGB_INTEGER]:t.RGB16I,[z.RG_INTEGER]:t.RG16I,[z.RED_INTEGER]:t.R16I},[re.UNSIGNED_INT]:{[z.RGBA_INTEGER]:t.RGBA32UI,[z.RGB_INTEGER]:t.RGB32UI,[z.RG_INTEGER]:t.RG32UI,[z.RED_INTEGER]:t.R32UI,[z.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[re.INT]:{[z.RGBA_INTEGER]:t.RGBA32I,[z.RGB_INTEGER]:t.RGB32I,[z.RG_INTEGER]:t.RG32I,[z.RED_INTEGER]:t.R32I},[re.FLOAT]:{[z.RGBA]:t.RGBA32F,[z.RGB]:t.RGB32F,[z.RG]:t.RG32F,[z.RED]:t.R32F,[z.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[re.HALF_FLOAT]:{[z.RGBA]:t.RGBA16F,[z.RGB]:t.RGB16F,[z.RG]:t.RG16F,[z.RED]:t.R16F},[re.UNSIGNED_SHORT_5_6_5]:{[z.RGB]:t.RGB565},[re.UNSIGNED_SHORT_4_4_4_4]:{[z.RGBA]:t.RGBA4},[re.UNSIGNED_SHORT_5_5_5_1]:{[z.RGBA]:t.RGB5_A1},[re.UNSIGNED_INT_2_10_10_10_REV]:{[z.RGBA]:t.RGB10_A2,[z.RGBA_INTEGER]:t.RGB10_A2UI},[re.UNSIGNED_INT_10F_11F_11F_REV]:{[z.RGB]:t.R11F_G11F_B10F},[re.UNSIGNED_INT_5_9_9_9_REV]:{[z.RGB]:t.RGB9_E5},[re.UNSIGNED_INT_24_8]:{[z.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[re.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[z.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[re.UNSIGNED_BYTE]:{[z.RGBA]:t.RGBA,[z.RGB]:t.RGB,[z.ALPHA]:t.ALPHA,[z.LUMINANCE]:t.LUMINANCE,[z.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[re.UNSIGNED_SHORT_5_6_5]:{[z.RGB]:t.RGB},[re.UNSIGNED_SHORT_4_4_4_4]:{[z.RGBA]:t.RGBA},[re.UNSIGNED_SHORT_5_5_5_1]:{[z.RGBA]:t.RGBA}},e}class rw{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new oe,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=RI(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new yd(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new yd(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==jf.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new yd(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){r.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,this.webGLVersion===2&&e.type===re.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),e.resource?.upload(n,e,r))r.samplerType!==jf.FLOAT&&(this.hasIntegerTextures=!0);else{const i=e.realWidth,s=e.realHeight,o=n.gl;(r.width!==i||r.height!==s||r.dirtyId<0)&&(r.width=i,r.height=s,o.texImage2D(e.target,0,r.internalFormat,i,s,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Ws(this.managedTextures,i,1)}}updateTextureStyle(e){const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===hn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=li.CLAMP:r.wrapMode=e.wrapMode,e.resource?.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==hn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===tn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===tn.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===tn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===tn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}rw.extension={type:W.RendererSystem,name:"texture"};J.add(rw);class nw{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}nw.extension={type:W.RendererSystem,name:"transformFeedback"};J.add(nw);class dc{constructor(e){this.renderer=e}init(e){this.screen=new le(0,0,e.width,e.height),this.element=e.view||j.ADAPTER.createCanvas(),this.resolution=e.resolution||j.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}dc.defaultOptions={width:800,height:600,resolution:j.RESOLUTION,autoDensity:!1};dc.extension={type:[W.RendererSystem,W.CanvasRendererSystem],name:"_view"};J.add(dc);j.PREFER_ENV=is.WEBGL2;j.STRICT_TEXTURE_CACHE=!1;j.RENDER_OPTIONS={...hc.defaultOptions,...uc.defaultOptions,...dc.defaultOptions,...cc.defaultOptions};Object.defineProperties(j,{WRAP_MODE:{get(){return oe.defaultOptions.wrapMode},set(t){ce("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),oe.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return oe.defaultOptions.scaleMode},set(t){ce("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),oe.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return oe.defaultOptions.mipmap},set(t){ce("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),oe.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return oe.defaultOptions.anisotropicLevel},set(t){ce("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),oe.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return ce("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),pt.defaultResolution},set(t){pt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return ce("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),pt.defaultMultisample},set(t){pt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Mr.defaultMaxTextures},set(t){ce("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Mr.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Mr.defaultBatchSize},set(t){ce("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Mr.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Mr.canUploadSameBuffer},set(t){ce("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Mr.canUploadSameBuffer=t}},GC_MODE:{get(){return Dr.defaultMode},set(t){ce("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Dr.defaultMode=t}},GC_MAX_IDLE:{get(){return Dr.defaultMaxIdle},set(t){ce("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Dr.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Dr.defaultCheckCountMax},set(t){ce("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Dr.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Br.defaultVertexPrecision},set(t){ce("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Br.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Br.defaultFragmentPrecision},set(t){ce("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Br.defaultFragmentPrecision=t}}});var gi=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(gi||{});class vd{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Vt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new vd(null,null,1/0),this.deltaMS=1/Vt.targetFPMS,this.elapsedMS=1/Vt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=gi.NORMAL){return this._addListener(new vd(t,e,r))}addOnce(t,e,r=gi.NORMAL){return this._addListener(new vd(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Vt.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Vt.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Vt._shared){const t=Vt._shared=new Vt;t.autoStart=!0,t._protected=!0}return Vt._shared}static get system(){if(!Vt._system){const t=Vt._system=new Vt;t.autoStart=!0,t._protected=!0}return Vt._system}};let Ke=Vt;Ke.targetFPMS=.06;Object.defineProperties(j,{TARGET_FPMS:{get(){return Ke.targetFPMS},set(t){ce("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ke.targetFPMS=t}}});class iw{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,gi.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ke.shared:new Ke,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}iw.extension=W.Application;J.add(iw);const sw=[];J.handleByList(W.Renderer,sw);function kI(t){for(const e of sw)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var MI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,DI=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const BI=MI,ow=DI;class aw{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=qe.HIGH?this.multisample=qe.HIGH:r>=qe.MEDIUM?this.multisample=qe.MEDIUM:r>=qe.LOW?this.multisample=qe.LOW:this.multisample=qe.NONE}destroy(){}}aw.extension={type:W.RendererSystem,name:"_multisample"};J.add(aw);class OI{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class lw{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new OI(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}lw.extension={type:W.RendererSystem,name:"buffer"};J.add(lw);class uw{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}uw.extension={type:W.RendererSystem,name:"objectRenderer"};J.add(uw);const up=class extends II{constructor(t){super(),this.type=gx.WEBGL,t=Object.assign({},j.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new zr({projectionMatrix:new Ie},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:up.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(ce("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=up.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t?.forceCanvas?!1:oP()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return ce("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ce("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ce("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ce("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){ce("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return ce("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){ce("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return ce("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Eo=up;Eo.extension={type:W.Renderer,priority:1};Eo.__plugins={};Eo.__systems={};J.handleByMap(W.RendererPlugin,Eo.__plugins);J.handleByMap(W.RendererSystem,Eo.__systems);J.add(Eo);class hw extends Fa{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new oe;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Fa?this.addResourceAt(e[n],n):this.addResourceAt(Ax(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class LI extends hw{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Vs.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,n.type,u.resource.source))}return!0}}class NI extends mi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Wo=class extends hw{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Wo.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<Wo.SIDES;o++)this.items[o].target=Vs.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Vs.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Vs.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Wo.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Wo.SIDES}};let cw=Wo;cw.SIDES=6;class Ms extends mi{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=Ms.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await j.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Hr.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Ms._EMPTY=Ms._EMPTY??j.ADAPTER.createCanvas(0,0),Ms._EMPTY}}const du=class extends mi{constructor(t,e){e=e||{},super(j.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},du.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;mi.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${es()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=du.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&du.SVG_XML.test(t)}};let Ua=du;Ua.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Ua.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const hp=class extends mi{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];mi.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||hp.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Ke.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ke.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Ke.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Ke.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Ke.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ke.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||hp.TYPES.includes(e)}};let eg=hp;eg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];eg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};np.push(Ms,Nx,NI,eg,Ua,Ja,cw,LI);class ih{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?le.EMPTY:(e=e||new le(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:l}=e,u=n*r.x+s*r.y+a,h=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,h=e.tx,c=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,v=o*r+l*n+h,y=a*r+u*n+c;d=v<d?v:d,f=y<f?y:f,p=v>p?v:p,m=y>m?y:m,v=o*i+l*n+h,y=a*i+u*n+c,d=v<d?v:d,f=y<f?y:f,p=v>p?v:p,m=y>m?y:m,v=o*r+l*s+h,y=a*r+u*s+c,d=v<d?v:d,f=y<f?y:f,p=v>p?v:p,m=y>m?y:m,v=o*i+l*s+h,y=a*i+u*s+c,d=v<d?v:d,f=y<f?y:f,p=v>p?v:p,m=y>m?y:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<n;l+=2){const u=e[l],h=e[l+1];i=u<i?u:i,s=h<s?h:s,o=u>o?u:o,a=h>a?h:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,h=e.d,c=e.tx,d=e.ty;let f=this.minX,p=this.minY,m=this.maxX,v=this.maxY;for(let y=n;y<i;y+=2){const _=r[y],g=r[y+1],x=a*_+u*g+c,w=h*g+l*_+d;f=Math.min(f,x-s),m=Math.max(m,x+s),p=Math.min(p,w-o),v=Math.max(v,w+o)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=v}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>h?o:h}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>h?o:h}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Fe extends Qi{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Jm,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ih,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Fe.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new le),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new le),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ih);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new FI),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*BP}set angle(e){this.transform.rotation=e*OP}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class FI extends Fe{constructor(){super(...arguments),this.sortDirty=null}}Fe.prototype.displayObjectUpdateTransform=Fe.prototype.updateTransform;const UI=new Ie;function zI(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const cp=class extends Fe{constructor(){super(),this.children=[],this.sortableChildren=cp.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);Ws(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,Ws(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Ws(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(zI),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==cp.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=UI.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters?.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}}renderAdvanced(t){const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i])}const n=e&&this._enabledFilters?.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==et.NONE));if(n&&t.batch.flush(),e&&this._enabledFilters?.length&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let i=0,s=this.children.length;i<s;++i)this.children[i].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters?.length&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t?.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Re=cp;Re.defaultSortableChildren=!1;Re.prototype.containerUpdateTransform=Re.prototype.updateTransform;Object.defineProperties(j,{SORTABLE_CHILDREN:{get(){return Re.defaultSortableChildren},set(t){ce("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Re.defaultSortableChildren=t}}});const Fo=new ge,GI=new Uint16Array([0,1,2,0,2,3]);class Vr extends Re{constructor(e){super(),this._anchor=new qn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new we(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ne.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||q.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=GI,this.pluginName="batch",this.isSprite=!0,this._roundPixels=j.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Yn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Yn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this.vertexData,h=e.trim,c=e.orig,d=this._anchor;let f=0,p=0,m=0,v=0;if(h?(p=h.x-d._x*c.width,f=p+h.width,v=h.y-d._y*c.height,m=v+h.height):(p=-d._x*c.width,f=p+c.width,v=-d._y*c.height,m=v+c.height),u[0]=n*p+s*v+a,u[1]=o*v+i*p+l,u[2]=n*f+s*v+a,u[3]=o*v+i*f+l,u[4]=n*f+s*m+a,u[5]=o*m+i*f+l,u[6]=n*p+s*m+a,u[7]=o*m+i*p+l,this._roundPixels){const y=j.RESOLUTION;for(let _=0;_<u.length;++_)u[_]=Math.round(u[_]*y)/y}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,h=s.tx,c=s.ty,d=-i._x*n.width,f=d+n.width,p=-i._y*n.height,m=p+n.height;r[0]=o*d+l*p+h,r[1]=u*p+a*d+c,r[2]=o*f+l*p+h,r[3]=u*p+a*f+c,r[4]=o*f+l*m+h,r[5]=u*m+a*f+c,r[6]=o*d+l*m+h,r[7]=u*m+a*d+c}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new ih),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new le),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Fo);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Fo.x>=i&&Fo.x<i+r&&(s=-n*this.anchor.y,Fo.y>=s&&Fo.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e?.texture){const n=typeof e=="boolean"?e:e?.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof q?e:q.from(e,r);return new Vr(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Yn(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Yn(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||q.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const dw=new Ie;Fe.prototype._cacheAsBitmap=!1;Fe.prototype._cacheData=null;Fe.prototype._cacheAsBitmapResolution=null;Fe.prototype._cacheAsBitmapMultisample=null;class $I{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Fe.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new $I),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Fe.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Fe.prototype._initCachedDisplayObject=function(e){if(this._cacheData?.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(null,!0).clone();if(this.filters?.length){const d=this.filters[0].padding;n.pad(d)}n.ceil(j.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=ss.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${es()}`;this._cacheData.textureCacheId=u,oe.addToCache(l.baseTexture,u),q.addToCache(l,u);const h=this.transform.localTransform.copyTo(dw).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new Vr(l);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)};Fe.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Fe.prototype._initCachedDisplayObjectCanvas=function(e){if(this._cacheData?.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;r.ceil(j.RESOLUTION);const o=ss.create({width:r.width,height:r.height}),a=`cacheAsBitmap_${es()}`;this._cacheData.textureCacheId=a,oe.addToCache(o.baseTexture,a),q.addToCache(o,a);const l=dw;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const u=new Vr(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(r.x/r.width),u.anchor.y=-(r.y/r.height),u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Fe.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Fe.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Fe.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,oe.removeFromCache(this._cacheData.textureCacheId),q.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Fe.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Fe.prototype.name=null;Re.prototype.getChildByName=function(e,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Fe.prototype.getGlobalPosition=function(e=new ge,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var HI=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class VI extends pt{constructor(e=1){super(BI,HI,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const jI={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},XI=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function WI(t){const e=jI[t],r=e.length;let n=XI,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const YI=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function qI(t,e){const r=Math.ceil(t/2);let n=YI,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class dp extends pt{constructor(e,r=8,n=4,i=pt.defaultResolution,s=5){const o=qI(s,e),a=WI(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,qr.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,qr.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class KI extends pt{constructor(e=8,r=4,n=pt.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new dp(!0,e,r,n,i),this.blurYFilter=new dp(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,qr.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var ZI=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class fp extends pt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(ow,ZI,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=we.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=n+(1-n)*o,u=o*(1-n)-a*i,h=o*(1-n)+a*i,c=o*(1-n)+a*i,d=n+o*(1-n),f=o*(1-n)-a*i,p=o*(1-n)-a*i,m=o*(1-n)+a*i,v=n+o*(1-n),y=[l,u,h,0,0,c,d,f,0,0,p,m,v,0,0,0,0,0,1,0];this._loadMatrix(y,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=we.shared,[a,l,u]=o.setValue(n).toArray(),[h,c,d]=o.setValue(i).toArray(),f=[.3,.59,.11,0,0,a,l,u,e,0,h,c,d,r,0,a-h,l-c,u-d,0,0];this._loadMatrix(f,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}fp.prototype.grayscale=fp.prototype.greyscale;var QI=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,JI=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class eR extends pt{constructor(e,r){const n=new Ie;e.renderable=!1,super(JI,QI,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new ge(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var tR=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,rR=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class nR extends pt{constructor(){super(rR,tR)}}var iR=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class sR extends pt{constructor(e=.5,r=Math.random()){super(ow,iR,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const F_={AlphaFilter:VI,BlurFilter:KI,BlurFilterPass:dp,ColorMatrixFilter:fp,DisplacementFilter:eR,FXAAFilter:nR,NoiseFilter:sR};Object.entries(F_).forEach(([t,e])=>{Object.defineProperty(F_,t,{get(){return ce("7.1.0",`filters.${t} has moved to ${t}`),e}})});class oR{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Ke.system.add(this.tickerUpdate,this,gi.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Ke.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Hn=new oR;class el{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=el.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ge,this.page=new ge,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class sh extends el{constructor(){super(...arguments),this.client=new ge,this.movement=new ge,this.offset=new ge,this.global=new ge,this.screen=new ge}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,l,u,h,c,d,f,p,m){throw new Error("Method not implemented.")}}class br extends sh{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ao extends sh{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ao.DOM_DELTA_PIXEL=0;ao.DOM_DELTA_LINE=1;ao.DOM_DELTA_PAGE=2;const aR=2048,lR=new ge,xd=new ge;class uR{constructor(e){this.dispatch=new Qi,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Hn.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,lR.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<aR&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Hn.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let c=h.length-1;c>=0;c--){const d=h[c],f=this.hitTestMoveRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s,o||s(e,n));if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();(f.length>0||p)&&(p&&this._allInteractiveElements.push(e),f.push(e)),this._hitElements.length===0&&(this._hitElements=f),a=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return u&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,n)&&i(e,n)?u?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Hn.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const h=l[u],c=this.hitTestRecursive(h,this._isInteractive(r)?r:h.eventMode,n,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;const d=e.isInteractive();return(c.length>0||d)&&c.push(e),c}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){if(e.hitArea&&(e.worldTransform.applyInverse(r,xd),!e.hitArea.contains(xd.x,xd.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!n.containsPoint?.(r))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){r=r??e.type;const n=`on${r}`;e.currentTarget[n]?.(e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(i.overTargets?.length>0&&s!==r.target){const l=e.type==="mousemove"?"mouseout":"pointerout",u=this.createPointerEvent(e,l,s);if(this.dispatchEvent(u,"pointerout"),n&&this.dispatchEvent(u,"mouseout"),!r.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!r.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),n&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(u)}if(s!==r.target){const l=e.type==="mousemove"?"mouseover":"pointerover",u=this.clonePointerEvent(r,l);this.dispatchEvent(u,"pointerover"),n&&this.dispatchEvent(u,"mouseover");let h=s?.parent;for(;h&&h!==this.rootTarget.parent&&h!==r.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const d=this.clonePointerEvent(r,"pointerenter");for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==s&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),n&&this.notifyTarget(d,"mouseenter"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(u)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=r.target?.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=n.target?.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof ao)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(br);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(ao);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(br);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof br&&r instanceof br&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof sh&&r instanceof sh&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const hR=1,cR={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},pp=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new uR(null),Hn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new br(null),this.rootWheelEvent=new ao(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...pp.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,pp._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;Hn.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Hn.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Hn.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Hn.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=hR),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=cR[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let za=pp;za.extension={name:"events",type:[W.RendererSystem,W.CanvasRendererSystem]};za.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};J.add(za);function U_(t){return t==="dynamic"||t==="static"}const dR={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??U_(za.defaultEventMode)},set interactive(t){ce("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??za.defaultEventMode},set eventMode(t){this._internalInteractive=U_(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof el))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Fe.mixin(dR);const fR={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Fe.mixin(fR);const pR=9,Fl=100,mR=0,gR=0,z_=2,G_=1,_R=-1e3,yR=-1e3,vR=2;class fw{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Tn.tablet||Tn.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${Fl}px`,r.style.height=`${Fl}px`,r.style.position="absolute",r.style.top=`${mR}px`,r.style.left=`${gR}px`,r.style.zIndex=z_.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${G_}px`,e.style.height=`${G_}px`,e.style.position="absolute",e.style.top=`${_R}px`,e.style.left=`${yR}px`,e.style.zIndex=vR.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Tn.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,h=s/a*l;let c=this.div;c.style.left=`${r}px`,c.style.top=`${n}px`,c.style.width=`${o}px`,c.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,Ws(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{c=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(c.style.left=`${(m.tx+p.x*m.a)*u}px`,c.style.top=`${(m.ty+p.y*m.d)*h}px`,c.style.width=`${p.width*m.a*u}px`,c.style.height=`${p.height*m.d*h}px`):(p=f.getBounds(),this.capHitArea(p),c.style.left=`${p.x*u}px`,c.style.top=`${p.y*h}px`,c.style.width=`${p.width*u}px`,c.style.height=`${p.height*h}px`,c.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(c.title=f.accessibleTitle),c.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&c.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==c.title||f.tabIndex!==c.tabIndex)&&(c.title=f.accessibleTitle,c.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${Fl}px`,r.style.height=`${Fl}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=z_.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new el(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===pR&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}fw.extension={name:"accessibility",type:[W.RendererPlugin,W.CanvasRendererPlugin]};J.add(fw);const mp=class{constructor(t){this.stage=new Re,t=Object.assign({forceCanvas:!1},t),this.renderer=kI(t),mp._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=mp._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let tg=mp;tg._plugins=[];J.handleByList(W.Application,tg._plugins);class pw{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}pw.extension=W.Application;J.add(pw);const $_={loader:W.LoadParser,resolver:W.ResolveParser,cache:W.CacheParser,detection:W.DetectionParser};J.handle(W.Asset,t=>{const e=t.ref;Object.entries($_).filter(([r])=>!!e[r]).forEach(([r,n])=>J.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys($_).filter(r=>!!e[r]).forEach(r=>J.remove(e[r]))});class xR{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function tl(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function os(t,e){const r=t.split("?")[0],n=_t.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const bn=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),gp=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function mw(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?mw(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function wR(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),mw(t,i,0,r,n)}else n.push(t);return n}const oh=t=>!Array.isArray(t);class ER{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=bn(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof q){const a=r;n.forEach(l=>{a.baseTexture!==q.EMPTY.baseTexture&&oe.addToCache(a.baseTexture,l),q.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Uo=new ER;class TR{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let o=0;o<this.parsers.length;o++){const a=this.parsers[o];if(a.load&&a.test?.(e,r,this)){s=a;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let o=0;o<this.parsers.length;o++){const a=this.parsers[o];a.parse&&a.parse&&await a.testParse?.(i,r,this)&&(i=await a.parse(i,r,this)||i,n.parser=a)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=oh(e),o=bn(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const h=_t.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,u)),i[u.src]=await this.promiseCache[h].promise,r&&r(++n/a)}catch(c){throw delete this.promiseCache[h],delete i[u.src],new Error(`[Loader.load] Failed to load ${h}.
${c}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const n=bn(e,i=>({src:i})).map(async i=>{const s=_t.toAbsolute(i.src),o=this.promiseCache[s];if(o){const a=await o.promise;o.parser?.unload?.(a,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var fn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(fn||{});const SR=".json",bR="application/json",CR={extension:{type:W.LoadParser,priority:fn.Low},name:"loadJson",test(t){return tl(t,bR)||os(t,SR)},async load(t){return await(await j.ADAPTER.fetch(t)).json()}};J.add(CR);const AR=".txt",PR="text/plain",IR={name:"loadTxt",extension:{type:W.LoadParser,priority:fn.Low},test(t){return tl(t,PR)||os(t,AR)},async load(t){return await(await j.ADAPTER.fetch(t)).text()}};J.add(IR);const RR=["normal","bold","100","200","300","400","500","600","700","800","900"],kR=[".ttf",".otf",".woff",".woff2"],MR=["font/ttf","font/otf","font/woff","font/woff2"],DR=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function BR(t){const e=_t.extname(t),i=_t.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(DR)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const OR={extension:{type:W.LoadParser,priority:fn.Low},name:"loadWebFont",test(t){return tl(t,MR)||os(t,kR)},async load(t,e){const r=j.ADAPTER.getFontFaceSet();if(r){const n=[],i=e.data?.family??BR(t),s=e.data?.weights?.filter(a=>RR.includes(a))??["normal"],o=e.data??{};for(let a=0;a<s.length;a++){const l=s[a],u=new FontFace(i,`url(${encodeURI(t)})`,{...o,weight:l});await u.load(),r.add(u),n.push(u)}return n.length===1?n[0]:n}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>j.ADAPTER.getFontFaceSet().delete(e))}};J.add(OR);let H_=0,wd;const LR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",NR={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${LR}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},FR={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Ed;class UR{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([NR.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){wd===void 0&&(wd=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<wd&&(Ed||(Ed=URL.createObjectURL(new Blob([FR.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Ed),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[H_]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:H_++,id:n})}}const V_=new UR;function fc(t,e,r){const n=new q(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const zR=[".jpeg",".jpg",".png",".webp",".avif"],GR=["image/jpeg","image/png","image/webp","image/avif"];async function $R(t){const e=await j.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const pc={name:"loadTextures",extension:{type:W.LoadParser,priority:fn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return tl(t,GR)||os(t,zR)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await V_.isImageBitmapSupported()?n=await V_.loadImageBitmap(t):n=await $R(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new oe(n,{resolution:fi(t),...e.data});return i.resource.src=t,fc(i,r,t)},unload(t){t.destroy(!0)}};J.add(pc);const HR=".svg",VR="image/svg+xml",jR={extension:{type:W.LoadParser,priority:fn.High},name:"loadSVG",test(t){return tl(t,VR)||os(t,HR)},async testParse(t){return Ua.test(t)},async parse(t,e,r){const n=new Ua(t,e?.data?.resourceOptions);await n.load();const i=new oe(n,{resolution:fi(t),...e?.data});return i.resource.src=t,fc(i,r,t)},async load(t,e){return(await j.ADAPTER.fetch(t)).text()},unload:pc.unload};J.add(jR);class XR{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=bn(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=wR(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const h=this._parsers[u];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=_t.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??n,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=oh(e);e=bn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=oh(e);e=bn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o?.priority.forEach(l=>{o.params[l].forEach(u=>{const h=s.filter(c=>c[l]?c[l]===u:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=_t.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class WR{constructor(){this._detections=[],this._initialized=!1,this.resolver=new XR,this.loader=new TR,this.cache=Uo,this._backgroundLoader=new xR(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let s=e.manifest;typeof s=="string"&&(s=await this.load(s)),this.resolver.addManifest(s)}const r=e.texturePreference?.resolution??1,n=typeof r=="number"?[r]:r;let i=[];if(e.texturePreference?.format){const s=e.texturePreference?.format;i=typeof s=="string"?[s]:s;for(const o of this._detections)await o.test()||(i=await o.remove(i))}else for(const s of this._detections)await s.test()&&(i=await s.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=oh(e),i=bn(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{r?.(++a/l)},h=o.map(c=>{const d=i[c];return l+=Object.keys(d).length,this._mapLoadToResolve(d,u).then(f=>{s[c]=f})});return await Promise.all(h),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Uo.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Uo.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,l)=>{const u=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[i[l]]=u,Uo.set(h,u)}),o}async unload(e){this._initialized||await this.init();const r=bn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=bn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Uo.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return pc.config.preferWorkers}set preferWorkers(e){ce("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Ds=new WR;J.handleByList(W.LoadParser,Ds.loader.parsers).handleByList(W.ResolveParser,Ds.resolver.parsers).handleByList(W.CacheParser,Ds.cache.parsers).handleByList(W.DetectionParser,Ds.detections);const YR={extension:W.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof q),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};J.add(YR);const qR={extension:{type:W.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await j.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};J.add(qR);const KR={extension:{type:W.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await j.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};J.add(KR);const j_=["png","jpg","jpeg"],ZR={extension:{type:W.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...j_],remove:async t=>t.filter(e=>!j_.includes(e))};J.add(ZR);const QR={extension:W.ResolveParser,test:pc.test,parse:t=>({resolution:parseFloat(j.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t})};J.add(QR);var jt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(jt||{});const ah={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let gn,ps;function X_(){ps={s3tc:gn.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:gn.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:gn.getExtension("WEBGL_compressed_texture_etc"),etc1:gn.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:gn.getExtension("WEBGL_compressed_texture_pvrtc")||gn.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:gn.getExtension("WEBGL_compressed_texture_atc"),astc:gn.getExtension("WEBGL_compressed_texture_astc")}}const JR={extension:{type:W.DetectionParser,priority:2},test:async()=>{const e=j.ADAPTER.createCanvas().getContext("webgl");return e?(gn=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{ps||X_();const e=[];for(const r in ps)ps[r]&&e.push(r);return[...e,...t]},remove:async t=>(ps||X_(),t.filter(e=>!(e in ps)))};J.add(JR);class ek extends Ja{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new rp(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new rp(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Gi extends ek{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Gi._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Gi._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:h,levelBuffer:c}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,h,0,c)}return!0}onBlobLoaded(){this._levelBuffers=Gi._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const l=new Array(n);let u=e.byteOffset,h=o,c=a,d=h+i-1&~(i-1),f=c+s-1&~(s-1),p=d*f*ah[r];for(let m=0;m<n;m++)l[m]={levelID:m,levelWidth:n>1?h:d,levelHeight:n>1?c:f,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,h=h>>1||1,c=c>>1||1,d=h+i-1&~(i-1),f=c+s-1&~(s-1),p=d*f*ah[r];return l}}const Td=4,Ul=124,tk=32,W_=20,rk=542327876,zl={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},nk={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Gl={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},ik=1,sk=2,ok=4,ak=64,lk=512,uk=131072,hk=827611204,ck=861165636,dk=894720068,fk=808540228,pk=4,mk={[hk]:jt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[ck]:jt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[dk]:jt.COMPRESSED_RGBA_S3TC_DXT5_EXT},gk={[70]:jt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:jt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:jt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:jt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:jt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:jt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:jt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:jt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:jt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function _k(t){const e=new Uint32Array(t);if(e[0]!==rk)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(t,0,Ul/Uint32Array.BYTES_PER_ELEMENT),i=n[zl.HEIGHT],s=n[zl.WIDTH],o=n[zl.MIPMAP_COUNT],a=new Uint32Array(t,zl.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,tk/Uint32Array.BYTES_PER_ELEMENT),l=a[ik];if(l&ok){const u=a[nk.FOURCC];if(u!==fk){const g=mk[u],x=Td+Ul,w=new Uint8Array(t,x);return[new Gi(w,{format:g,width:s,height:i,levels:o})]}const h=Td+Ul,c=new Uint32Array(e.buffer,h,W_/Uint32Array.BYTES_PER_ELEMENT),d=c[Gl.DXGI_FORMAT],f=c[Gl.RESOURCE_DIMENSION],p=c[Gl.MISC_FLAG],m=c[Gl.ARRAY_SIZE],v=gk[d];if(v===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(p===pk)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const y=new Array,_=Td+Ul+W_;if(m===1)y.push(new Uint8Array(t,_));else{const g=ah[v];let x=0,w=s,S=i;for(let E=0;E<o;E++){const b=Math.max(1,w+3&-4),C=Math.max(1,S+3&-4),R=b*C*g;x+=R,w=w>>>1,S=S>>>1}let T=_;for(let E=0;E<m;E++)y.push(new Uint8Array(t,T,x)),T+=x}return y.map(g=>new Gi(g,{format:v,width:s,height:i,levels:o}))}throw l&ak?new Error("DDSParser does not support uncompressed texture data."):l&lk?new Error("DDSParser does not supported YUV uncompressed texture data."):l&uk?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&sk?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Y_=[171,75,84,88,32,49,49,187,13,10,26,10],yk=67305985,Tr={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},_p=64,q_={[re.UNSIGNED_BYTE]:1,[re.UNSIGNED_SHORT]:2,[re.INT]:4,[re.UNSIGNED_INT]:4,[re.FLOAT]:4,[re.HALF_FLOAT]:8},vk={[z.RGBA]:4,[z.RGB]:3,[z.RG]:2,[z.RED]:1,[z.LUMINANCE]:1,[z.LUMINANCE_ALPHA]:2,[z.ALPHA]:1},xk={[re.UNSIGNED_SHORT_4_4_4_4]:2,[re.UNSIGNED_SHORT_5_5_5_1]:2,[re.UNSIGNED_SHORT_5_6_5]:2};function wk(t,e,r=!1){const n=new DataView(e);if(!Ek(t,n))return null;const i=n.getUint32(Tr.ENDIANNESS,!0)===yk,s=n.getUint32(Tr.GL_TYPE,i),o=n.getUint32(Tr.GL_FORMAT,i),a=n.getUint32(Tr.GL_INTERNAL_FORMAT,i),l=n.getUint32(Tr.PIXEL_WIDTH,i),u=n.getUint32(Tr.PIXEL_HEIGHT,i)||1,h=n.getUint32(Tr.PIXEL_DEPTH,i)||1,c=n.getUint32(Tr.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=n.getUint32(Tr.NUMBER_OF_FACES,i),f=n.getUint32(Tr.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(Tr.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||h!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");const m=4,v=4,y=l+3&-4,_=u+3&-4,g=new Array(c);let x=l*u;s===0&&(x=y*_);let w;if(s!==0?q_[s]?w=q_[s]*vk[o]:w=xk[s]:w=ah[a],w===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const S=r?Sk(n,p,i):null;let E=x*w,b=l,C=u,R=y,G=_,P=_p+p;for(let I=0;I<f;I++){const V=n.getUint32(P,i);let H=P+4;for(let U=0;U<c;U++){let k=g[U];k||(k=g[U]=new Array(f)),k[I]={levelID:I,levelWidth:f>1||s!==0?b:R,levelHeight:f>1||s!==0?C:G,levelBuffer:new Uint8Array(e,H,E)},H+=E}P+=V+4,P=P%4!==0?P+4-P%4:P,b=b>>1||1,C=C>>1||1,R=b+m-1&~(m-1),G=C+v-1&~(v-1),E=R*G*w}return s!==0?{uncompressed:g.map(I=>{let V=I[0].levelBuffer,H=!1;return s===re.FLOAT?V=new Float32Array(I[0].levelBuffer.buffer,I[0].levelBuffer.byteOffset,I[0].levelBuffer.byteLength/4):s===re.UNSIGNED_INT?(H=!0,V=new Uint32Array(I[0].levelBuffer.buffer,I[0].levelBuffer.byteOffset,I[0].levelBuffer.byteLength/4)):s===re.INT&&(H=!0,V=new Int32Array(I[0].levelBuffer.buffer,I[0].levelBuffer.byteOffset,I[0].levelBuffer.byteLength/4)),{resource:new Ja(V,{width:I[0].levelWidth,height:I[0].levelHeight}),type:s,format:H?Tk(o):o}}),kvData:S}:{compressed:g.map(I=>new Gi(null,{format:a,width:l,height:u,levels:f,levelBuffers:I})),kvData:S}}function Ek(t,e){for(let r=0;r<Y_.length;r++)if(e.getUint8(r)!==Y_[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function Tk(t){switch(t){case z.RGBA:return z.RGBA_INTEGER;case z.RGB:return z.RGB_INTEGER;case z.RG:return z.RG_INTEGER;case z.RED:return z.RED_INTEGER;default:return t}}function Sk(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(_p+i,r),o=_p+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,h),i+=4+s+a}return n}const bk={extension:{type:W.LoadParser,priority:fn.High},name:"loadDDS",test(t){return os(t,".dds")},async load(t,e,r){const i=await(await j.ADAPTER.fetch(t)).arrayBuffer(),o=_k(i).map(a=>{const l=new oe(a,{mipmap:hn.OFF,alphaMode:Hr.NO_PREMULTIPLIED_ALPHA,resolution:fi(t),...e.data});return fc(l,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};J.add(bk);const Ck={extension:{type:W.LoadParser,priority:fn.High},name:"loadKTX",test(t){return os(t,".ktx")},async load(t,e,r){const i=await(await j.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=wk(t,i),l=s??o,u={mipmap:hn.OFF,alphaMode:Hr.NO_PREMULTIPLIED_ALPHA,resolution:fi(t),...e.data},h=l.map(c=>{l===o&&Object.assign(u,{type:c.type,format:c.format});const d=new oe(c,u);return d.ktxKeyValueData=a,fc(d,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};J.add(Ck);const Ak={extension:W.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{if(t.split("?")[0].split(".").pop()==="ktx"){const n=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(n.some(i=>t.endsWith(i)))return{resolution:parseFloat(j.RETINA_PREFIX.exec(t)?.[1]??"1"),format:n.find(i=>t.endsWith(i)),src:t}}return{resolution:parseFloat(j.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t}}};J.add(Ak);const Pk=new le,Ik=4,Yo=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const a=new FileReader;a.onload=()=>i(a.result),a.onerror=s,a.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const a=new FileReader;a.onload=()=>s(a.result),a.onerror=o,a.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&Yo._flipY(r,n,i),Yo._unpremultiplyAlpha(r);const o=new wP(n,i,1),a=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(a,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&Yo._flipY(r,n,i),Yo._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof ss?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const c=s.framebuffer.glFramebuffers[r.CONTEXT_UID];c.blitFramebuffer&&r.framebuffer.bind(c.blitFramebuffer)}}else n=r.resolution,e||(e=Pk,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const a=Math.round(e.width*n),l=Math.round(e.height*n),u=new Uint8Array(Ik*a*l),h=r.gl;return h.readPixels(Math.round(e.x*n),Math.round(e.y*n),a,l,h.RGBA,h.UNSIGNED_BYTE,u),o&&s?.destroy(!0),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const a=o*n,l=(r-o-1)*n;s.set(t.subarray(a,a+n)),t.copyWithin(a,l,l+n),t.set(s,l)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let gw=Yo;gw.extension={name:"extract",type:W.RendererSystem};J.add(gw);const lh={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===ft.CIRC){const p=t.shape;r=p.x,n=p.y,o=a=p.radius,i=s=0}else if(t.type===ft.ELIP){const p=t.shape;r=p.x,n=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,m=p.width/2,v=p.height/2;r=p.x+m,n=p.y+v,o=a=Math.max(0,Math.min(p.radius,Math.min(m,v))),i=m-o,s=v-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let h=0,c=l*4+(i?2:0)+2,d=c,f=u;{const p=i+o,m=s,v=r+p,y=r-p,_=n+m;if(e[h++]=v,e[h++]=_,e[--c]=_,e[--c]=y,s){const g=n-m;e[d++]=y,e[d++]=g,e[--f]=g,e[--f]=v}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),v=i+Math.cos(m)*o,y=s+Math.sin(m)*a,_=r+v,g=r-v,x=n+y,w=n-y;e[h++]=_,e[h++]=x,e[--c]=x,e[--c]=g,e[d++]=g,e[d++]=w,e[--f]=w,e[--f]=_}{const p=i,m=s+a,v=r+p,y=r-p,_=n+m,g=n-m;e[h++]=v,e[h++]=_,e[--f]=g,e[--f]=v,i&&(e[h++]=y,e[h++]=_,e[--f]=g,e[--f]=y)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,l;if(t.type!==ft.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const u=t.matrix;n.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,n.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function K_(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],l=t[i+1];n+=(a-s)*(l+o),s=a,o=l}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const _w={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){K_(r,!1);const o=[];for(let u=0;u<n.length;u++){const h=n[u];K_(h.points,!0),o.push(r.length/2),r=r.concat(h.points)}const a=Ju(r,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<r.length;u++)i.push(r[u])}}},Rk={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},kk={build(t){lh.build(t)},triangulate(t,e){lh.triangulate(t,e)}};var Pr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Pr||{}),Ni=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ni||{});const lo={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Z_{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,h=a-e,c=i-r,d=n-e,f=Math.abs(u*d-h*c);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const p=u*u+h*h,m=c*c+d*d,v=u*c+h*d,y=s*Math.sqrt(p)/f,_=s*Math.sqrt(m)/f,g=y*v/p,x=_*v/m,w=y*d+_*h,S=y*c+_*u,T=h*(_+g),E=u*(_+g),b=d*(y+x),C=c*(y+x),R=Math.atan2(E-S,T-w),G=Math.atan2(C-S,b-w);return{cx:w+e,cy:S+r,radius:s,startAngle:R,endAngle:G,anticlockwise:h*c>d*u}}static arc(e,r,n,i,s,o,a,l,u){const h=a-o,c=lo._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/nh)*40),d=h/(c*2),f=d*2,p=Math.cos(d),m=Math.sin(d),v=c-1,y=v%1/v;for(let _=0;_<=v;++_){const g=_+y*_,x=d+o+f*g,w=Math.cos(x),S=-Math.sin(x);u.push((p*w+m*S)*s+n,(p*-S+m*w)*s+i)}}}class Mk{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class rg{static curveLength(e,r,n,i,s,o,a,l){let h=0,c=0,d=0,f=0,p=0,m=0,v=0,y=0,_=0,g=0,x=0,w=e,S=r;for(let T=1;T<=10;++T)c=T/10,d=c*c,f=d*c,p=1-c,m=p*p,v=m*p,y=v*e+3*m*c*n+3*p*d*s+f*a,_=v*r+3*m*c*i+3*p*d*o+f*l,g=w-y,x=S-_,w=y,S=_,h+=Math.sqrt(g*g+x*x);return h}static curveTo(e,r,n,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const h=lo._segmentsCount(rg.curveLength(l,u,e,r,n,i,s,o));let c=0,d=0,f=0,p=0,m=0;a.push(l,u);for(let v=1,y=0;v<=h;++v)y=v/h,c=1-y,d=c*c,f=d*c,p=y*y,m=p*y,a.push(f*l+3*d*y*e+3*c*p*n+m*s,f*u+3*d*y*r+3*c*p*i+m*o)}}function Q_(t,e,r,n,i,s,o,a){const l=t-r*i,u=e-n*i,h=t+r*s,c=e+n*s;let d,f;o?(d=n,f=-r):(d=-n,f=r);const p=l+d,m=u+f,v=h+d,y=c+f;return a.push(p,m,v,y),2}function Si(t,e,r,n,i,s,o,a){const l=r-t,u=n-e;let h=Math.atan2(l,u),c=Math.atan2(i-t,s-e);a&&h<c?h+=Math.PI*2:!a&&h>c&&(c+=Math.PI*2);let d=h;const f=c-h,p=Math.abs(f),m=Math.sqrt(l*l+u*u),v=(15*p*Math.sqrt(m)/Math.PI>>0)+1,y=f/v;if(d+=y,a){o.push(t,e,r,n);for(let _=1,g=d;_<v;_++,g+=y)o.push(t,e,t+Math.sin(g)*m,e+Math.cos(g)*m);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let _=1,g=d;_<v;_++,g+=y)o.push(t+Math.sin(g)*m,e+Math.cos(g)*m,t,e);o.push(i,s,t,e)}return v*2}function Dk(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new ge(n[0],n[1]),a=new ge(n[n.length-2],n[n.length-1]),l=r.type!==ft.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const U=(o.x+a.x)*.5,k=(a.y+o.y)*.5;n.unshift(U,k),n.push(U,k)}const h=e.points,c=n.length/2;let d=n.length;const f=h.length/2,p=s.width/2,m=p*p,v=s.miterLimit*s.miterLimit;let y=n[0],_=n[1],g=n[2],x=n[3],w=0,S=0,T=-(_-x),E=y-g,b=0,C=0,R=Math.sqrt(T*T+E*E);T/=R,E/=R,T*=p,E*=p;const G=s.alignment,P=(1-G)*2,I=G*2;l||(s.cap===Ni.ROUND?d+=Si(y-T*(P-I)*.5,_-E*(P-I)*.5,y-T*P,_-E*P,y+T*I,_+E*I,h,!0)+2:s.cap===Ni.SQUARE&&(d+=Q_(y,_,T,E,P,I,!0,h))),h.push(y-T*P,_-E*P,y+T*I,_+E*I);for(let U=1;U<c-1;++U){y=n[(U-1)*2],_=n[(U-1)*2+1],g=n[U*2],x=n[U*2+1],w=n[(U+1)*2],S=n[(U+1)*2+1],T=-(_-x),E=y-g,R=Math.sqrt(T*T+E*E),T/=R,E/=R,T*=p,E*=p,b=-(x-S),C=g-w,R=Math.sqrt(b*b+C*C),b/=R,C/=R,b*=p,C*=p;const k=g-y,F=_-x,D=g-w,$=S-x,M=k*D+F*$,O=F*D-$*k,B=O<0;if(Math.abs(O)<.001*Math.abs(M)){h.push(g-T*P,x-E*P,g+T*I,x+E*I),M>=0&&(s.join===Pr.ROUND?d+=Si(g,x,g-T*P,x-E*P,g-b*P,x-C*P,h,!1)+4:d+=2,h.push(g-b*I,x-C*I,g+b*P,x+C*P));continue}const X=(-T+y)*(-E+x)-(-T+g)*(-E+_),A=(-b+w)*(-C+x)-(-b+g)*(-C+S),ee=(k*A-D*X)/O,L=($*X-F*A)/O,he=(ee-g)*(ee-g)+(L-x)*(L-x),ie=g+(ee-g)*P,te=x+(L-x)*P,K=g-(ee-g)*I,ue=x-(L-x)*I,be=Math.min(k*k+F*F,D*D+$*$),ae=B?P:I,Ue=be+ae*ae*m,_e=he<=Ue;let ze=s.join;if(ze===Pr.MITER&&he/m>v&&(ze=Pr.BEVEL),_e)switch(ze){case Pr.MITER:{h.push(ie,te,K,ue);break}case Pr.BEVEL:{B?h.push(ie,te,g+T*I,x+E*I,ie,te,g+b*I,x+C*I):h.push(g-T*P,x-E*P,K,ue,g-b*P,x-C*P,K,ue),d+=2;break}case Pr.ROUND:{B?(h.push(ie,te,g+T*I,x+E*I),d+=Si(g,x,g+T*I,x+E*I,g+b*I,x+C*I,h,!0)+4,h.push(ie,te,g+b*I,x+C*I)):(h.push(g-T*P,x-E*P,K,ue),d+=Si(g,x,g-T*P,x-E*P,g-b*P,x-C*P,h,!1)+4,h.push(g-b*P,x-C*P,K,ue));break}}else{switch(h.push(g-T*P,x-E*P,g+T*I,x+E*I),ze){case Pr.MITER:{B?h.push(K,ue,K,ue):h.push(ie,te,ie,te),d+=2;break}case Pr.ROUND:{B?d+=Si(g,x,g+T*I,x+E*I,g+b*I,x+C*I,h,!0)+2:d+=Si(g,x,g-T*P,x-E*P,g-b*P,x-C*P,h,!1)+2;break}}h.push(g-b*P,x-C*P,g+b*I,x+C*I),d+=2}}y=n[(c-2)*2],_=n[(c-2)*2+1],g=n[(c-1)*2],x=n[(c-1)*2+1],T=-(_-x),E=y-g,R=Math.sqrt(T*T+E*E),T/=R,E/=R,T*=p,E*=p,h.push(g-T*P,x-E*P,g+T*I,x+E*I),l||(s.cap===Ni.ROUND?d+=Si(g-T*(P-I)*.5,x-E*(P-I)*.5,g-T*P,x-E*P,g+T*I,x+E*I,h,!1)+2:s.cap===Ni.SQUARE&&(d+=Q_(g,x,T,E,P,I,!1,h)));const V=e.indices,H=lo.epsilon*lo.epsilon;for(let U=f;U<d+f-2;++U)y=h[U*2],_=h[U*2+1],g=h[(U+1)*2],x=h[(U+1)*2+1],w=h[(U+2)*2],S=h[(U+2)*2+1],!(Math.abs(y*(x-S)+g*(S-_)+w*(_-x))<H)&&V.push(U,U+1,U+2)}function Bk(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==ft.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let h=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(h,h+1),h++;s&&a.push(h,u)}function J_(t,e){t.lineStyle.native?Bk(t,e):Dk(t,e)}class ng{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,h=2*i-2*r,c=4*(a*a+l*l),d=4*(a*u+l*h),f=u*u+h*h,p=2*Math.sqrt(c+d+f),m=Math.sqrt(c),v=2*c*m,y=2*Math.sqrt(f),_=d/m;return(v*p+m*d*(p-y)+(4*f*c-d*d)*Math.log((2*m+_+p)/(_+y)))/(4*v)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],l=lo._segmentsCount(ng.curveLength(o,a,e,r,n,i));let u=0,h=0;for(let c=1;c<=l;++c){const d=c/l;u=o+(e-o)*d,h=a+(r-a)*d,s.push(u+(e+(n-e)*d-u)*d,h+(r+(i-r)*d-h)*d)}}}const Sd={[ft.POLY]:_w,[ft.CIRC]:lh,[ft.ELIP]:lh,[ft.RECT]:Rk,[ft.RREC]:kk},ey=[],$l=[];class uh{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new uh(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const hs=new ge,yw=class extends Px{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new ih,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),$l.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),ey.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new uh(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new uh(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,hs):hs.copyFrom(t),n.shape.contains(hs.x,hs.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(hs.x,hs.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,h=l.lineStyle;Sd[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||h.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const f=d===0?u:h;if(!f.visible)continue;const p=f.texture.baseTexture,m=this.indices.length,v=this.points.length/2;p.wrapMode=li.REPEAT,d===0?this.processFill(l):this.processLine(l);const y=this.points.length/2-v;y!==0&&(r&&!this._compareStyles(n,f)&&(r.end(m,v),r=null),r||(r=ey.pop()||new Mk,r.begin(f,m,v),this.batches.push(r),n=f),this.addUvs(this.points,t,f.texture,v,y,f.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<yw.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++oe._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),$l.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=$l.pop();n||(n=new ip,n.texArray=new op),n.texArray.count=0,n.start=0,n.size=0,n.type=en.TRIANGLES;let i=0,s=null,o=0,a=!1,l=en.TRIANGLES,u=0;this.drawCalls.push(n);for(let h=0;h<this.batches.length;h++){const c=this.batches[h],d=8,f=c.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?en.LINES:en.TRIANGLES,s=null,i=d,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===d&&(t++,i=0,n.size>0&&(n=$l.pop(),n||(n=new ip,n.texArray=new op),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=li.REPEAT,n.texArray.elements[n.texArray.count++]=p,i++)),n.size+=c.size,u+=c.size,o=p._batchLocation,this.addColors(e,f.color,f.alpha,c.attribSize,c.attribStart),this.addTextureIds(r,o,c.attribSize,c.attribStart)}oe._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=r[l],s[a++]=n[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?_w.triangulate(t,this):Sd[t.type].triangulate(t,this)}processLine(t){J_(t,this);for(let e=0;e<t.holes.length;e++)J_(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Sd[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=we.shared.setValue(e).toLittleEndianNumber(),o=we.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let a=0;a<n;a++)t[i+a]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const a=e.length,l=r.frame;for(;o<i;){let h=t[(n+o)*2],c=t[(n+o)*2+1];if(s){const d=s.a*h+s.c*c+s.tx;c=s.b*h+s.d*c+s.ty,h=d}o++,e.push(h/l.width,c/l.height)}const u=r.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,r,a,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let h=a.x/a.width,c=a.y/a.height,d=Math.floor(t[r]+s),f=Math.floor(t[r+1]+s);for(let p=r+2;p<o;p+=2)d=Math.min(d,Math.floor(t[p]+s)),f=Math.min(f,Math.floor(t[p+1]+s));h-=d,c-=f;for(let p=r;p<o;p+=2)t[p]=(t[p]+h)*l,t[p+1]=(t[p+1]+c)*u}};let vw=yw;vw.BATCHABLE_SIZE=100;class mc{constructor(){this.color=16777215,this.alpha=1,this.texture=q.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new mc;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=q.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class ig extends mc{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ni.BUTT,this.join=Pr.MITER,this.miterLimit=10}clone(){const e=new ig;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const bd={},fu=class extends Re{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new mc,this._lineStyle=new ig,this._matrix=null,this._holeMode=!1,this.state=On.for2d(),this._geometry=t||new vw,this._geometry.refCount++,this._transformID=-1,this._tintColor=new we(16777215),this.blendMode=ne.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new fu(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:q.WHITE,color:t?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ni.BUTT,join:Pr.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ys,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ys,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),ng.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),rg.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=Z_.curveTo(t,e,r,n,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:h,endAngle:c,anticlockwise:d}=o;this.arc(a,l,u,h,c,d)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=nh:s&&n<=i&&(n+=nh),i-n===0)return this;const a=t+Math.cos(n)*r,l=e+Math.sin(n)*r,u=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const c=Math.abs(h[h.length-2]-a),d=Math.abs(h[h.length-1]-l);c<u&&d<u||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return Z_.arc(a,l,t,e,r,n,i,s,h),this}beginFill(t=0,e){return this.beginTextureFill({texture:q.WHITE,color:t,alpha:e})}normalizeColor(t){const e=we.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:q.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new le(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new Qm(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new Km(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new Zm(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Ys(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===ft.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:we.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,we.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,a=s.length;o<a;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!bd[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let a=0;a<n;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ie,default:zr.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;bd[r]=new an(o,s)}e=bd[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,fu._TEMP_POINT),this._geometry.containsPoint(fu._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=we.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let h=0;for(let c=0;c<l.length;c+=2){const d=l[c],f=l[c+1];u[h++]=r*d+i*f+o,u[h++]=s*f+n*d+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let uo=fu;uo.curves=lo;uo._TEMP_POINT=new ge;class Ok{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Cd=new ge,ty=new Ys,xw=class extends Re{constructor(t,e,r,n=en.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||On.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=j.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===en.TRIANGLES&&e.length<xw.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,h=i.ty,c=this.vertexData;for(let d=0;d<c.length/2;d++){const f=r[d*2],p=r[d*2+1];c[d*2]=s*f+a*p+u,c[d*2+1]=o*f+l*p+h}if(this._roundPixels){const d=j.RESOLUTION;for(let f=0;f<c.length;++f)c[f]=Math.round(c[f]*d)/d}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Ok(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Cd);const e=this.geometry.getBuffer("aVertexPosition").data,r=ty.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=n[o]*2,l=n[o+1]*2,u=n[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[l],r[3]=e[l+1],r[4]=e[u],r[5]=e[u+1],ty.contains(Cd.x,Cd.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let yp=xw;yp.BATCHABLE_SIZE=100;class Lk extends pi{constructor(e,r,n){super();const i=new We(e),s=new We(r,!0),o=new We(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,re.FLOAT).addAttribute("aTextureCoord",s,2,!1,re.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Nk=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Fk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class ry extends an{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Ie.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Br.from(Fk,Nk),n),this._colorDirty=!1,this.uvMatrix=new Vx(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new we(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;we.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class ny{constructor(e,r,n){this.geometry=new pi,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||re.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new We(vP(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new We(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new We(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===re.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===re.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===re.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===re.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Uk=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,zk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class ww extends lc{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ie,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:re.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=an.from(zk,Uk,{}),this.state=On.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=Sx(e.blendMode,u),s.state.set(this.state);const h=s.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=we.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<o;f+=i,p+=1){let m=o-f;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const v=a[p];v.uploadDynamic(r,f,m);const y=e._bufferUpdateIDs[p]||0;d=d||v._updateID<y,d&&(v._updateID=e._updateID,v.uploadStatic(r,f,m)),s.geometry.bind(v.geometry),h.drawElements(h.TRIANGLES,m*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new ny(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new ny(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,l=0,u=0,h=0;for(let c=0;c<n;++c){const d=e[r+c],f=d._texture,p=d.scale.x,m=d.scale.y,v=f.trim,y=f.orig;v?(l=v.x-d.anchor.x*y.width,a=l+v.width,h=v.y-d.anchor.y*y.height,u=h+v.height):(a=y.width*(1-d.anchor.x),l=y.width*-d.anchor.x,u=y.height*(1-d.anchor.y),h=y.height*-d.anchor.y),i[o]=l*p,i[o+1]=h*m,i[o+s]=a*p,i[o+s+1]=h*m,i[o+s*2]=a*p,i[o+s*2+1]=u*m,i[o+s*3]=l*p,i[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a],u=we.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}ww.extension={name:"particle",type:W.RendererPlugin};J.add(ww);var gc=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(gc||{});const Hl={willReadFrequently:!0},Z=class{static get experimentalLetterSpacingSupported(){let t=Z._experimentalLetterSpacingSupported;if(t!==void 0){const e=j.ADAPTER.getCanvasRenderingContext2D().prototype;t=Z._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,a,l){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,r,n=Z._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=Z.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",Hl);o.font=i;const l=(r?Z.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let h=0;for(let p=0;p<l.length;p++){const m=Z._measureText(l[p],e.letterSpacing,o);u[p]=m,h=Math.max(h,m)}let c=h+e.strokeThickness;e.dropShadow&&(c+=e.dropShadowDistance);const d=e.lineHeight||s.fontSize+e.strokeThickness;let f=Math.max(d,s.fontSize+e.strokeThickness*2)+(l.length-1)*(d+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new Z(t,e,c,f,l,u,d+e.leading,h,s)}static _measureText(t,e,r){let n=!1;Z.experimentalLetterSpacingSupported&&(Z.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(Z.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=Z._canvas){const n=r.getContext("2d",Hl);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,h=Z.collapseSpaces(u),c=Z.collapseNewlines(u);let d=!h;const f=e.wordWrapWidth+l,p=Z.tokenize(t);for(let m=0;m<p.length;m++){let v=p[m];if(Z.isNewline(v)){if(!c){o+=Z.addLine(s),d=!h,s="",i=0;continue}v=" "}if(h){const _=Z.isBreakingSpace(v),g=Z.isBreakingSpace(s[s.length-1]);if(_&&g)continue}const y=Z.getFromCache(v,l,a,n);if(y>f)if(s!==""&&(o+=Z.addLine(s),s="",i=0),Z.canBreakWords(v,e.breakWords)){const _=Z.wordWrapSplit(v);for(let g=0;g<_.length;g++){let x=_[g],w=x,S=1;for(;_[g+S];){const E=_[g+S];if(!Z.canBreakChars(w,E,v,g,e.breakWords))x+=E;else break;w=E,S++}g+=S-1;const T=Z.getFromCache(x,l,a,n);T+i>f&&(o+=Z.addLine(s),d=!1,s="",i=0),s+=x,i+=T}}else{s.length>0&&(o+=Z.addLine(s),s="",i=0);const _=m===p.length-1;o+=Z.addLine(v,!_),d=!1,s="",i=0}else y+i>f&&(d=!1,o+=Z.addLine(s),s="",i=0),(s.length>0||!Z.isBreakingSpace(v)||d)&&(s+=v,i+=y)}return o+=Z.addLine(s,!1),o}static addLine(t,e=!0){return t=Z.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=Z._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!Z.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Z._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Z._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(Z.isBreakingSpace(i,s)||Z.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return Z.graphemeSegmenter(t)}static measureFont(t){if(Z._fonts[t])return Z._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=Z._canvas,n=Z._context;n.font=t;const i=Z.METRICS_STRING+Z.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(Z.BASELINE_SYMBOL).width);const a=Math.ceil(Z.HEIGHT_MULTIPLIER*o);if(o=o*Z.BASELINE_MULTIPLIER|0,s===0||a===0)return Z._fonts[t]=e,e;r.width=s,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const l=n.getImageData(0,0,s,a).data,u=l.length,h=s*4;let c=0,d=0,f=!1;for(c=0;c<o;++c){for(let p=0;p<h;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d+=h;else break}for(e.ascent=o-c,d=u-h,f=!1,c=a;c>o;--c){for(let p=0;p<h;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d-=h;else break}return e.descent=c-o,e.fontSize=e.ascent+e.descent,Z._fonts[t]=e,e}static clearMetrics(t=""){t?delete Z._fonts[t]:Z._fonts={}}static get _canvas(){if(!Z.__canvas){let t;try{const e=new OffscreenCanvas(0,0);if(e.getContext("2d",Hl)?.measureText)return Z.__canvas=e,e;t=j.ADAPTER.createCanvas()}catch{t=j.ADAPTER.createCanvas()}t.width=t.height=10,Z.__canvas=t}return Z.__canvas}static get _context(){return Z.__context||(Z.__context=Z._canvas.getContext("2d",Hl)),Z.__context}};let ct=Z;ct.METRICS_STRING="|ÉqÅ";ct.BASELINE_SYMBOL="M";ct.BASELINE_MULTIPLIER=1.4;ct.HEIGHT_MULTIPLIER=2;ct.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();ct.experimentalLetterSpacing=!1;ct._fonts={};ct._newlines=[10,13];ct._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const Gk=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],qo=class{constructor(t){this.styleID=0,this.reset(),Pd(this,t,t)}clone(){const t={};return Pd(t,this,qo.defaultStyle),new qo(t)}reset(){Pd(this,qo.defaultStyle,qo.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Ad(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Ad(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){$k(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Ad(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!Gk.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let kn=qo;kn.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:gc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function Ad(t){const e=we.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function $k(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Pd(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const Hk={texture:!0,children:!1,baseTexture:!0},vp=class extends Vr{constructor(t,e,r){let n=!1;r||(r=j.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=q.from(r);i.orig=new le,i.trim=new le,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=vp.defaultResolution??j.RESOLUTION,this._autoResolution=vp.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return ct.experimentalLetterSpacing}static set experimentalLetterSpacing(t){ce("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ct.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=ct.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,a=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,h=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let c,d;const f=e.dropShadow?2:1;for(let p=0;p<f;++p){const m=e.dropShadow&&p===0,v=m?Math.ceil(Math.max(1,s)+e.padding*2):0,y=v*this._resolution;if(m){r.fillStyle="black",r.strokeStyle="black";const g=e.dropShadowColor,x=e.dropShadowBlur*this._resolution,w=e.dropShadowDistance*this._resolution;r.shadowColor=we.shared.setValue(g).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=x,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*w,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*w+y}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let _=(a-h.fontSize)/2;a-h.fontSize<0&&(_=0);for(let g=0;g<o.length;g++)c=e.strokeThickness/2,d=e.strokeThickness/2+g*a+h.ascent+_,e.align==="right"?c+=u-l[g]:e.align==="center"&&(c+=(u-l[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[g],c+e.padding,d+e.padding-v,!0),e.fill&&this.drawLetterSpacing(o[g],c+e.padding,d+e.padding-v)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let o=!1;if(ct.experimentalLetterSpacingSupported&&(ct.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let a=e;const l=ct.graphemeSegmenter(t);let u=this.context.measureText(t).width,h=0;for(let c=0;c<l.length;++c){const d=l[c];n?this.context.strokeText(d,a,r):this.context.fillText(d,a,r);let f="";for(let p=c+1;p<l.length;++p)f+=l[p];h=this.context.measureText(f).width,a+=u-h+s,u=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=TP(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=n.slice(),h=t.fillGradientStops.slice();if(!h.length){const c=u.length+1;for(let d=1;d<c;++d)h.push(d/c)}if(u.unshift(n[0]),h.unshift(0),u.push(n[n.length-1]),h.push(1),t.fillGradientType===gc.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const c=r.fontProperties.fontSize+t.strokeThickness;for(let d=0;d<e.length;d++){const f=r.lineHeight*(d-1)+c,p=r.lineHeight*d;let m=p;d>0&&f>p&&(m=(p+f)/2);const v=p+c,y=r.lineHeight*(d+1);let _=v;d+1<e.length&&y<v&&(_=(v+y)/2);const g=(_-m)/l;for(let x=0;x<u.length;x++){let w=0;typeof h[x]=="number"?w=h[x]:w=x/u.length;let S=Math.min(1,Math.max(0,m/l+w*g));S=Number(S.toFixed(5)),i.addColorStop(S,u[x])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const c=u.length+1;let d=1;for(let f=0;f<u.length;f++){let p;typeof h[f]=="number"?p=h[f]:p=d/c,i.addColorStop(p,u[f]),d++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Hk,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Yn(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Yn(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof kn?this._style=t:this._style=new kn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let rl=vp;rl.defaultAutoResolution=!0;class Vk{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function jk(t,e){let r=!1;if(t?._textures?.length){for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof q){const i=t._textures[n].baseTexture;e.includes(i)||(e.push(i),r=!0)}}return r}function Xk(t,e){if(t.baseTexture instanceof oe){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Wk(t,e){if(t._texture&&t._texture instanceof q){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Yk(t,e){return e instanceof rl?(e.updateText(!0),!0):!1}function qk(t,e){if(e instanceof kn){const r=e.toFontString();return ct.measureFont(r),!0}return!1}function Kk(t,e){if(t instanceof rl){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Zk(t,e){return t instanceof kn?(e.includes(t)||e.push(t),!0):!1}const Ew=class{constructor(t){this.limiter=new Vk(Ew.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Kk),this.registerFindHook(Zk),this.registerFindHook(jk),this.registerFindHook(Xk),this.registerFindHook(Wk),this.registerUploadHook(Yk),this.registerUploadHook(qk)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Ke.system.addOnce(this.tick,this,gi.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Ke.system.addOnce(this.tick,this,gi.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Re)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Ke.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let hh=Ew;hh.uploadsPerFrame=4;Object.defineProperties(j,{UPLOADS_PER_FRAME:{get(){return hh.uploadsPerFrame},set(t){ce("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),hh.uploadsPerFrame=t}}});function Tw(t,e){return e instanceof oe?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Qk(t,e){if(!(e instanceof uo))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&Tw(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Jk(t,e){return t instanceof uo?(e.push(t),!0):!1}class Sw extends hh{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Jk),this.registerUploadHook(Tw),this.registerUploadHook(Qk)}}Sw.extension={name:"prepare",type:W.RendererSystem};J.add(Sw);var eM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,tM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,rM=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,iy=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,nM=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Vl=new Ie;class bw extends lc{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new zx,this.state=On.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=an.from(iy,nM,r),this.shader=e.context.webGLVersion>1?an.from(tM,eM,r):an.from(iy,rM,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,h=e.tileTransform.localTransform,c=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[r.CONTEXT_UID]?d=l.wrapMode!==li.CLAMP:l.wrapMode===li.CLAMP&&(l.wrapMode=li.REPEAT));const f=d?this.simpleShader:this.shader,p=a.width,m=a.height,v=e._width,y=e._height;Vl.set(h.a*p/v,h.b*p/y,h.c*m/v,h.d*m/y,h.tx/v,h.ty/y),Vl.invert(),d?Vl.prepend(c.mapCoord):(f.uniforms.uMapCoord=c.mapCoord.toArray(!0),f.uniforms.uClampFrame=c.uClampFrame,f.uniforms.uClampOffset=c.uClampOffset),f.uniforms.uTransform=Vl.toArray(!0),f.uniforms.uColor=we.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,r.shader.bind(f),r.geometry.bind(n),this.state.blendMode=Sx(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}bw.extension={name:"tilingSprite",type:W.RendererPlugin};J.add(bw);const Ko=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof q?t:null,this.baseTexture=t instanceof oe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=fi(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ko.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=Ko.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new le(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new le(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new le(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new le(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new q(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor,i.borders),q.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ko.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ko.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let xp=Ko;xp.BATCH_SIZE=1e3;const iM=["jpg","png","jpeg","avif","webp"];function Cw(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=_t.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=Cw([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const sM={extension:W.Asset,cache:{test:t=>t instanceof xp,getCacheableAssets:(t,e)=>Cw(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&iM.includes(i)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(j.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:W.LoadParser,priority:fn.Normal},async testParse(t,e){return _t.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){let n=_t.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=gp(i,e.src);const o=(await r.load([i]))[i],a=new xp(o.baseTexture,t,e.src);await a.parse();const l=t?.meta?.related_multi_packs;if(Array.isArray(l)){const u=[];for(const c of l){if(typeof c!="string")continue;let d=n+c;e.data?.ignoreMultiPack||(d=gp(d,e.src),u.push(r.load({src:d,data:{ignoreMultiPack:!0}})))}const h=await Promise.all(u);a.linkedSheets=h,h.forEach(c=>{c.linkedSheets=[a].concat(a.linkedSheets.filter(d=>d!==c))})}return a},unload(t){t.destroy(!0)}}};J.add(sM);class ch{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class pu{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const h=a[u].split("="),c=h[0],d=h[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[c]=p}n[o].push(l)}const i=new ch;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class wp{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new ch,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const h=o[u];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class Ep{static test(e){return typeof e=="string"&&e.includes("<font>")?wp.test(j.ADAPTER.parseXML(e)):!1}static parse(e){return wp.parse(j.ADAPTER.parseXML(e))}}const Id=[pu,wp,Ep];function oM(t){for(let e=0;e<Id.length;e++)if(Id[e].test(t))return Id[e];return null}function aM(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,h=t.width/n-l-u*2,c=t.height/n-l-u*2,d=o.slice(),f=r.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),r.fillGradientType===gc.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,u,h/2,c+u);let p=0;const v=(s.fontProperties.fontSize+r.strokeThickness)/c;for(let y=0;y<i.length;y++){const _=s.lineHeight*y;for(let g=0;g<d.length;g++){let x=0;typeof f[g]=="number"?x=f[g]:x=g/d.length;const w=_/c+x*v;let S=Math.max(p,w);S=Math.min(S,1),a.addColorStop(S,d[g]),p=S}}}else{a=e.createLinearGradient(u,c/2,h+u,c/2);const p=d.length+1;let m=1;for(let v=0;v<d.length;v++){let y;typeof f[v]=="number"?y=f[v]:y=m/p,a.addColorStop(y,d[v]),m++}}return a}function lM(t,e,r,n,i,s,o){const a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);const u=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=aM(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const c=o.dropShadowColor,d=o.dropShadowBlur*s,f=o.dropShadowDistance*s;e.shadowColor=we.shared.setValue(c).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*f,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*f}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,h+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,h+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function mu(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function Aw(t){return Array.from?Array.from(t):t.split("")}function uM(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...Aw(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Cr=class{constructor(t,e,r){const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=fi(s.file),l={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let u=0;u<t.page.length;u++){const{id:h,file:c}=t.page[u];l[h]=e instanceof Array?e[u]:e[c],o?.fieldType&&o.fieldType!=="none"&&(l[h].baseTexture.alphaMode=Hr.NO_PREMULTIPLIED_ALPHA,l[h].baseTexture.mipmap=hn.OFF)}for(let u=0;u<t.char.length;u++){const{id:h,page:c}=t.char[u];let{x:d,y:f,width:p,height:m,xoffset:v,yoffset:y,xadvance:_}=t.char[u];d/=a,f/=a,p/=a,m/=a,v/=a,y/=a,_/=a;const g=new le(d+l[c].frame.x/a,f+l[c].frame.y/a,p,m);this.chars[h]={xOffset:v,yOffset:y,xAdvance:_,kerning:{},texture:new q(l[c].baseTexture,g),page:c}}for(let u=0;u<t.kerning.length;u++){let{first:h,second:c,amount:d}=t.kerning[u];h/=a,c/=a,d/=a,this.chars[c]&&(this.chars[c].kerning[h]=d)}this.distanceFieldRange=o?.distanceRange,this.distanceFieldType=o?.fieldType?.toLowerCase()??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof ch)n=t;else{const s=oM(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof q&&(e=[e]);const i=new Cr(n,e,r);return Cr.available[i.font]=i,i}static uninstall(t){const e=Cr.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Cr.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},Cr.defaultOptions,r),u=uM(n),h=e instanceof kn?e:new kn(e),c=o,d=new ch;d.info[0]={face:h.fontFamily,size:h.fontSize},d.common[0]={lineHeight:h.fontSize};let f=0,p=0,m,v,y,_=0;const g=[];for(let w=0;w<u.length;w++){m||(m=j.ADAPTER.createCanvas(),m.width=o,m.height=a,v=m.getContext("2d"),y=new oe(m,{resolution:s,...l}),g.push(new q(y)),d.page.push({id:g.length-1,file:""}));const S=u[w],T=ct.measureText(S,h,!1,m),E=T.width,b=Math.ceil(T.height),C=Math.ceil((h.fontStyle==="italic"?2:1)*E);if(p>=a-b*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${S}')`);--w,m=null,v=null,y=null,p=0,f=0,_=0;continue}if(_=Math.max(b+T.fontProperties.descent,_),C*s+f>=c){if(f===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${S}')`);--w,p+=_*s,p=Math.ceil(p),f=0,_=0;continue}lM(m,v,T,f,p,s,h);const R=mu(T.text);d.char.push({id:R,page:g.length-1,x:f/s,y:p/s,width:C,height:b,xoffset:0,yoffset:0,xadvance:E-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),f+=(C+2*i)*s,f=Math.ceil(f)}for(let w=0,S=u.length;w<S;w++){const T=u[w];for(let E=0;E<S;E++){const b=u[E],C=v.measureText(T).width,R=v.measureText(b).width,P=v.measureText(T+b).width-(C+R);P&&d.kerning.push({first:mu(T),second:mu(b),amount:P})}}const x=new Cr(d,g,!0);return Cr.available[t]!==void 0&&Cr.uninstall(t),Cr.available[t]=x,x}};let kt=Cr;kt.ALPHA=[["a","z"],["A","Z"]," "];kt.NUMERIC=[["0","9"]];kt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];kt.ASCII=[[" ","~"]];kt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Cr.ALPHANUMERIC};kt.available={};var hM=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,cM=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const sy=[],oy=[],ay=[],Pw=class extends Re{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},Pw.styleDefaults,e);if(!kt.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new we(n),this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new qn(()=>{this.dirty=!0},this,0,0),this._roundPixels=j.ROUND_PIXELS,this.dirty=!0,this._resolution=j.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const t=kt.available[this._fontName],e=this.fontSize,r=e/t.size,n=new ge,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=Aw(a),u=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?sy:oy;let c=null,d=0,f=0,p=0,m=-1,v=0,y=0,_=0,g=0;for(let C=0;C<l.length;C++){const R=l[C],G=mu(R);if(/(?:\s)/.test(R)&&(m=C,v=d,g++),R==="\r"||R===`
`){s.push(d),o.push(-1),f=Math.max(f,d),++p,++y,n.x=0,n.y+=t.lineHeight,c=null,g=0;continue}const P=t.chars[G];if(!P)continue;c&&P.kerning[c]&&(n.x+=P.kerning[c]);const I=ay.pop()||{texture:q.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ge};I.texture=P.texture,I.line=p,I.charCode=G,I.position.x=Math.round(n.x+P.xOffset+this._letterSpacing/2),I.position.y=Math.round(n.y+P.yOffset),I.prevSpaces=g,i.push(I),d=I.position.x+Math.max(P.xAdvance-P.xOffset,P.texture.orig.width),n.x+=P.xAdvance+this._letterSpacing,_=Math.max(_,P.yOffset+P.texture.height),c=G,m!==-1&&u>0&&n.x>u&&(++y,Ws(i,1+m-y,1+C-m),C=m,m=-1,s.push(v),o.push(i.length>0?i[i.length-1].prevSpaces:0),f=Math.max(f,v),p++,n.x=0,n.y+=t.lineHeight,c=null,g=0)}const x=l[l.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(d=v),s.push(d),f=Math.max(f,d),o.push(-1));const w=[];for(let C=0;C<=p;C++){let R=0;this._align==="right"?R=f-s[C]:this._align==="center"?R=(f-s[C])/2:this._align==="justify"&&(R=o[C]<0?0:(f-s[C])/o[C]),w.push(R)}const S=i.length,T={},E=[],b=this._activePagesMeshData;h.push(...b);for(let C=0;C<S;C++){const R=i[C].texture,G=R.baseTexture.uid;if(!T[G]){let P=h.pop();if(!P){const V=new Lk;let H,U;t.distanceFieldType==="none"?(H=new ry(q.EMPTY),U=ne.NORMAL):(H=new ry(q.EMPTY,{program:Br.from(cM,hM),uniforms:{uFWidth:0}}),U=ne.NORMAL_NPM);const k=new yp(V,H);k.blendMode=U,P={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:k,vertices:null,uvs:null,indices:null}}P.index=0,P.indexCount=0,P.vertexCount=0,P.uvsCount=0,P.total=0;const{_textureCache:I}=this;I[G]=I[G]||new q(R.baseTexture),P.mesh.texture=I[G],P.mesh.tint=this._tintColor.value,E.push(P),T[G]=P}T[G].total++}for(let C=0;C<b.length;C++)E.includes(b[C])||this.removeChild(b[C].mesh);for(let C=0;C<E.length;C++)E[C].mesh.parent!==this&&this.addChild(E[C].mesh);this._activePagesMeshData=E;for(const C in T){const R=T[C],G=R.total;if(!(R.indices?.length>6*G)||R.vertices.length<yp.BATCHABLE_SIZE*2)R.vertices=new Float32Array(4*2*G),R.uvs=new Float32Array(4*2*G),R.indices=new Uint16Array(6*G);else{const P=R.total,I=R.vertices;for(let V=P*4*2;V<I.length;V++)I[V]=0}R.mesh.size=6*G}for(let C=0;C<S;C++){const R=i[C];let G=R.position.x+w[R.line]*(this._align==="justify"?R.prevSpaces:1);this._roundPixels&&(G=Math.round(G));const P=G*r,I=R.position.y*r,V=R.texture,H=T[V.baseTexture.uid],U=V.frame,k=V._uvs,F=H.index++;H.indices[F*6+0]=0+F*4,H.indices[F*6+1]=1+F*4,H.indices[F*6+2]=2+F*4,H.indices[F*6+3]=0+F*4,H.indices[F*6+4]=2+F*4,H.indices[F*6+5]=3+F*4,H.vertices[F*8+0]=P,H.vertices[F*8+1]=I,H.vertices[F*8+2]=P+U.width*r,H.vertices[F*8+3]=I,H.vertices[F*8+4]=P+U.width*r,H.vertices[F*8+5]=I+U.height*r,H.vertices[F*8+6]=P,H.vertices[F*8+7]=I+U.height*r,H.uvs[F*8+0]=k.x0,H.uvs[F*8+1]=k.y0,H.uvs[F*8+2]=k.x1,H.uvs[F*8+3]=k.y1,H.uvs[F*8+4]=k.x2,H.uvs[F*8+5]=k.y2,H.uvs[F*8+6]=k.x3,H.uvs[F*8+7]=k.y3}this._textWidth=f*r,this._textHeight=(n.y+t.lineHeight)*r;for(const C in T){const R=T[C];if(this.anchor.x!==0||this.anchor.y!==0){let V=0;const H=this._textWidth*this.anchor.x,U=this._textHeight*this.anchor.y;for(let k=0;k<R.total;k++)R.vertices[V++]-=H,R.vertices[V++]-=U,R.vertices[V++]-=H,R.vertices[V++]-=U,R.vertices[V++]-=H,R.vertices[V++]-=U,R.vertices[V++]-=H,R.vertices[V++]-=U}this._maxLineHeight=_*r;const G=R.mesh.geometry.getBuffer("aVertexPosition"),P=R.mesh.geometry.getBuffer("aTextureCoord"),I=R.mesh.geometry.getIndex();G.data=R.vertices,P.data=R.uvs,I.data=R.indices,G.update(),P.update(),I.update()}for(let C=0;C<i.length;C++)ay.push(i[C]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=kt.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(u))/2,c=this.fontSize/n,d=t._view.resolution;for(const f of this._activePagesMeshData)f.mesh.shader.uniforms.uFWidth=h*e*c*d}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=kt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!kt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??kt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=kt.available[this._fontName].distanceFieldType==="none"?sy:oy;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=q.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let dM=Pw;dM.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const fM=[".xml",".fnt"],pM={extension:{type:W.LoadParser,priority:fn.Normal},name:"loadBitmapFont",test(t){return fM.includes(_t.extname(t).toLowerCase())},async testParse(t){return pu.test(t)||Ep.test(t)},async parse(t,e,r){const n=pu.test(t)?pu.parse(t):Ep.parse(t),{src:i}=e,{page:s}=n,o=[];for(let u=0;u<s.length;++u){const h=s[u].file;let c=_t.join(_t.dirname(i),h);c=gp(c,i),o.push(c)}const a=await r.load(o),l=o.map(u=>a[u]);return kt.install(n,l,!0)},async load(t,e){return(await j.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};J.add(pM);const ms=class extends kn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new ms(Object.keys(ms.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete ms.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=ms;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return j.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),a=new FileReader;a.onload=()=>i([o,a.result]),a.onerror=s,a.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:_t.basename(t,_t.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=_P(t)),typeof t=="number"?gP(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,ms.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=j.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let da=ms;da.availableFonts={};da.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const gs=class extends Vr{constructor(t="",e={}){super(q.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=q.from(r,{scaleMode:j.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new le,n.trim=new le,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject"),l=document.createElementNS(s,"div"),u=document.createElementNS(s,"style");a.setAttribute("width","10000"),a.setAttribute("height","10000"),a.style.overflow="hidden",o.appendChild(a),this.maxWidth=gs.defaultMaxWidth,this.maxHeight=gs.defaultMaxHeight,this._domElement=l,this._styleElement=u,this._svgRoot=o,this._foreignObject=a,this._foreignObject.appendChild(u),this._foreignObject.appendChild(l),this._image=r,this._loadImage=new Image,this._autoResolution=gs.defaultAutoResolution,this._resolution=gs.defaultResolution??j.RESOLUTION,this.text=t,this.style=e}measureText(t){const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(n)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const a=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(a)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},gs.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=e,this._svgRoot?.remove(),this._svgRoot=e,this._domElement?.remove(),this._domElement=e,this._foreignObject?.remove(),this._foreignObject=e,this._styleElement?.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Yn(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Yn(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof da?(this.ownsStyle=!1,this._style=t):t instanceof kn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=da.from(t)):(this.ownsStyle=!0,this._style=new da(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let _c=gs;_c.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};_c.defaultMaxWidth=2024;_c.defaultMaxHeight=2024;_c.defaultAutoResolution=!0;class Bs{static get getHandle(){return Bs._handle?Bs._handle:new Bs}get direction(){return this.mDirection}constructor(){this.mDirection={wait:!0,up:!1,down:!1,left:!1,right:!1},Bs._handle=this;const e=["w","ㅈ","s","ㄴ","a","ㅁ","d","ㅇ"];document.onkeydown=r=>{if(e.includes(r.key)){this.onkeydown(r);return}const n=mt.getHandle.getScene;n.useKeyboard&&n.keydownEvent(r)},document.onkeyup=r=>{if(e.includes(r.key)){this.onkeyup(r);return}const n=mt.getHandle.getScene;n.useKeyboard&&n.keyupEvent(r)}}onkeyup(e){const r=e.key.toLowerCase();(r==="w"||r==="ㅈ")&&(this.mDirection.up=!1),(r==="s"||r==="ㄴ")&&(this.mDirection.down=!1),(r==="a"||r==="ㅁ")&&(this.mDirection.left=!1),(r==="d"||r==="ㅇ")&&(this.mDirection.right=!1)}onkeydown(e){const r=e.key.toLowerCase();(r==="w"||r==="ㅈ")&&(this.mDirection.up=!0),(r==="s"||r==="ㄴ")&&(this.mDirection.down=!0),(r==="a"||r==="ㅁ")&&(this.mDirection.left=!0),(r==="d"||r==="ㅇ")&&(this.mDirection.right=!0)}updateDirection(){this.mDirection.wait=!this.mDirection.up&&!this.mDirection.down&&!this.mDirection.left&&!this.mDirection.right}}const Ve={tileScale:50,mapData:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],speed:.1,rscList:[{key:"bomb.png",src:"rsc/img/bomb.png"},{key:"wall.png",src:"rsc/img/wall.png"},{key:"grass.png",src:"rsc/img/grass.png"},{key:"fire-bomb.png",src:"rsc/img/fire-bomb.png"},{key:"bomb.gif",src:"rsc/img/bomb.gif"},{key:"cha-wait.gif",src:"rsc/img/cha-wait.gif"},{key:"cha-l.gif",src:"rsc/img/cha-l.gif"},{key:"cha-r.gif",src:"rsc/img/cha-r.gif"},{key:"cha-up.gif",src:"rsc/img/cha-up.gif"},{key:"cha-down.gif",src:"rsc/img/cha-down.gif"},{key:"cha-bombing.gif",src:"rsc/img/cha-bombing.gif"}]};var $i={},Iw={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.loop=Cn.conditional=Cn.parse=void 0;var mM=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(o){return t(e,o,n,i)});else if(typeof r=="function")r(e,n,i,t);else{var s=Object.keys(r)[0];Array.isArray(r[s])?(i[s]={},t(e,r[s],n,i[s])):i[s]=r[s](e,n,i,t)}return n};Cn.parse=mM;var gM=function(e,r){return function(n,i,s,o){r(n,i,s)&&o(n,e,i,s)}};Cn.conditional=gM;var _M=function(e,r){return function(n,i,s,o){for(var a=[],l=n.pos;r(n,i,s);){var u={};if(o(n,e,i,u),n.pos===l)break;l=n.pos,a.push(u)}return a}};Cn.loop=_M;var je={};Object.defineProperty(je,"__esModule",{value:!0});je.readBits=je.readArray=je.readUnsigned=je.readString=je.peekBytes=je.readBytes=je.peekByte=je.readByte=je.buildStream=void 0;var yM=function(e){return{data:e,pos:0}};je.buildStream=yM;var Rw=function(){return function(e){return e.data[e.pos++]}};je.readByte=Rw;var vM=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(r){return r.data[r.pos+e]}};je.peekByte=vM;var yc=function(e){return function(r){return r.data.subarray(r.pos,r.pos+=e)}};je.readBytes=yc;var xM=function(e){return function(r){return r.data.subarray(r.pos,r.pos+e)}};je.peekBytes=xM;var wM=function(e){return function(r){return Array.from(yc(e)(r)).map(function(n){return String.fromCharCode(n)}).join("")}};je.readString=wM;var EM=function(e){return function(r){var n=yc(2)(r);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}};je.readUnsigned=EM;var TM=function(e,r){return function(n,i,s){for(var o=typeof r=="function"?r(n,i,s):r,a=yc(e),l=new Array(o),u=0;u<o;u++)l[u]=a(n);return l}};je.readArray=TM;var SM=function(e,r,n){for(var i=0,s=0;s<n;s++)i+=e[r+s]&&Math.pow(2,n-s-1);return i},bM=function(e){return function(r){for(var n=Rw()(r),i=new Array(8),s=0;s<8;s++)i[7-s]=!!(n&1<<s);return Object.keys(e).reduce(function(o,a){var l=e[a];return l.length?o[a]=SM(i,l.index,l.length):o[a]=i[l.index],o},{})}};je.readBits=bM;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Cn,r=je,n={blocks:function(d){for(var f=0,p=[],m=d.data.length,v=0,y=(0,r.readByte)()(d);y!==f&&y;y=(0,r.readByte)()(d)){if(d.pos+y>=m){var _=m-d.pos;p.push((0,r.readBytes)(_)(d)),v+=_;break}p.push((0,r.readBytes)(y)(d)),v+=y}for(var g=new Uint8Array(v),x=0,w=0;w<p.length;w++)g.set(p[w],x),x+=p[w].length;return g}},i=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(c){var d=(0,r.peekBytes)(2)(c);return d[0]===33&&d[1]===249}),s=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(c,d,f){return Math.pow(2,f.descriptor.lct.size+1)})},function(c,d,f){return f.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(c){return(0,r.peekByte)()(c)===44}),o=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(d,f,p){return(0,r.readBytes)(p.text.blockSize)(d)}},n]},function(c){var d=(0,r.peekBytes)(2)(c);return d[0]===33&&d[1]===1}),a=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(d,f,p){return(0,r.readString)(p.blockSize)(d)}},n]},function(c){var d=(0,r.peekBytes)(2)(c);return d[0]===33&&d[1]===255}),l=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(c){var d=(0,r.peekBytes)(2)(c);return d[0]===33&&d[1]===254}),u=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(c,d){return Math.pow(2,d.lsd.gct.size+1)})},function(c,d){return d.lsd.gct.exists}),{frames:(0,e.loop)([i,a,l,s,o],function(c){var d=(0,r.peekByte)()(c);return d===33||d===44})}],h=u;t.default=h})(Iw);var vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.deinterlace=void 0;var CM=function(e,r){for(var n=new Array(e.length),i=e.length/r,s=function(d,f){var p=e.slice(f*r,(f+1)*r);n.splice.apply(n,[d*r,r].concat(p))},o=[0,4,2,1],a=[8,8,4,2],l=0,u=0;u<4;u++)for(var h=o[u];h<i;h+=a[u])s(h,l),l++;return n};vc.deinterlace=CM;var xc={};Object.defineProperty(xc,"__esModule",{value:!0});xc.lzw=void 0;var AM=function(e,r,n){var i=4096,s=-1,o=n,a,l,u,h,c,d,f,S,p,m,w,v,T,E,C,b,y=new Array(n),_=new Array(i),g=new Array(i),x=new Array(i+1);for(v=e,l=1<<v,c=l+1,a=l+2,f=s,h=v+1,u=(1<<h)-1,p=0;p<l;p++)_[p]=0,g[p]=p;var w,S,T,E,b,C;for(w=S=T=E=b=C=0,m=0;m<o;){if(E===0){if(S<h){w+=r[C]<<S,S+=8,C++;continue}if(p=w&u,w>>=h,S-=h,p>a||p==c)break;if(p==l){h=v+1,u=(1<<h)-1,a=l+2,f=s;continue}if(f==s){x[E++]=g[p],f=p,T=p;continue}for(d=p,p==a&&(x[E++]=T,p=f);p>l;)x[E++]=g[p],p=_[p];T=g[p]&255,x[E++]=T,a<i&&(_[a]=f,g[a]=T,a++,!(a&u)&&a<i&&(h++,u+=a)),f=d}E--,y[b++]=x[E],m++}for(m=b;m<o;m++)y[m]=0;return y};xc.lzw=AM;Object.defineProperty($i,"__esModule",{value:!0});var kw=$i.decompressFrames=$i.decompressFrame=Mw=$i.parseGIF=void 0,PM=DM(Iw),IM=Cn,RM=je,kM=vc,MM=xc;function DM(t){return t&&t.__esModule?t:{default:t}}var BM=function(e){var r=new Uint8Array(e);return(0,IM.parse)((0,RM.buildStream)(r),PM.default)},Mw=$i.parseGIF=BM,OM=function(e){for(var r=e.pixels.length,n=new Uint8ClampedArray(r*4),i=0;i<r;i++){var s=i*4,o=e.pixels[i],a=e.colorTable[o]||[0,0,0];n[s]=a[0],n[s+1]=a[1],n[s+2]=a[2],n[s+3]=o!==e.transparentIndex?255:0}return n},Dw=function(e,r,n){if(!e.image){console.warn("gif frame does not have associated image.");return}var i=e.image,s=i.descriptor.width*i.descriptor.height,o=(0,MM.lzw)(i.data.minCodeSize,i.data.blocks,s);i.descriptor.lct.interlaced&&(o=(0,kM.deinterlace)(o,i.descriptor.width));var a={pixels:o,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return i.descriptor.lct&&i.descriptor.lct.exists?a.colorTable=i.lct:a.colorTable=r,e.gce&&(a.delay=(e.gce.delay||10)*10,a.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(a.transparentIndex=e.gce.transparentColorIndex)),n&&(a.patch=OM(a)),a};$i.decompressFrame=Dw;var LM=function(e,r){return e.frames.filter(function(n){return n.image}).map(function(n){return Dw(n,e.gct,r)})};kw=$i.decompressFrames=LM;const Zo=class extends Vr{constructor(t,e){super(q.EMPTY),this.animationSpeed=1,this.loop=!0,this.duration=0,this.autoPlay=!0,this.dirty=!1,this._currentFrame=0,this._autoUpdate=!1,this._isConnectedToTicker=!1,this._playing=!1,this._currentTime=0;const{scaleMode:r,width:n,height:i,...s}=Object.assign({},Zo.defaultOptions,e),o=document.createElement("canvas"),a=o.getContext("2d");o.width=n,o.height=i,this.texture=q.from(o,{scaleMode:r}),this.duration=t[t.length-1].end,this._frames=t,this._context=a,this._playing=!1,this._currentTime=0,this._isConnectedToTicker=!1,Object.assign(this,s),this.currentFrame=0,s.autoPlay&&this.play()}static fromBuffer(t,e){if(!t||t.byteLength===0)throw new Error("Invalid buffer");const r=m=>{let v=null;for(const y of m.frames)v=y.gce??v,"image"in y&&!("gce"in y)&&(y.gce=v)},n=Mw(t);r(n);const i=kw(n,!0),s=[],o=document.createElement("canvas"),a=o.getContext("2d",{willReadFrequently:!0}),l=document.createElement("canvas"),u=l.getContext("2d");o.width=n.lsd.width,o.height=n.lsd.height;let h=0;const{fps:c}=Object.assign({},Zo.defaultOptions,e),d=1e3/c;for(let m=0;m<i.length;m++){const{disposalType:v=2,delay:y=d,patch:_,dims:{width:g,height:x,left:w,top:S}}=i[m];l.width=g,l.height=x,u.clearRect(0,0,g,x);const T=u.createImageData(g,x);T.data.set(_),u.putImageData(T,0,0),a.drawImage(l,w,S);const E=a.getImageData(0,0,o.width,o.height);(v===2||v===3)&&a.clearRect(0,0,o.width,o.height),s.push({start:h,end:h+y,imageData:E}),h+=y}o.width=o.height=0,l.width=l.height=0;const{width:f,height:p}=n.lsd;return new Zo(s,{width:f,height:p,...e})}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ke.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ke.shared.add(this.update,this,gi.HIGH),this._isConnectedToTicker=!0),!this.loop&&this.currentFrame===this._frames.length-1&&(this._currentTime=0))}get progress(){return this._currentTime/this.duration}get playing(){return this._playing}update(t){if(!this._playing)return;const e=this.animationSpeed*t/j.TARGET_FPMS,r=this._currentTime+e,n=r%this.duration,i=this._frames.findIndex(s=>s.start<=n&&s.end>n);r>=this.duration?this.loop?(this._currentTime=n,this.updateFrameIndex(i),this.onLoop?.()):(this._currentTime=this.duration,this.updateFrameIndex(this._frames.length-1),this.onComplete?.(),this.stop()):(this._currentTime=n,this.updateFrameIndex(i))}updateFrame(){if(!this.dirty)return;const{imageData:t}=this._frames[this._currentFrame];this._context.putImageData(t,0,0),this._context.fillStyle="transparent",this._context.fillRect(0,0,0,1),this.texture.update(),this.dirty=!1}_render(t){this.updateFrame(),super._render(t)}_renderCanvas(t){this.updateFrame(),super._renderCanvas(t)}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Ke.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ke.shared.add(this.update,this),this._isConnectedToTicker=!0))}get currentFrame(){return this._currentFrame}set currentFrame(t){this.updateFrameIndex(t),this._currentTime=this._frames[t].start}updateFrameIndex(t){if(t<0||t>=this._frames.length)throw new Error(`Frame index out of range, expecting 0 to ${this.totalFrames}, got ${t}`);this._currentFrame!==t&&(this._currentFrame=t,this.dirty=!0,this.onFrameChange?.(t))}get totalFrames(){return this._frames.length}destroy(){this.stop(),super.destroy(!0);const t=null;this._context=t,this._frames=t,this.onComplete=t,this.onFrameChange=t,this.onLoop=t}clone(){return new Zo([...this._frames],{autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.baseTexture.scaleMode,animationSpeed:this.animationSpeed,width:this._context.canvas.width,height:this._context.canvas.height,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop})}};let Bw=Zo;Bw.defaultOptions={scaleMode:tn.LINEAR,fps:30,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null};const NM={extension:W.Asset,detection:{test:async()=>!0,add:async t=>[...t,"gif"],remove:async t=>t.filter(e=>e!=="gif")},loader:{test:t=>_t.extname(t)===".gif",load:async(t,e)=>{const n=await(await j.ADAPTER.fetch(t)).arrayBuffer();return Bw.fromBuffer(n,e?.data)},unload:async t=>{t.destroy()}}};J.add(NM);class Or{static get getHandle(){return Or.handle?Or.handle:new Or}get getRscList(){return this.mRscArry}constructor(){Or.handle=this,this.mRscArry={}}async loadRsc(e,r,n,i){const s=mt.getHandle.getSceneManager?.currentSceneInfo?.sceneName,a=n?`common/${e}`:`${i||s}/${e}`;this.mRscArry[a]||(Ds.add(a,r),this.mRscArry[a]=await Ds.load(r))}async loadAllRsc(e){const r=mt.getHandle.getSceneManager?.currentSceneInfo?.sceneName;for(const{key:n,src:i,common:s}of e)await this.loadRsc(n,i,s,r)}getRsc(e,r){const n=mt.getHandle.getSceneManager?.currentSceneInfo?.sceneName,i=r?`common/${e}`:`${n}/${e}`;return this.mRscArry[i]}}const Ow={getCanvasPos(t,e){const r=Math.round(t/Ve.tileScale)*Ve.tileScale,n=Math.round(e/Ve.tileScale)*Ve.tileScale;return{x:r,y:n}},getMetrixPos(t,e){const r=Math.floor(t/Ve.tileScale),n=Math.floor(e/Ve.tileScale);return{x:r,y:n}},getMax(t,e){const r=Math.ceil(t/Ve.tileScale)*Ve.tileScale,n=Math.ceil(e/Ve.tileScale)*Ve.tileScale;return{x:r,y:n}},bombConsole(t){const e="background: transparent;color:transparent;";console.log(`%c 
%c a%c a%c a%c a%c a%c 
%c a%c a%c a%c a%c a%c a%c 
%c a%c b%c o%c m%c b%c a%c ${t}%c 
%c a%c a%c a%c a%c a%c a%c 
%c a%c a%c a%c a%c a%c a%c 
%c a%c a%c a%c a%c a%c 
`,`${e}`,`${e}`,`${e}`,"background: #9d3a11;color:#9d3a11;","background: #aa431a;color:#aa431a;","background: #8f3211;color:#8f3211;",`${e}`,`${e}`,"background: #e36020;color:#e36020;","background: #e4b447;color:#e4b447;","background: #dedb61;color:#dedb61;","background: #ee8938;color:#ee8938;","background: #ed5b27;color:#ed5b27;",`${e}`,"background: #d45a1d;color:#d45a1d;","background: #fce143;color:#fce143;","background: #e9d98c;color:#e9d98c;","background: #cec37f;color:#cec37f;","background: #ebd970;color:#ebd970;","background: #d05622;color:#d05622;",`${t?"margin:0 10px; padding: 0 10px; background: #ffffff;color:#ff0000;font-weight: bold;":e}`,`${e}`,"background: #ab491c;color:#ab491c;","background: #f7eb66;color:#f7eb66;","background: #fcf799;color:#fcf799;","background: #ece18b;color:#ece18b;","background: #fce674;color:#fce674;","background: #f17637;color:#f17637;",`${e}`,"background: #a13915;color:#a13915;","background: #d16a2a;color:#d16a2a;","background: #f6d56f;color:#f6d56f;","background: #ffe56b;color:#ffe56b;","background: #da7f42;color:#da7f42;","background: #c84a1d;color:#c84a1d;",`${e}`,`${e}`,"background: #893417;color:#893417;","background: #e1b040;color:#e1b040;","background: #f98e2f;color:#f98e2f;",`${e}`,`${e}`)}},cn=Object.create(null);cn.open="0";cn.close="1";cn.ping="2";cn.pong="3";cn.message="4";cn.upgrade="5";cn.noop="6";const gu=Object.create(null);Object.keys(cn).forEach(t=>{gu[cn[t]]=t});const FM={type:"error",data:"parser error"},UM=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",zM=typeof ArrayBuffer=="function",GM=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Lw=({type:t,data:e},r,n)=>UM&&e instanceof Blob?r?n(e):ly(e,n):zM&&(e instanceof ArrayBuffer||GM(e))?r?n(e):ly(new Blob([e]),n):n(cn[t]+(e||"")),ly=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)},uy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<uy.length;t++)Qo[uy.charCodeAt(t)]=t;const $M=t=>{let e=t.length*.75,r=t.length,n,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),h=new Uint8Array(u);for(n=0;n<r;n+=4)s=Qo[t.charCodeAt(n)],o=Qo[t.charCodeAt(n+1)],a=Qo[t.charCodeAt(n+2)],l=Qo[t.charCodeAt(n+3)],h[i++]=s<<2|o>>4,h[i++]=(o&15)<<4|a>>2,h[i++]=(a&3)<<6|l&63;return u},HM=typeof ArrayBuffer=="function",Nw=(t,e)=>{if(typeof t!="string")return{type:"message",data:Fw(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:VM(t.substring(1),e)}:gu[r]?t.length>1?{type:gu[r],data:t.substring(1)}:{type:gu[r]}:FM},VM=(t,e)=>{if(HM){const r=$M(t);return Fw(r,e)}else return{base64:!0,data:t}},Fw=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},Uw=String.fromCharCode(30),jM=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((s,o)=>{Lw(s,!1,a=>{n[o]=a,++i===r&&e(n.join(Uw))})})},XM=(t,e)=>{const r=t.split(Uw),n=[];for(let i=0;i<r.length;i++){const s=Nw(r[i],e);if(n.push(s),s.type==="error")break}return n},zw=4;function Je(t){if(t)return WM(t)}function WM(t){for(var e in Je.prototype)t[e]=Je.prototype[e];return t}Je.prototype.on=Je.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Je.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Je.prototype.off=Je.prototype.removeListener=Je.prototype.removeAllListeners=Je.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Je.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Je.prototype.emitReserved=Je.prototype.emit;Je.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Je.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ar=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Gw(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const YM=ar.setTimeout,qM=ar.clearTimeout;function wc(t,e){e.useNativeTimers?(t.setTimeoutFn=YM.bind(ar),t.clearTimeoutFn=qM.bind(ar)):(t.setTimeoutFn=ar.setTimeout.bind(ar),t.clearTimeoutFn=ar.clearTimeout.bind(ar))}const KM=1.33;function ZM(t){return typeof t=="string"?QM(t):Math.ceil((t.byteLength||t.size)*KM)}function QM(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}class JM extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class $w extends Je{constructor(e){super(),this.writable=!1,wc(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new JM(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Nw(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const Hw="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Tp=64,e2={};let hy=0,jl=0,cy;function dy(t){let e="";do e=Hw[t%Tp]+e,t=Math.floor(t/Tp);while(t>0);return e}function Vw(){const t=dy(+new Date);return t!==cy?(hy=0,cy=t):t+"."+dy(hy++)}for(;jl<Tp;jl++)e2[Hw[jl]]=jl;function jw(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function t2(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}let Xw=!1;try{Xw=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const r2=Xw;function Ww(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||r2))return new XMLHttpRequest}catch{}if(!e)try{return new ar[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function n2(){}const i2=function(){return new Ww({xdomain:!1}).responseType!=null}();class s2 extends $w{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==n}const r=e&&e.forceBase64;this.supportsBinary=i2&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};XM(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,jM(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const r=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Vw()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);const i=jw(e),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new ln(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class ln extends Je{constructor(e,r){super(),wc(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const e=Gw(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new Ww(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document<"u"&&(this.index=ln.requestsCount++,ln.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=n2,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ln.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ln.requestsCount=0;ln.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",fy);else if(typeof addEventListener=="function"){const t="onpagehide"in ar?"pagehide":"unload";addEventListener(t,fy,!1)}}function fy(){for(let t in ln.requests)ln.requests.hasOwnProperty(t)&&ln.requests[t].abort()}const Yw=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),Xl=ar.WebSocket||ar.MozWebSocket,py=!0,o2="arraybuffer",my=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class a2 extends $w{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=my?{}:Gw(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=py&&!my?r?new Xl(e,r):new Xl(e):new Xl(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||o2,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;Lw(n,this.supportsBinary,s=>{const o={};try{py&&this.ws.send(s)}catch{}i&&Yw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const r=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Vw()),this.supportsBinary||(e.b64=1);const i=jw(e),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}check(){return!!Xl}}const l2={websocket:a2,polling:s2},u2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,h2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Sp(t){const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=u2.exec(t||""),s={},o=14;for(;o--;)s[h2[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=c2(s,s.path),s.queryKey=d2(s,s.query),s}function c2(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function d2(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}let qw=class _s extends Je{constructor(e,r={}){super(),this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=Sp(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Sp(r.host).host),wc(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=t2(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=zw,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new l2[e](n)}open(){let e;if(this.opts.rememberUpgrade&&_s.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;_s.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",c=>{if(!n)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;_s.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=r.name,this.emitReserved("upgradeError",d)}}))};function s(){n||(n=!0,h(),r.close(),r=null)}const o=c=>{const d=new Error("probe error: "+c);d.transport=r.name,s(),this.emitReserved("upgradeError",d)};function a(){o("transport closed")}function l(){o("socket closed")}function u(c){r&&c.name!==r.name&&s()}const h=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",a),this.once("close",l),this.once("upgrading",u),r.open()}onOpen(){if(this.readyState="open",_s.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=ZM(i)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){_s.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};qw.protocol=zw;function f2(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Sp(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const p2=typeof ArrayBuffer=="function",m2=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Kw=Object.prototype.toString,g2=typeof Blob=="function"||typeof Blob<"u"&&Kw.call(Blob)==="[object BlobConstructor]",_2=typeof File=="function"||typeof File<"u"&&Kw.call(File)==="[object FileConstructor]";function sg(t){return p2&&(t instanceof ArrayBuffer||m2(t))||g2&&t instanceof Blob||_2&&t instanceof File}function _u(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(_u(t[r]))return!0;return!1}if(sg(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return _u(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&_u(t[r]))return!0;return!1}function y2(t){const e=[],r=t.data,n=t;return n.data=bp(r,e),n.attachments=e.length,{packet:n,buffers:e}}function bp(t,e){if(!t)return t;if(sg(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=bp(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=bp(t[n],e));return r}return t}function v2(t,e){return t.data=Cp(t.data,e),delete t.attachments,t}function Cp(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Cp(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Cp(t[r],e));return t}const x2=5;var fe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(fe||(fe={}));class w2{constructor(e){this.replacer=e}encode(e){return(e.type===fe.EVENT||e.type===fe.ACK)&&_u(e)?this.encodeAsBinary({type:e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===fe.BINARY_EVENT||e.type===fe.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=y2(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class og extends Je{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===fe.BINARY_EVENT;n||r.type===fe.BINARY_ACK?(r.type=n?fe.EVENT:fe.ACK,this.reconstructor=new E2(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(sg(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(fe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===fe.BINARY_EVENT||n.type===fe.BINARY_ACK){const s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(s,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){const s=this.tryParse(e.substr(r));if(og.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case fe.CONNECT:return typeof r=="object";case fe.DISCONNECT:return r===void 0;case fe.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case fe.ACK:case fe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class E2{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=v2(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const T2=Object.freeze(Object.defineProperty({__proto__:null,Decoder:og,Encoder:w2,get PacketType(){return fe},protocol:x2},Symbol.toStringTag,{value:"Module"}));function Rr(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const S2=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Zw extends Je{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Rr(e,"open",this.onopen.bind(this)),Rr(e,"packet",this.onpacket.bind(this)),Rr(e,"error",this.onerror.bind(this)),Rr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(S2.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:fe.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const o=this.ids++,a=r.pop();this._registerAckCallback(o,a),n.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(s),r.apply(this,[null,...o])}}emitWithAck(e,...r){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,s)=>{r.push((o,a)=>n?o?s(o):i(a):i(o)),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:fe.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(r.apply(this,e.data),delete this.acks[e.id])}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function To(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}To.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};To.prototype.reset=function(){this.attempts=0};To.prototype.setMin=function(t){this.ms=t};To.prototype.setMax=function(t){this.max=t};To.prototype.setJitter=function(t){this.jitter=t};class Ap extends Je{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,wc(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new To({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||T2;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new qw(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Rr(r,"open",function(){n.onopen(),e&&e()}),s=Rr(r,"error",o=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",o),e?e(o):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&i();const a=this.setTimeoutFn(()=>{i(),r.close(),r.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Rr(e,"ping",this.onping.bind(this)),Rr(e,"data",this.ondata.bind(this)),Rr(e,"error",this.onerror.bind(this)),Rr(e,"close",this.onclose.bind(this)),Rr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Yw(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Zw(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const zo={};function yu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=f2(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=zo[i]&&s in zo[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new Ap(n,e):(zo[i]||(zo[i]=new Ap(n,e)),l=zo[i]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(yu,{Manager:Ap,Socket:Zw,io:yu,connect:yu});function yn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qw(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.11.5
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Zt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ho={duration:.5,overwrite:!1,delay:0},ag,St,Ze,cr=1e8,Te=1/cr,Pp=Math.PI*2,b2=Pp/4,C2=0,Jw=Math.sqrt,A2=Math.cos,P2=Math.sin,at=function(e){return typeof e=="string"},$e=function(e){return typeof e=="function"},Mn=function(e){return typeof e=="number"},lg=function(e){return typeof e>"u"},dn=function(e){return typeof e=="object"},Ft=function(e){return e!==!1},ug=function(){return typeof window<"u"},Wl=function(e){return $e(e)||at(e)},eE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},bt=Array.isArray,Ip=/(?:-?\.?\d|\.)+/gi,tE=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Os=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Rd=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,rE=/[+-]=-?[.\d]+/,nE=/[^,'"\[\]\s]+/gi,I2=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,De,ir,Rp,hg,Jt={},dh={},iE,sE=function(e){return(dh=ts(e,Jt))&&$t},cg=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},fh=function(e,r){return!r&&console.warn(e)},oE=function(e,r){return e&&(Jt[e]=r)&&dh&&(dh[e]=r)||Jt},Ga=function(){return 0},R2={suppressEvents:!0,isStart:!0,kill:!1},vu={suppressEvents:!0,kill:!1},k2={suppressEvents:!0},dg={},ui=[],kp={},aE,Wt={},kd={},gy=30,xu=[],fg="",pg=function(e){var r=e[0],n,i;if(dn(r)||$e(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(i=xu.length;i--&&!xu[i].targetTest(r););n=xu[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new kE(e[i],n)))||e.splice(i,1);return e},Hi=function(e){return e._gsap||pg(dr(e))[0]._gsap},lE=function(e,r,n){return(n=e[r])&&$e(n)?e[r]():lg(n)&&e.getAttribute&&e.getAttribute(r)||n},Ut=function(e,r){return(e=e.split(",")).forEach(r)||e},Xe=function(e){return Math.round(e*1e5)/1e5||0},dt=function(e){return Math.round(e*1e7)/1e7||0},Ks=function(e,r){var n=r.charAt(0),i=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},M2=function(e,r){for(var n=r.length,i=0;e.indexOf(r[i])<0&&++i<n;);return i<n},ph=function(){var e=ui.length,r=ui.slice(0),n,i;for(kp={},ui.length=0,n=0;n<e;n++)i=r[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},uE=function(e,r,n,i){ui.length&&!St&&ph(),e.render(r,n,i||St&&r<0&&(e._initted||e._startAt)),ui.length&&!St&&ph()},hE=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(nE).length<2?r:at(e)?e.trim():e},cE=function(e){return e},yr=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},D2=function(e){return function(r,n){for(var i in n)i in r||i==="duration"&&e||i==="ease"||(r[i]=n[i])}},ts=function(e,r){for(var n in r)e[n]=r[n];return e},_y=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=dn(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},mh=function(e,r){var n={},i;for(i in e)i in r||(n[i]=e[i]);return n},fa=function(e){var r=e.parent||De,n=e.keyframes?D2(bt(e.keyframes)):yr;if(Ft(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},B2=function(e,r){for(var n=e.length,i=n===r.length;i&&n--&&e[n]===r[n];);return n<0},dE=function(e,r,n,i,s){n===void 0&&(n="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[i]=r,r._prev=o,r.parent=r._dp=e,r},Ec=function(e,r,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=r._prev,o=r._next;s?s._next=o:e[n]===r&&(e[n]=o),o?o._prev=s:e[i]===r&&(e[i]=s),r._next=r._prev=r.parent=null},_i=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Vi=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},O2=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},Mp=function(e,r,n,i){return e._startAt&&(St?e._startAt.revert(vu):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,i))},L2=function t(e){return!e||e._ts&&t(e.parent)},yy=function(e){return e._repeat?co(e._tTime,e=e.duration()+e._rDelay)*e:0},co=function(e,r){var n=Math.floor(e/=r);return e&&n===e?n-1:n},gh=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Tc=function(e){return e._end=dt(e._start+(e._tDur/Math.abs(e._ts||e._rts||Te)||0))},Sc=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=dt(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),Tc(e),n._dirty||Vi(n,e)),e},fE=function(e,r){var n;if((r._time||r._initted&&!r._dur)&&(n=gh(e.rawTime(),r),(!r._dur||nl(0,r.totalDuration(),n)-r._tTime>Te)&&r.render(n,!0)),Vi(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Te}},Qr=function(e,r,n,i){return r.parent&&_i(r),r._start=dt((Mn(n)?n:n||e!==De?nr(e,n,r):e._time)+r._delay),r._end=dt(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),dE(e,r,"_first","_last",e._sort?"_start":0),Dp(r)||(e._recent=r),i||fE(e,r),e._ts<0&&Sc(e,e._tTime),e},pE=function(e,r){return(Jt.ScrollTrigger||cg("scrollTrigger",r))&&Jt.ScrollTrigger.create(r,e)},mE=function(e,r,n,i,s){if(gg(e,r,s),!e._initted)return 1;if(!n&&e._pt&&!St&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&aE!==Yt.frame)return ui.push(e),e._lazy=[s,i],1},N2=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},Dp=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},F2=function(e,r,n,i){var s=e.ratio,o=r<0||!r&&(!e._start&&N2(e)&&!(!e._initted&&Dp(e))||(e._ts<0||e._dp._ts<0)&&!Dp(e))?0:1,a=e._rDelay,l=0,u,h,c;if(a&&e._repeat&&(l=nl(0,e._tDur,r),h=co(l,a),e._yoyo&&h&1&&(o=1-o),h!==co(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||St||i||e._zTime===Te||!r&&e._zTime){if(!e._initted&&mE(e,r,i,n,l))return;for(c=e._zTime,e._zTime=r||(n?Te:0),n||(n=r&&!c),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;r<0&&Mp(e,r,n,!0),e._onUpdate&&!n&&fr(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&fr(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&_i(e,1),!n&&!St&&(fr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},U2=function(e,r,n){var i;if(n>r)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>r)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<r)return i;i=i._prev}},fo=function(e,r,n,i){var s=e._repeat,o=dt(r)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:dt(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Sc(e,e._tTime=e._tDur*a),e.parent&&Tc(e),n||Vi(e.parent,e),e},vy=function(e){return e instanceof Dt?Vi(e):fo(e,e._dur)},z2={_start:0,endTime:Ga,totalDuration:Ga},nr=function t(e,r,n){var i=e.labels,s=e._recent||z2,o=e.duration()>=cr?s.endTime(!1):e._dur,a,l,u;return at(r)&&(isNaN(r)||r in i)?(l=r.charAt(0),u=r.substr(-1)==="%",a=r.indexOf("="),l==="<"||l===">"?(a>=0&&(r=r.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(a<0?s:n).totalDuration()/100:1)):a<0?(r in i||(i[r]=o),i[r]):(l=parseFloat(r.charAt(a-1)+r.substr(a+1)),u&&n&&(l=l/100*(bt(n)?n[0]:n).totalDuration()),a>1?t(e,r.substr(0,a-1),n)+l:o+l)):r==null?o:+r},pa=function(e,r,n){var i=Mn(r[1]),s=(i?2:1)+(e<2?0:1),o=r[s],a,l;if(i&&(o.duration=r[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Ft(l.vars.inherit)&&l.parent;o.immediateRender=Ft(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new rt(r[0],o,r[s+1])},Ei=function(e,r){return e||e===0?r(e):r},nl=function(e,r,n){return n<e?e:n>r?r:n},Et=function(e,r){return!at(e)||!(r=I2.exec(e))?"":r[1]},G2=function(e,r,n){return Ei(n,function(i){return nl(e,r,i)})},Bp=[].slice,gE=function(e,r){return e&&dn(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&dn(e[0]))&&!e.nodeType&&e!==ir},$2=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return at(i)&&!r||gE(i,1)?(s=n).push.apply(s,dr(i)):n.push(i)})||n},dr=function(e,r,n){return Ze&&!r&&Ze.selector?Ze.selector(e):at(e)&&!n&&(Rp||!po())?Bp.call((r||hg).querySelectorAll(e),0):bt(e)?$2(e,n):gE(e)?Bp.call(e,0):e?[e]:[]},Op=function(e){return e=dr(e)[0]||fh("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return dr(r,n.querySelectorAll?n:n===e?fh("Invalid scope")||hg.createElement("div"):e)}},_E=function(e){return e.sort(function(){return .5-Math.random()})},yE=function(e){if($e(e))return e;var r=dn(e)?e:{each:e},n=ji(r.ease),i=r.from||0,s=parseFloat(r.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=r.axis,h=i,c=i;return at(i)?h=c={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(h=i[0],c=i[1]),function(d,f,p){var m=(p||r).length,v=o[m],y,_,g,x,w,S,T,E,b;if(!v){if(b=r.grid==="auto"?0:(r.grid||[1,cr])[1],!b){for(T=-cr;T<(T=p[b++].getBoundingClientRect().left)&&b<m;);b--}for(v=o[m]=[],y=l?Math.min(b,m)*h-.5:i%b,_=b===cr?0:l?m*c/b-.5:i/b|0,T=0,E=cr,S=0;S<m;S++)g=S%b-y,x=_-(S/b|0),v[S]=w=u?Math.abs(u==="y"?x:g):Jw(g*g+x*x),w>T&&(T=w),w<E&&(E=w);i==="random"&&_E(v),v.max=T-E,v.min=E,v.v=m=(parseFloat(r.amount)||parseFloat(r.each)*(b>m?m-1:u?u==="y"?m/b:b:Math.max(b,m/b))||0)*(i==="edges"?-1:1),v.b=m<0?s-m:s,v.u=Et(r.amount||r.each)||0,n=n&&m<0?PE(n):n}return m=(v[d]-v.min)/v.max||0,dt(v.b+(n?n(m):m)*v.v)+v.u}},Lp=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=dt(Math.round(parseFloat(n)/e)*e*r);return(i-i%1)/r+(Mn(n)?0:Et(n))}},vE=function(e,r){var n=bt(e),i,s;return!n&&dn(e)&&(i=n=e.radius||cr,e.values?(e=dr(e.values),(s=!Mn(e[0]))&&(i*=i)):e=Lp(e.increment)),Ei(r,n?$e(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=cr,h=0,c=e.length,d,f;c--;)s?(d=e[c].x-a,f=e[c].y-l,d=d*d+f*f):d=Math.abs(e[c]-a),d<u&&(u=d,h=c);return h=!i||u<=i?e[h]:o,s||h===o||Mn(o)?h:h+Et(o)}:Lp(e))},xE=function(e,r,n,i){return Ei(bt(e)?!r:n===!0?!!(n=0):!i,function(){return bt(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*i)/i})},H2=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(i){return r.reduce(function(s,o){return o(s)},i)}},V2=function(e,r){return function(n){return e(parseFloat(n))+(r||Et(n))}},j2=function(e,r,n){return EE(e,r,0,1,n)},wE=function(e,r,n){return Ei(n,function(i){return e[~~r(i)]})},X2=function t(e,r,n){var i=r-e;return bt(e)?wE(e,t(0,e.length),r):Ei(n,function(s){return(i+(s-e)%i)%i+e})},W2=function t(e,r,n){var i=r-e,s=i*2;return bt(e)?wE(e,t(0,e.length-1),r):Ei(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},$a=function(e){for(var r=0,n="",i,s,o,a;~(i=e.indexOf("random(",r));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?nE:Ip),n+=e.substr(r,i-r)+xE(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return n+e.substr(r,e.length-r)},EE=function(e,r,n,i,s){var o=r-e,a=i-n;return Ei(s,function(l){return n+((l-e)/o*a||0)})},Y2=function t(e,r,n,i){var s=isNaN(e+r)?0:function(f){return(1-f)*e+f*r};if(!s){var o=at(e),a={},l,u,h,c,d;if(n===!0&&(i=1)&&(n=null),o)e={p:e},r={p:r};else if(bt(e)&&!bt(r)){for(h=[],c=e.length,d=c-2,u=1;u<c;u++)h.push(t(e[u-1],e[u]));c--,s=function(p){p*=c;var m=Math.min(d,~~p);return h[m](p-m)},n=r}else i||(e=ts(bt(e)?[]:{},e));if(!h){for(l in r)mg.call(a,e,l,"get",r[l]);s=function(p){return vg(p,a)||(o?e.p:e)}}}return Ei(n,s)},xy=function(e,r,n){var i=e.labels,s=cr,o,a,l;for(o in i)a=i[o]-r,a<0==!!n&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},fr=function(e,r,n){var i=e.vars,s=i[r],o=Ze,a=e._ctx,l,u,h;if(s)return l=i[r+"Params"],u=i.callbackScope||e,n&&ui.length&&ph(),a&&(Ze=a),h=l?s.apply(u,l):s.call(u),Ze=o,h},Jo=function(e){return _i(e),e.scrollTrigger&&e.scrollTrigger.kill(!!St),e.progress()<1&&fr(e,"onInterrupt"),e},Ls,TE=[],SE=function(e){if(!ug()){TE.push(e);return}e=!e.name&&e.default||e;var r=e.name,n=$e(e),i=r&&!n&&e.init?function(){this._props=[]}:e,s={init:Ga,render:vg,add:mg,kill:hD,modifier:uD,rawVars:0},o={targetTest:0,get:0,getSetter:yg,aliases:{},register:0};if(po(),e!==i){if(Wt[r])return;yr(i,yr(mh(e,s),o)),ts(i.prototype,ts(s,mh(e,o))),Wt[i.prop=r]=i,e.targetTest&&(xu.push(i),dg[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}oE(r,i),e.register&&e.register($t,i,zt)},Ee=255,ea={aqua:[0,Ee,Ee],lime:[0,Ee,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ee],navy:[0,0,128],white:[Ee,Ee,Ee],olive:[128,128,0],yellow:[Ee,Ee,0],orange:[Ee,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ee,0,0],pink:[Ee,192,203],cyan:[0,Ee,Ee],transparent:[Ee,Ee,Ee,0]},Md=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*Ee+.5|0},bE=function(e,r,n){var i=e?Mn(e)?[e>>16,e>>8&Ee,e&Ee]:0:ea.black,s,o,a,l,u,h,c,d,f,p;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ea[e])i=ea[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Ee,i&Ee,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Ee,e&Ee]}else if(e.substr(0,3)==="hsl"){if(i=p=e.match(Ip),!r)l=+i[0]%360/360,u=+i[1]/100,h=+i[2]/100,o=h<=.5?h*(u+1):h+u-h*u,s=h*2-o,i.length>3&&(i[3]*=1),i[0]=Md(l+1/3,s,o),i[1]=Md(l,s,o),i[2]=Md(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(tE),n&&i.length<4&&(i[3]=1),i}else i=e.match(Ip)||ea.transparent;i=i.map(Number)}return r&&!p&&(s=i[0]/Ee,o=i[1]/Ee,a=i[2]/Ee,c=Math.max(s,o,a),d=Math.min(s,o,a),h=(c+d)/2,c===d?l=u=0:(f=c-d,u=h>.5?f/(2-c-d):f/(c+d),l=c===s?(o-a)/f+(o<a?6:0):c===o?(a-s)/f+2:(s-o)/f+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(h*100+.5)),n&&i.length<4&&(i[3]=1),i},CE=function(e){var r=[],n=[],i=-1;return e.split(hi).forEach(function(s){var o=s.match(Os)||[];r.push.apply(r,o),n.push(i+=o.length+1)}),r.c=n,r},wy=function(e,r,n){var i="",s=(e+i).match(hi),o=r?"hsla(":"rgba(",a=0,l,u,h,c;if(!s)return e;if(s=s.map(function(d){return(d=bE(d,r,1))&&o+(r?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),n&&(h=CE(e),l=n.c,l.join(i)!==h.c.join(i)))for(u=e.replace(hi,"1").split(Os),c=u.length-1;a<c;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:n).shift());if(!u)for(u=e.split(hi),c=u.length-1;a<c;a++)i+=u[a]+s[a];return i+u[c]},hi=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ea)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),q2=/hsl[a]?\(/,AE=function(e){var r=e.join(" "),n;if(hi.lastIndex=0,hi.test(r))return n=q2.test(r),e[1]=wy(e[1],n),e[0]=wy(e[0],n,CE(e[1])),!0},Ha,Yt=function(){var t=Date.now,e=500,r=33,n=t(),i=n,s=1e3/240,o=s,a=[],l,u,h,c,d,f,p=function m(v){var y=t()-i,_=v===!0,g,x,w,S;if(y>e&&(n+=y-r),i+=y,w=i-n,g=w-o,(g>0||_)&&(S=++c.frame,d=w-c.time*1e3,c.time=w=w/1e3,o+=g+(g>=s?4:s-g),x=1),_||(l=u(m)),x)for(f=0;f<a.length;f++)a[f](w,d,S,v)};return c={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(v){return d/(1e3/(v||60))},wake:function(){iE&&(!Rp&&ug()&&(ir=Rp=window,hg=ir.document||{},Jt.gsap=$t,(ir.gsapVersions||(ir.gsapVersions=[])).push($t.version),sE(dh||ir.GreenSockGlobals||!ir.gsap&&ir||{}),h=ir.requestAnimationFrame,TE.forEach(SE)),l&&c.sleep(),u=h||function(v){return setTimeout(v,o-c.time*1e3+1|0)},Ha=1,p(2))},sleep:function(){(h?ir.cancelAnimationFrame:clearTimeout)(l),Ha=0,u=Ga},lagSmoothing:function(v,y){e=v||1/0,r=Math.min(y||33,e)},fps:function(v){s=1e3/(v||240),o=c.time*1e3+s},add:function(v,y,_){var g=y?function(x,w,S,T){v(x,w,S,T),c.remove(g)}:v;return c.remove(v),a[_?"unshift":"push"](g),po(),g},remove:function(v,y){~(y=a.indexOf(v))&&a.splice(y,1)&&f>=y&&f--},_listeners:a},c}(),po=function(){return!Ha&&Yt.wake()},pe={},K2=/^[\d.\-M][\d.\-,\s]/,Z2=/["']/g,Q2=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,l,u;s<o;s++)l=n[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),r[i]=isNaN(u)?u.replace(Z2,"").trim():+u,i=l.substr(a+1).trim();return r},J2=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r);return e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)},eD=function(e){var r=(e+"").split("("),n=pe[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Q2(r[1])]:J2(e).split(",").map(hE)):pe._CE&&K2.test(e)?pe._CE("",e):n},PE=function(e){return function(r){return 1-e(1-r)}},IE=function t(e,r){for(var n=e._first,i;n;)n instanceof Dt?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=r)),n=n._next},ji=function(e,r){return e&&($e(e)?e:pe[e]||eD(e))||r},as=function(e,r,n,i){n===void 0&&(n=function(l){return 1-r(1-l)}),i===void 0&&(i=function(l){return l<.5?r(l*2)/2:1-r((1-l)*2)/2});var s={easeIn:r,easeOut:n,easeInOut:i},o;return Ut(e,function(a){pe[a]=Jt[a]=s,pe[o=a.toLowerCase()]=n;for(var l in s)pe[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=pe[a+"."+l]=s[l]}),s},RE=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},Dd=function t(e,r,n){var i=r>=1?r:1,s=(n||(e?.3:.45))/(r<1?r:1),o=s/Pp*(Math.asin(1/i)||0),a=function(h){return h===1?1:i*Math.pow(2,-10*h)*P2((h-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:RE(a);return s=Pp/s,l.config=function(u,h){return t(e,u,h)},l},Bd=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:RE(n);return i.config=function(s){return t(e,s)},i};Ut("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;as(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});pe.Linear.easeNone=pe.none=pe.Linear.easeIn;as("Elastic",Dd("in"),Dd("out"),Dd());(function(t,e){var r=1/e,n=2*r,i=2.5*r,s=function(a){return a<r?t*a*a:a<n?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};as("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);as("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});as("Circ",function(t){return-(Jw(1-t*t)-1)});as("Sine",function(t){return t===1?1:-A2(t*b2)+1});as("Back",Bd("in"),Bd("out"),Bd());pe.SteppedEase=pe.steps=Jt.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,i=e+(r?0:1),s=r?1:0,o=1-Te;return function(a){return((i*nl(0,o,a)|0)+s)*n}}};ho.ease=pe["quad.out"];Ut("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return fg+=t+","+t+"Params,"});var kE=function(e,r){this.id=C2++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:lE,this.set=r?r.getSetter:yg},mo=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,fo(this,+r.duration,1,1),this.data=r.data,Ze&&(this._ctx=Ze,Ze.data.push(this)),Ha||Yt.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,fo(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(po(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Sc(this,n),!s._dp||s.parent||fE(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Qr(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Te||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),uE(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+yy(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+yy(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?co(this._tTime,s)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-Te?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?gh(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Te?0:this._rts,this.totalTime(nl(-Math.abs(this._delay),this._tDur,i),!0),Tc(this),O2(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(po(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Te&&(this._tTime-=Te)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Qr(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Ft(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?gh(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=k2);var i=St;return St=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),St=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,vy(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,vy(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(nr(this,n),Ft(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Ft(i))},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Te:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Te,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-Te)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=$e(n)?n:cE,a=function(){var u=i.then;i.then=null,$e(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Jo(this)},t}();yr(mo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Te,_prom:0,_ps:!1,_rts:1});var Dt=function(t){Qw(e,t);function e(n,i){var s;return n===void 0&&(n={}),s=t.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Ft(n.sortChildren),De&&Qr(n.parent||De,yn(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&pE(yn(s),n.scrollTrigger),s}var r=e.prototype;return r.to=function(i,s,o){return pa(0,arguments,this),this},r.from=function(i,s,o){return pa(1,arguments,this),this},r.fromTo=function(i,s,o,a){return pa(2,arguments,this),this},r.set=function(i,s,o){return s.duration=0,s.parent=this,fa(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new rt(i,s,nr(this,o),1),this},r.call=function(i,s,o){return Qr(this,rt.delayedCall(0,i,s),o)},r.staggerTo=function(i,s,o,a,l,u,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=h,o.parent=this,new rt(i,o,nr(this,l)),this},r.staggerFrom=function(i,s,o,a,l,u,h){return o.runBackwards=1,fa(o).immediateRender=Ft(o.immediateRender),this.staggerTo(i,s,o,a,l,u,h)},r.staggerFromTo=function(i,s,o,a,l,u,h,c){return a.startAt=o,fa(a).immediateRender=Ft(a.immediateRender),this.staggerTo(i,s,a,l,u,h,c)},r.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=i<=0?0:dt(i),c=this._zTime<0!=i<0&&(this._initted||!u),d,f,p,m,v,y,_,g,x,w,S,T;if(this!==De&&h>l&&i>=0&&(h=l),h!==this._tTime||o||c){if(a!==this._time&&u&&(h+=this._time-a,i+=this._time-a),d=h,x=this._start,g=this._ts,y=!g,c&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(S=this._yoyo,v=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,s,o);if(d=dt(h%v),h===l?(m=this._repeat,d=u):(m=~~(h/v),m&&m===h/v&&(d=u,m--),d>u&&(d=u)),w=co(this._tTime,v),!a&&this._tTime&&w!==m&&this._tTime-w*v-this._dur<=0&&(w=m),S&&m&1&&(d=u-d,T=1),m!==w&&!this._lock){var E=S&&w&1,b=E===(S&&m&1);if(m<w&&(E=!E),a=E?0:u,this._lock=1,this.render(a||(T?0:dt(m*v)),s,!u)._lock=0,this._tTime=h,!s&&this.parent&&fr(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,b&&(this._lock=2,a=E?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;IE(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=U2(this,dt(a),dt(d)),_&&(h-=d-(d=_._start))),this._tTime=h,this._time=d,this._act=!g,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!s&&!m&&(fr(this,"onStart"),this._tTime!==h))return this;if(d>=a&&i>=0)for(f=this._first;f;){if(p=f._next,(f._act||d>=f._start)&&f._ts&&_!==f){if(f.parent!==this)return this.render(i,s,o);if(f.render(f._ts>0?(d-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(d-f._start)*f._ts,s,o),d!==this._time||!this._ts&&!y){_=0,p&&(h+=this._zTime=-Te);break}}f=p}else{f=this._last;for(var C=i<0?i:d;f;){if(p=f._prev,(f._act||C<=f._end)&&f._ts&&_!==f){if(f.parent!==this)return this.render(i,s,o);if(f.render(f._ts>0?(C-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(C-f._start)*f._ts,s,o||St&&(f._initted||f._startAt)),d!==this._time||!this._ts&&!y){_=0,p&&(h+=this._zTime=C?-Te:Te);break}}f=p}}if(_&&!s&&(this.pause(),_.render(d>=a?0:-Te)._zTime=d>=a?1:-1,this._ts))return this._start=x,Tc(this),this.render(i,s,o);this._onUpdate&&!s&&fr(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(x===this._start||Math.abs(g)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(h===l&&this._ts>0||!h&&this._ts<0)&&_i(this,1),!s&&!(i<0&&!a)&&(h||a||!l)&&(fr(this,h===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(i,s){var o=this;if(Mn(s)||(s=nr(this,s,i)),!(i instanceof mo)){if(bt(i))return i.forEach(function(a){return o.add(a,s)}),this;if(at(i))return this.addLabel(i,s);if($e(i))i=rt.delayedCall(0,i);else return this}return this!==i?Qr(this,i,s):this},r.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-cr);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof rt?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},r.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},r.remove=function(i){return at(i)?this.removeLabel(i):$e(i)?this.killTweensOf(i):(Ec(this,i),i===this._recent&&(this._recent=this._last),Vi(this))},r.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=dt(Yt.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},r.addLabel=function(i,s){return this.labels[i]=nr(this,s),this},r.removeLabel=function(i){return delete this.labels[i],this},r.addPause=function(i,s,o){var a=rt.delayedCall(0,s||Ga,o);return a.data="isPause",this._hasPause=1,Qr(this,a,nr(this,i))},r.removePause=function(i){var s=this._first;for(i=nr(this,i);s;)s._start===i&&s.data==="isPause"&&_i(s),s=s._next},r.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Kn!==a[l]&&a[l].kill(i,s);return this},r.getTweensOf=function(i,s){for(var o=[],a=dr(i),l=this._first,u=Mn(s),h;l;)l instanceof rt?M2(l._targets,a)&&(u?(!Kn||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(h=l.getTweensOf(a,s)).length&&o.push.apply(o,h),l=l._next;return o},r.tweenTo=function(i,s){s=s||{};var o=this,a=nr(o,i),l=s,u=l.startAt,h=l.onStart,c=l.onStartParams,d=l.immediateRender,f,p=rt.to(o,yr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||Te,onStart:function(){if(o.pause(),!f){var v=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());p._dur!==v&&fo(p,v,0,1).render(p._time,!0,!0),f=1}h&&h.apply(p,c||[])}},s));return d?p.render(0):p},r.tweenFromTo=function(i,s,o){return this.tweenTo(s,yr({startAt:{time:nr(this,i)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(i){return i===void 0&&(i=this._time),xy(this,nr(this,i))},r.previousLabel=function(i){return i===void 0&&(i=this._time),xy(this,nr(this,i),1)},r.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Te)},r.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return Vi(this)},r.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},r.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Vi(this)},r.totalDuration=function(i){var s=0,o=this,a=o._last,l=cr,u,h,c;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(c=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Qr(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(s-=h,(!c&&!o._dp||c&&c.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;fo(o,o===De&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(De._ts&&(uE(De,gh(i,De)),aE=Yt.frame),Yt.frame>=gy){gy+=Zt.autoSleep||120;var s=De._first;if((!s||!s._ts)&&Zt.autoSleep&&Yt._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Yt.sleep()}}},e}(mo);yr(Dt.prototype,{_lock:0,_hasPause:0,_forcing:0});var tD=function(e,r,n,i,s,o,a){var l=new zt(this._pt,e,r,0,1,NE,null,s),u=0,h=0,c,d,f,p,m,v,y,_;for(l.b=n,l.e=i,n+="",i+="",(y=~i.indexOf("random("))&&(i=$a(i)),o&&(_=[n,i],o(_,e,r),n=_[0],i=_[1]),d=n.match(Rd)||[];c=Rd.exec(i);)p=c[0],m=i.substring(u,c.index),f?f=(f+1)%5:m.substr(-5)==="rgba("&&(f=1),p!==d[h++]&&(v=parseFloat(d[h-1])||0,l._pt={_next:l._pt,p:m||h===1?m:",",s:v,c:p.charAt(1)==="="?Ks(v,p)-v:parseFloat(p)-v,m:f&&f<4?Math.round:0},u=Rd.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(rE.test(i)||y)&&(l.e=0),this._pt=l,l},mg=function(e,r,n,i,s,o,a,l,u,h){$e(i)&&(i=i(s||0,e,o));var c=e[r],d=n!=="get"?n:$e(c)?u?e[r.indexOf("set")||!$e(e["get"+r.substr(3)])?r:"get"+r.substr(3)](u):e[r]():c,f=$e(c)?u?oD:OE:_g,p;if(at(i)&&(~i.indexOf("random(")&&(i=$a(i)),i.charAt(1)==="="&&(p=Ks(d,i)+(Et(d)||0),(p||p===0)&&(i=p))),!h||d!==i||Np)return!isNaN(d*i)&&i!==""?(p=new zt(this._pt,e,r,+d||0,i-(d||0),typeof c=="boolean"?lD:LE,0,f),u&&(p.fp=u),a&&p.modifier(a,this,e),this._pt=p):(!c&&!(r in e)&&cg(r,i),tD.call(this,e,r,d,i,f,l||Zt.stringFilter,u))},rD=function(e,r,n,i,s){if($e(e)&&(e=ma(e,s,r,n,i)),!dn(e)||e.style&&e.nodeType||bt(e)||eE(e))return at(e)?ma(e,s,r,n,i):e;var o={},a;for(a in e)o[a]=ma(e[a],s,r,n,i);return o},ME=function(e,r,n,i,s,o){var a,l,u,h;if(Wt[e]&&(a=new Wt[e]).init(s,a.rawVars?r[e]:rD(r[e],i,s,o,n),n,i,o)!==!1&&(n._pt=l=new zt(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Ls))for(u=n._ptLookup[n._targets.indexOf(s)],h=a._props.length;h--;)u[a._props[h]]=l;return a},Kn,Np,gg=function t(e,r,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,h=i.onUpdateParams,c=i.callbackScope,d=i.runBackwards,f=i.yoyoEase,p=i.keyframes,m=i.autoRevert,v=e._dur,y=e._startAt,_=e._targets,g=e.parent,x=g&&g.data==="nested"?g.vars.targets:_,w=e._overwrite==="auto"&&!ag,S=e.timeline,T,E,b,C,R,G,P,I,V,H,U,k,F;if(S&&(!p||!s)&&(s="none"),e._ease=ji(s,ho.ease),e._yEase=f?PE(ji(f===!0?s:f,ho.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!S&&!!i.runBackwards,!S||p&&!i.stagger){if(I=_[0]?Hi(_[0]).harness:0,k=I&&i[I.prop],T=mh(i,dg),y&&(y._zTime<0&&y.progress(1),r<0&&d&&a&&!m?y.render(-1,!0):y.revert(d&&v?vu:R2),y._lazy=0),o){if(_i(e._startAt=rt.set(_,yr({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!y&&Ft(l),startAt:null,delay:0,onUpdate:u,onUpdateParams:h,callbackScope:c,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(St||!a&&!m)&&e._startAt.revert(vu),a&&v&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(d&&v&&!y){if(r&&(a=!1),b=yr({overwrite:!1,data:"isFromStart",lazy:a&&!y&&Ft(l),immediateRender:a,stagger:0,parent:g},T),k&&(b[I.prop]=k),_i(e._startAt=rt.set(_,b)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(St?e._startAt.revert(vu):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,Te,Te);else if(!r)return}for(e._pt=e._ptCache=0,l=v&&Ft(l)||l&&!v,E=0;E<_.length;E++){if(R=_[E],P=R._gsap||pg(_)[E]._gsap,e._ptLookup[E]=H={},kp[P.id]&&ui.length&&ph(),U=x===_?E:x.indexOf(R),I&&(V=new I).init(R,k||T,e,U,x)!==!1&&(e._pt=C=new zt(e._pt,R,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(D){H[D]=C}),V.priority&&(G=1)),!I||k)for(b in T)Wt[b]&&(V=ME(b,T,e,U,R,x))?V.priority&&(G=1):H[b]=C=mg.call(e,R,b,"get",T[b],U,x,0,i.stringFilter);e._op&&e._op[E]&&e.kill(R,e._op[E]),w&&e._pt&&(Kn=e,De.killTweensOf(R,H,e.globalTime(r)),F=!e.parent,Kn=0),e._pt&&l&&(kp[P.id]=1)}G&&FE(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!F,p&&r<=0&&S.render(cr,!0,!0)},nD=function(e,r,n,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[r],u,h,c,d;if(!l)for(l=e._ptCache[r]=[],c=e._ptLookup,d=e._targets.length;d--;){if(u=c[d][r],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==r&&u.fp!==r;)u=u._next;if(!u)return Np=1,e.vars[r]="+=0",gg(e,a),Np=0,1;l.push(u)}for(d=l.length;d--;)h=l[d],u=h._pt||h,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=n-u.s,h.e&&(h.e=Xe(n)+Et(h.e)),h.b&&(h.b=u.s+Et(h.b))},iD=function(e,r){var n=e[0]?Hi(e[0]).harness:0,i=n&&n.aliases,s,o,a,l;if(!i)return r;s=ts({},r);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},sD=function(e,r,n,i){var s=r.ease||i||"power1.inOut",o,a;if(bt(r))a=n[e]||(n[e]=[]),r.forEach(function(l,u){return a.push({t:u/(r.length-1)*100,v:l,e:s})});else for(o in r)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},ma=function(e,r,n,i,s){return $e(e)?e.call(r,n,i,s):at(e)&&~e.indexOf("random(")?$a(e):e},DE=fg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",BE={};Ut(DE+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return BE[t]=1});var rt=function(t){Qw(e,t);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:fa(i))||this;var l=a.vars,u=l.duration,h=l.delay,c=l.immediateRender,d=l.stagger,f=l.overwrite,p=l.keyframes,m=l.defaults,v=l.scrollTrigger,y=l.yoyoEase,_=i.parent||De,g=(bt(n)||eE(n)?Mn(n[0]):"length"in i)?[n]:dr(n),x,w,S,T,E,b,C,R;if(a._targets=g.length?pg(g):fh("GSAP target "+n+" not found. https://greensock.com",!Zt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,p||d||Wl(u)||Wl(h)){if(i=a.vars,x=a.timeline=new Dt({data:"nested",defaults:m||{},targets:_&&_.data==="nested"?_.vars.targets:g}),x.kill(),x.parent=x._dp=yn(a),x._start=0,d||Wl(u)||Wl(h)){if(T=g.length,C=d&&yE(d),dn(d))for(E in d)~DE.indexOf(E)&&(R||(R={}),R[E]=d[E]);for(w=0;w<T;w++)S=mh(i,BE),S.stagger=0,y&&(S.yoyoEase=y),R&&ts(S,R),b=g[w],S.duration=+ma(u,yn(a),w,b,g),S.delay=(+ma(h,yn(a),w,b,g)||0)-a._delay,!d&&T===1&&S.delay&&(a._delay=h=S.delay,a._start+=h,S.delay=0),x.to(b,S,C?C(w,b,g):0),x._ease=pe.none;x.duration()?u=h=0:a.timeline=0}else if(p){fa(yr(x.vars.defaults,{ease:"none"})),x._ease=ji(p.ease||i.ease||"none");var G=0,P,I,V;if(bt(p))p.forEach(function(H){return x.to(g,H,">")}),x.duration();else{S={};for(E in p)E==="ease"||E==="easeEach"||sD(E,p[E],S,p.easeEach);for(E in S)for(P=S[E].sort(function(H,U){return H.t-U.t}),G=0,w=0;w<P.length;w++)I=P[w],V={ease:I.e,duration:(I.t-(w?P[w-1].t:0))/100*u},V[E]=I.v,x.to(g,V,G),G+=V.duration;x.duration()<u&&x.to({},{duration:u-x.duration()})}}u||a.duration(u=x.duration())}else a.timeline=0;return f===!0&&!ag&&(Kn=yn(a),De.killTweensOf(g),Kn=0),Qr(_,yn(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(c||!u&&!p&&a._start===dt(_._time)&&Ft(c)&&L2(yn(a))&&_.data!=="nested")&&(a._tTime=-Te,a.render(Math.max(0,-h)||0)),v&&pE(yn(a),v),a}var r=e.prototype;return r.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,h=i<0,c=i>l-Te&&!h?l:i<Te?0:i,d,f,p,m,v,y,_,g,x;if(!u)F2(this,i,s,o);else if(c!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(d=c,g=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(m*100+i,s,o);if(d=dt(c%m),c===l?(p=this._repeat,d=u):(p=~~(c/m),p&&p===c/m&&(d=u,p--),d>u&&(d=u)),y=this._yoyo&&p&1,y&&(x=this._yEase,d=u-d),v=co(this._tTime,m),d===a&&!o&&this._initted)return this._tTime=c,this;p!==v&&(g&&this._yEase&&IE(g,y),this.vars.repeatRefresh&&!y&&!this._lock&&(this._lock=o=1,this.render(dt(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(mE(this,h?i:d,o,s,c))return this._tTime=0,this;if(a!==this._time)return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=c,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(x||this._ease)(d/u),this._from&&(this.ratio=_=1-_),d&&!a&&!s&&!p&&(fr(this,"onStart"),this._tTime!==c))return this;for(f=this._pt;f;)f.r(_,f.d),f=f._next;g&&g.render(i<0?i:!d&&y?-Te:g._dur*g._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(h&&Mp(this,i,s,o),fr(this,"onUpdate")),this._repeat&&p!==v&&this.vars.onRepeat&&!s&&this.parent&&fr(this,"onRepeat"),(c===this._tDur||!c)&&this._tTime===c&&(h&&!this._onUpdate&&Mp(this,i,!0,!0),(i||!u)&&(c===this._tDur&&this._ts>0||!c&&this._ts<0)&&_i(this,1),!s&&!(h&&!a)&&(c||a||y)&&(fr(this,c===l?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},r.resetTo=function(i,s,o,a){Ha||Yt.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||gg(this,l),u=this._ease(l/this._dur),nD(this,i,s,o,a,u,l)?this.resetTo(i,s,o,a):(Sc(this,0),this.parent||dE(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Jo(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Kn&&Kn.vars.overwrite!==!0)._first||Jo(this),this.parent&&o!==this.timeline.totalDuration()&&fo(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?dr(i):a,u=this._ptLookup,h=this._pt,c,d,f,p,m,v,y;if((!s||s==="all")&&B2(a,l))return s==="all"&&(this._pt=0),Jo(this);for(c=this._op=this._op||[],s!=="all"&&(at(s)&&(m={},Ut(s,function(_){return m[_]=1}),s=m),s=iD(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){d=u[y],s==="all"?(c[y]=s,p=d,f={}):(f=c[y]=c[y]||{},p=s);for(m in p)v=d&&d[m],v&&((!("kill"in v.d)||v.d.kill(m)===!0)&&Ec(this,v,"_pt"),delete d[m]),f!=="all"&&(f[m]=1)}return this._initted&&!this._pt&&h&&Jo(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return pa(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return pa(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return De.killTweensOf(i,s,o)},e}(mo);yr(rt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ut("staggerTo,staggerFrom,staggerFromTo",function(t){rt[t]=function(){var e=new Dt,r=Bp.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var _g=function(e,r,n){return e[r]=n},OE=function(e,r,n){return e[r](n)},oD=function(e,r,n,i){return e[r](i.fp,n)},aD=function(e,r,n){return e.setAttribute(r,n)},yg=function(e,r){return $e(e[r])?OE:lg(e[r])&&e.setAttribute?aD:_g},LE=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},lD=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},NE=function(e,r){var n=r._pt,i="";if(!e&&r.b)i=r.b;else if(e===1&&r.e)i=r.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=r.c}r.set(r.t,r.p,i,r)},vg=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},uD=function(e,r,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,r,n),s=o},hD=function(e){for(var r=this._pt,n,i;r;)i=r._next,r.p===e&&!r.op||r.op===e?Ec(this,r,"_pt"):r.dep||(n=1),r=i;return!n},cD=function(e,r,n,i){i.mSet(e,r,i.m.call(i.tween,n,i.mt),i)},FE=function(e){for(var r=e._pt,n,i,s,o;r;){for(n=r._next,i=s;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:o)?r._prev._next=r:s=r,(r._next=i)?i._prev=r:o=r,r=n}e._pt=s},zt=function(){function t(r,n,i,s,o,a,l,u,h){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||LE,this.d=l||this,this.set=u||_g,this.pr=h||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=cD,this.m=n,this.mt=s,this.tween=i},t}();Ut(fg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return dg[t]=1});Jt.TweenMax=Jt.TweenLite=rt;Jt.TimelineLite=Jt.TimelineMax=Dt;De=new Dt({sortChildren:!1,defaults:ho,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Zt.stringFilter=AE;var go=[],wu={},dD=[],Ey=0,Od=function(e){return(wu[e]||dD).map(function(r){return r()})},Fp=function(){var e=Date.now(),r=[];e-Ey>2&&(Od("matchMediaInit"),go.forEach(function(n){var i=n.queries,s=n.conditions,o,a,l,u;for(a in i)o=ir.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(n.revert(),l&&r.push(n))}),Od("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n)}),Ey=e,Od("matchMedia"))},UE=function(){function t(r,n){this.selector=n&&Op(n),this.data=[],this._r=[],this.isReverted=!1,r&&this.add(r)}var e=t.prototype;return e.add=function(n,i,s){$e(n)&&(s=i,i=n,n=$e);var o=this,a=function(){var u=Ze,h=o.selector,c;return u&&u!==o&&u.data.push(o),s&&(o.selector=Op(s)),Ze=o,c=i.apply(o,arguments),$e(c)&&o._r.push(c),Ze=u,o.selector=h,o.isReverted=!1,c};return o.last=a,n===$e?a(o):n?o[n]=a:a},e.ignore=function(n){var i=Ze;Ze=null,n(this),Ze=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof t?n.push.apply(n,i.getTweens()):i instanceof rt&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return o.splice(o.indexOf(u),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,u){return u.g-l.g||-1}).forEach(function(l){return l.t.revert(n)}),this.data.forEach(function(l){return!(l instanceof mo)&&l.revert&&l.revert(n)}),this._r.forEach(function(l){return l(n,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i){var a=go.indexOf(this);~a&&go.splice(a,1)}},e.revert=function(n){this.kill(n||{})},t}(),fD=function(){function t(r){this.contexts=[],this.scope=r}var e=t.prototype;return e.add=function(n,i,s){dn(n)||(n={matches:n});var o=new UE(0,s||this.scope),a=o.conditions={},l,u,h;this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(u in n)u==="all"?h=1:(l=ir.matchMedia(n[u]),l&&(go.indexOf(o)<0&&go.push(o),(a[u]=l.matches)&&(h=1),l.addListener?l.addListener(Fp):l.addEventListener("change",Fp)));return h&&i(o),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},t}(),_h={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(i){return SE(i)})},timeline:function(e){return new Dt(e)},getTweensOf:function(e,r){return De.getTweensOf(e,r)},getProperty:function(e,r,n,i){at(e)&&(e=dr(e)[0]);var s=Hi(e||{}).get,o=n?cE:hE;return n==="native"&&(n=""),e&&(r?o((Wt[r]&&Wt[r].get||s)(e,r,n,i)):function(a,l,u){return o((Wt[a]&&Wt[a].get||s)(e,a,l,u))})},quickSetter:function(e,r,n){if(e=dr(e),e.length>1){var i=e.map(function(h){return $t.quickSetter(h,r,n)}),s=i.length;return function(h){for(var c=s;c--;)i[c](h)}}e=e[0]||{};var o=Wt[r],a=Hi(e),l=a.harness&&(a.harness.aliases||{})[r]||r,u=o?function(h){var c=new o;Ls._pt=0,c.init(e,n?h+n:h,Ls,0,[e]),c.render(1,c),Ls._pt&&vg(1,Ls)}:a.set(e,l);return o?u:function(h){return u(e,l,n?h+n:h,a,1)}},quickTo:function(e,r,n){var i,s=$t.to(e,ts((i={},i[r]="+=0.1",i.paused=!0,i),n||{})),o=function(l,u,h){return s.resetTo(r,l,u,h)};return o.tween=s,o},isTweening:function(e){return De.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ji(e.ease,ho.ease)),_y(ho,e||{})},config:function(e){return _y(Zt,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Wt[a]&&!Jt[a]&&fh(r+" effect requires "+a+" plugin.")}),kd[r]=function(a,l,u){return n(dr(a),yr(l||{},s),u)},o&&(Dt.prototype[r]=function(a,l,u){return this.add(kd[r](a,dn(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,r){pe[e]=ji(r)},parseEase:function(e,r){return arguments.length?ji(e,r):pe},getById:function(e){return De.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Dt(e),i,s;for(n.smoothChildTiming=Ft(e.smoothChildTiming),De.remove(n),n._dp=0,n._time=n._tTime=De._time,i=De._first;i;)s=i._next,(r||!(!i._dur&&i instanceof rt&&i.vars.onComplete===i._targets[0]))&&Qr(n,i,i._start-i._delay),i=s;return Qr(De,n,0),n},context:function(e,r){return e?new UE(e,r):Ze},matchMedia:function(e){return new fD(e)},matchMediaRefresh:function(){return go.forEach(function(e){var r=e.conditions,n,i;for(i in r)r[i]&&(r[i]=!1,n=1);n&&e.revert()})||Fp()},addEventListener:function(e,r){var n=wu[e]||(wu[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=wu[e],i=n&&n.indexOf(r);i>=0&&n.splice(i,1)},utils:{wrap:X2,wrapYoyo:W2,distribute:yE,random:xE,snap:vE,normalize:j2,getUnit:Et,clamp:G2,splitColor:bE,toArray:dr,selector:Op,mapRange:EE,pipe:H2,unitize:V2,interpolate:Y2,shuffle:_E},install:sE,effects:kd,ticker:Yt,updateRoot:Dt.updateRoot,plugins:Wt,globalTimeline:De,core:{PropTween:zt,globals:oE,Tween:rt,Timeline:Dt,Animation:mo,getCache:Hi,_removeLinkedListItem:Ec,reverting:function(){return St},context:function(e){return e&&Ze&&(Ze.data.push(e),e._ctx=Ze),Ze},suppressOverwrites:function(e){return ag=e}}};Ut("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return _h[t]=rt[t]});Yt.add(Dt.updateRoot);Ls=_h.to({},{duration:0});var pD=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},mD=function(e,r){var n=e._targets,i,s,o;for(i in r)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=pD(o,i)),o&&o.modifier&&o.modifier(r[i],e,n[s],i))},Ld=function(e,r){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(at(s)&&(l={},Ut(s,function(h){return l[h]=1}),s=l),r){l={};for(u in s)l[u]=r(s[u]);s=l}mD(a,s)}}}},$t=_h.registerPlugin({name:"attr",init:function(e,r,n,i,s){var o,a,l;this.tween=n;for(o in r)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",r[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)St?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},Ld("roundProps",Lp),Ld("modifiers"),Ld("snap",vE))||_h;rt.version=Dt.version=$t.version="3.11.5";iE=1;ug()&&po();pe.Power0;pe.Power1;pe.Power2;pe.Power3;pe.Power4;pe.Linear;pe.Quad;pe.Cubic;pe.Quart;pe.Quint;pe.Strong;pe.Elastic;pe.Back;pe.SteppedEase;pe.Bounce;pe.Sine;pe.Expo;pe.Circ;/*!
 * CSSPlugin 3.11.5
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ty,Zn,Zs,xg,Fi,Sy,wg,gD=function(){return typeof window<"u"},Dn={},Di=180/Math.PI,Qs=Math.PI/180,cs=Math.atan2,by=1e8,Eg=/([A-Z])/g,_D=/(left|right|width|margin|padding|x)/i,yD=/[\s,\(]\S/,rn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Up=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},vD=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},xD=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},wD=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},zE=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},GE=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},ED=function(e,r,n){return e.style[r]=n},TD=function(e,r,n){return e.style.setProperty(r,n)},SD=function(e,r,n){return e._gsap[r]=n},bD=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},CD=function(e,r,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},AD=function(e,r,n,i,s){var o=e._gsap;o[r]=n,o.renderTransform(s,o)},Oe="transform",Gr=Oe+"Origin",PD=function t(e,r){var n=this,i=this.target,s=i.style;if(e in Dn){if(this.tfm=this.tfm||{},e!=="transform")e=rn[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=xn(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:xn(i,e);else return rn.transform.split(",").forEach(function(o){return t.call(n,o,r)});if(this.props.indexOf(Oe)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Gr,r,"")),e=Oe}(s||r)&&this.props.push(e,r,s[e])},$E=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},ID=function(){var e=this.props,r=this.target,n=r.style,i=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?r[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(Eg,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=wg(),(!s||!s.isStart)&&!n[Oe]&&($E(n),i.uncache=1)}},HE=function(e,r){var n={target:e,props:[],revert:ID,save:PD};return e._gsap||$t.core.getCache(e),r&&r.split(",").forEach(function(i){return n.save(i)}),n},VE,zp=function(e,r){var n=Zn.createElementNS?Zn.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Zn.createElement(e);return n.style?n:Zn.createElement(e)},un=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(Eg,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,_o(r)||r,1)||""},Cy="O,Moz,ms,Ms,Webkit".split(","),_o=function(e,r,n){var i=r||Fi,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Cy[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Cy[o]:"")+e},Gp=function(){gD()&&window.document&&(Ty=window,Zn=Ty.document,Zs=Zn.documentElement,Fi=zp("div")||{style:{}},zp("div"),Oe=_o(Oe),Gr=Oe+"Origin",Fi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",VE=!!_o("perspective"),wg=$t.core.reverting,xg=1)},Nd=function t(e){var r=zp("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Zs.appendChild(r),r.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(i?n.insertBefore(this,i):n.appendChild(this)),Zs.removeChild(r),this.style.cssText=s,o},Ay=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},jE=function(e){var r;try{r=e.getBBox()}catch{r=Nd.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===Nd||(r=Nd.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+Ay(e,["x","cx","x1"])||0,y:+Ay(e,["y","cy","y1"])||0,width:0,height:0}:r},XE=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&jE(e))},Va=function(e,r){if(r){var n=e.style;r in Dn&&r!==Gr&&(r=Oe),n.removeProperty?((r.substr(0,2)==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(r.replace(Eg,"-$1").toLowerCase())):n.removeAttribute(r)}},Qn=function(e,r,n,i,s,o){var a=new zt(e._pt,r,n,0,1,o?GE:zE);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},Py={deg:1,rad:1,turn:1},RD={grid:1,flex:1},yi=function t(e,r,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Fi.style,l=_D.test(r),u=e.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(l?"Width":"Height"),c=100,d=i==="px",f=i==="%",p,m,v,y;return i===o||!s||Py[i]||Py[o]?s:(o!=="px"&&!d&&(s=t(e,r,n,"px")),y=e.getCTM&&XE(e),(f||o==="%")&&(Dn[r]||~r.indexOf("adius"))?(p=y?e.getBBox()[l?"width":"height"]:e[h],Xe(f?s/p*c:s/100*p)):(a[l?"width":"height"]=c+(d?o:i),m=~r.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,y&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Zn||!m.appendChild)&&(m=Zn.body),v=m._gsap,v&&f&&v.width&&l&&v.time===Yt.time&&!v.uncache?Xe(s/v.width*c):((f||o==="%")&&!RD[un(m,"display")]&&(a.position=un(e,"position")),m===e&&(a.position="static"),m.appendChild(Fi),p=Fi[h],m.removeChild(Fi),a.position="absolute",l&&f&&(v=Hi(m),v.time=Yt.time,v.width=m[h]),Xe(d?p*s/c:p&&s?c/p*s:0))))},xn=function(e,r,n,i){var s;return xg||Gp(),r in rn&&r!=="transform"&&(r=rn[r],~r.indexOf(",")&&(r=r.split(",")[0])),Dn[r]&&r!=="transform"?(s=Xa(e,i),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:vh(un(e,Gr))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=yh[r]&&yh[r](e,r,n)||un(e,r)||lE(e,r)||(r==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?yi(e,r,s,n)+n:s},kD=function(e,r,n,i){if(!n||n==="none"){var s=_o(r,e,1),o=s&&un(e,s,1);o&&o!==n?(r=s,n=o):r==="borderColor"&&(n=un(e,"borderTopColor"))}var a=new zt(this._pt,e.style,r,0,1,NE),l=0,u=0,h,c,d,f,p,m,v,y,_,g,x,w;if(a.b=n,a.e=i,n+="",i+="",i==="auto"&&(e.style[r]=i,i=un(e,r)||i,e.style[r]=n),h=[n,i],AE(h),n=h[0],i=h[1],d=n.match(Os)||[],w=i.match(Os)||[],w.length){for(;c=Os.exec(i);)v=c[0],_=i.substring(l,c.index),p?p=(p+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(p=1),v!==(m=d[u++]||"")&&(f=parseFloat(m)||0,x=m.substr((f+"").length),v.charAt(1)==="="&&(v=Ks(f,v)+x),y=parseFloat(v),g=v.substr((y+"").length),l=Os.lastIndex-g.length,g||(g=g||Zt.units[r]||x,l===i.length&&(i+=g,a.e+=g)),x!==g&&(f=yi(e,r,m,g)||0),a._pt={_next:a._pt,p:_||u===1?_:",",s:f,c:y-f,m:p&&p<4||r==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=r==="display"&&i==="none"?GE:zE;return rE.test(i)&&(a.e=0),this._pt=a,a},Iy={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},MD=function(e){var r=e.split(" "),n=r[0],i=r[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),r[0]=Iy[n]||n,r[1]=Iy[i]||i,r.join(" ")},DD=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,i=n.style,s=r.u,o=n._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],Dn[a]&&(l=1,a=a==="transformOrigin"?Gr:Oe),Va(n,a);l&&(Va(n,Oe),o&&(o.svg&&n.removeAttribute("transform"),Xa(n,1),o.uncache=1,$E(i)))}},yh={clearProps:function(e,r,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new zt(e._pt,r,n,0,0,DD);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},ja=[1,0,0,1,0,0],WE={},YE=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Ry=function(e){var r=un(e,Oe);return YE(r)?ja:r.substr(7).match(tE).map(Xe)},Tg=function(e,r){var n=e._gsap||Hi(e),i=e.style,s=Ry(e),o,a,l,u;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?ja:s):(s===ja&&!e.offsetParent&&e!==Zs&&!n.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,Zs.appendChild(e)),s=Ry(e),l?i.display=l:Va(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Zs.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},$p=function(e,r,n,i,s,o){var a=e._gsap,l=s||Tg(e,!0),u=a.xOrigin||0,h=a.yOrigin||0,c=a.xOffset||0,d=a.yOffset||0,f=l[0],p=l[1],m=l[2],v=l[3],y=l[4],_=l[5],g=r.split(" "),x=parseFloat(g[0])||0,w=parseFloat(g[1])||0,S,T,E,b;n?l!==ja&&(T=f*v-p*m)&&(E=x*(v/T)+w*(-m/T)+(m*_-v*y)/T,b=x*(-p/T)+w*(f/T)-(f*_-p*y)/T,x=E,w=b):(S=jE(e),x=S.x+(~g[0].indexOf("%")?x/100*S.width:x),w=S.y+(~(g[1]||g[0]).indexOf("%")?w/100*S.height:w)),i||i!==!1&&a.smooth?(y=x-u,_=w-h,a.xOffset=c+(y*f+_*m)-y,a.yOffset=d+(y*p+_*v)-_):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=w,a.smooth=!!i,a.origin=r,a.originIsAbsolute=!!n,e.style[Gr]="0px 0px",o&&(Qn(o,a,"xOrigin",u,x),Qn(o,a,"yOrigin",h,w),Qn(o,a,"xOffset",c,a.xOffset),Qn(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",x+" "+w)},Xa=function(e,r){var n=e._gsap||new kE(e);if("x"in n&&!r&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=un(e,Gr)||"0",h,c,d,f,p,m,v,y,_,g,x,w,S,T,E,b,C,R,G,P,I,V,H,U,k,F,D,$,M,O,B,X;return h=c=d=m=v=y=_=g=x=0,f=p=1,n.svg=!!(e.getCTM&&XE(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Oe]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Oe]!=="none"?l[Oe]:"")),i.scale=i.rotate=i.translate="none"),T=Tg(e,n.svg),n.svg&&(n.uncache?(k=e.getBBox(),u=n.xOrigin-k.x+"px "+(n.yOrigin-k.y)+"px",U=""):U=!r&&e.getAttribute("data-svg-origin"),$p(e,U||u,!!U||n.originIsAbsolute,n.smooth!==!1,T)),w=n.xOrigin||0,S=n.yOrigin||0,T!==ja&&(R=T[0],G=T[1],P=T[2],I=T[3],h=V=T[4],c=H=T[5],T.length===6?(f=Math.sqrt(R*R+G*G),p=Math.sqrt(I*I+P*P),m=R||G?cs(G,R)*Di:0,_=P||I?cs(P,I)*Di+m:0,_&&(p*=Math.abs(Math.cos(_*Qs))),n.svg&&(h-=w-(w*R+S*P),c-=S-(w*G+S*I))):(X=T[6],O=T[7],D=T[8],$=T[9],M=T[10],B=T[11],h=T[12],c=T[13],d=T[14],E=cs(X,M),v=E*Di,E&&(b=Math.cos(-E),C=Math.sin(-E),U=V*b+D*C,k=H*b+$*C,F=X*b+M*C,D=V*-C+D*b,$=H*-C+$*b,M=X*-C+M*b,B=O*-C+B*b,V=U,H=k,X=F),E=cs(-P,M),y=E*Di,E&&(b=Math.cos(-E),C=Math.sin(-E),U=R*b-D*C,k=G*b-$*C,F=P*b-M*C,B=I*C+B*b,R=U,G=k,P=F),E=cs(G,R),m=E*Di,E&&(b=Math.cos(E),C=Math.sin(E),U=R*b+G*C,k=V*b+H*C,G=G*b-R*C,H=H*b-V*C,R=U,V=k),v&&Math.abs(v)+Math.abs(m)>359.9&&(v=m=0,y=180-y),f=Xe(Math.sqrt(R*R+G*G+P*P)),p=Xe(Math.sqrt(H*H+X*X)),E=cs(V,H),_=Math.abs(E)>2e-4?E*Di:0,x=B?1/(B<0?-B:B):0),n.svg&&(U=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!YE(un(e,Oe)),U&&e.setAttribute("transform",U))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(f*=-1,_+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,_+=_<=0?180:-180)),r=r||n.uncache,n.x=h-((n.xPercent=h&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=c-((n.yPercent=c&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-c)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=d+o,n.scaleX=Xe(f),n.scaleY=Xe(p),n.rotation=Xe(m)+a,n.rotationX=Xe(v)+a,n.rotationY=Xe(y)+a,n.skewX=_+a,n.skewY=g+a,n.transformPerspective=x+o,(n.zOrigin=parseFloat(u.split(" ")[2])||0)&&(i[Gr]=vh(u)),n.xOffset=n.yOffset=0,n.force3D=Zt.force3D,n.renderTransform=n.svg?OD:VE?qE:BD,n.uncache=0,n},vh=function(e){return(e=e.split(" "))[0]+" "+e[1]},Fd=function(e,r,n){var i=Et(r);return Xe(parseFloat(r)+parseFloat(yi(e,"x",n+"px",i)))+i},BD=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,qE(e,r)},bi="0deg",Go="0px",Ci=") ",qE=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.z,u=n.rotation,h=n.rotationY,c=n.rotationX,d=n.skewX,f=n.skewY,p=n.scaleX,m=n.scaleY,v=n.transformPerspective,y=n.force3D,_=n.target,g=n.zOrigin,x="",w=y==="auto"&&e&&e!==1||y===!0;if(g&&(c!==bi||h!==bi)){var S=parseFloat(h)*Qs,T=Math.sin(S),E=Math.cos(S),b;S=parseFloat(c)*Qs,b=Math.cos(S),o=Fd(_,o,T*b*-g),a=Fd(_,a,-Math.sin(S)*-g),l=Fd(_,l,E*b*-g+g)}v!==Go&&(x+="perspective("+v+Ci),(i||s)&&(x+="translate("+i+"%, "+s+"%) "),(w||o!==Go||a!==Go||l!==Go)&&(x+=l!==Go||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Ci),u!==bi&&(x+="rotate("+u+Ci),h!==bi&&(x+="rotateY("+h+Ci),c!==bi&&(x+="rotateX("+c+Ci),(d!==bi||f!==bi)&&(x+="skew("+d+", "+f+Ci),(p!==1||m!==1)&&(x+="scale("+p+", "+m+Ci),_.style[Oe]=x||"translate(0, 0)"},OD=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.rotation,u=n.skewX,h=n.skewY,c=n.scaleX,d=n.scaleY,f=n.target,p=n.xOrigin,m=n.yOrigin,v=n.xOffset,y=n.yOffset,_=n.forceCSS,g=parseFloat(o),x=parseFloat(a),w,S,T,E,b;l=parseFloat(l),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,l+=h),l||u?(l*=Qs,u*=Qs,w=Math.cos(l)*c,S=Math.sin(l)*c,T=Math.sin(l-u)*-d,E=Math.cos(l-u)*d,u&&(h*=Qs,b=Math.tan(u-h),b=Math.sqrt(1+b*b),T*=b,E*=b,h&&(b=Math.tan(h),b=Math.sqrt(1+b*b),w*=b,S*=b)),w=Xe(w),S=Xe(S),T=Xe(T),E=Xe(E)):(w=c,E=d,S=T=0),(g&&!~(o+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(g=yi(f,"x",o,"px"),x=yi(f,"y",a,"px")),(p||m||v||y)&&(g=Xe(g+p-(p*w+m*T)+v),x=Xe(x+m-(p*S+m*E)+y)),(i||s)&&(b=f.getBBox(),g=Xe(g+i/100*b.width),x=Xe(x+s/100*b.height)),b="matrix("+w+","+S+","+T+","+E+","+g+","+x+")",f.setAttribute("transform",b),_&&(f.style[Oe]=b)},LD=function(e,r,n,i,s){var o=360,a=at(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Di:1),u=l-i,h=i+u+"deg",c,d;return a&&(c=s.split("_")[1],c==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),c==="cw"&&u<0?u=(u+o*by)%o-~~(u/o)*o:c==="ccw"&&u>0&&(u=(u-o*by)%o-~~(u/o)*o)),e._pt=d=new zt(e._pt,r,n,i,u,vD),d.e=h,d.u="deg",e._props.push(n),d},ky=function(e,r){for(var n in r)e[n]=r[n];return e},ND=function(e,r,n){var i=ky({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,u,h,c,d,f,p;i.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),o[Oe]=r,a=Xa(n,1),Va(n,Oe),n.setAttribute("transform",u)):(u=getComputedStyle(n)[Oe],o[Oe]=r,a=Xa(n,1),o[Oe]=u);for(l in Dn)u=i[l],h=a[l],u!==h&&s.indexOf(l)<0&&(f=Et(u),p=Et(h),c=f!==p?yi(n,l,u,p):parseFloat(u),d=parseFloat(h),e._pt=new zt(e._pt,a,l,c,d-c,Up),e._pt.u=p||0,e._props.push(l));ky(a,i)};Ut("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",i="Bottom",s="Left",o=(e<3?[r,n,i,s]:[r+s,r+n,i+n,i+s]).map(function(a){return e<2?t+a:"border"+a+t});yh[e>1?"border"+t:t]=function(a,l,u,h,c){var d,f;if(arguments.length<4)return d=o.map(function(p){return xn(a,p,u)}),f=d.join(" "),f.split(d[0]).length===5?d[0]:f;d=(h+"").split(" "),f={},o.forEach(function(p,m){return f[p]=d[m]=d[m]||d[(m-1)/2|0]}),a.init(l,f,c)}});var KE={name:"css",register:Gp,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,i,s){var o=this._props,a=e.style,l=n.vars.startAt,u,h,c,d,f,p,m,v,y,_,g,x,w,S,T,E;xg||Gp(),this.styles=this.styles||HE(e),E=this.styles.props,this.tween=n;for(m in r)if(m!=="autoRound"&&(h=r[m],!(Wt[m]&&ME(m,r,n,i,e,s)))){if(f=typeof h,p=yh[m],f==="function"&&(h=h.call(n,i,e,s),f=typeof h),f==="string"&&~h.indexOf("random(")&&(h=$a(h)),p)p(this,e,m,h,n)&&(T=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(m)+"").trim(),h+="",hi.lastIndex=0,hi.test(u)||(v=Et(u),y=Et(h)),y?v!==y&&(u=yi(e,m,u,y)+y):v&&(h+=v),this.add(a,"setProperty",u,h,i,s,0,0,m),o.push(m),E.push(m,0,a[m]);else if(f!=="undefined"){if(l&&m in l?(u=typeof l[m]=="function"?l[m].call(n,i,e,s):l[m],at(u)&&~u.indexOf("random(")&&(u=$a(u)),Et(u+"")||(u+=Zt.units[m]||Et(xn(e,m))||""),(u+"").charAt(1)==="="&&(u=xn(e,m))):u=xn(e,m),d=parseFloat(u),_=f==="string"&&h.charAt(1)==="="&&h.substr(0,2),_&&(h=h.substr(2)),c=parseFloat(h),m in rn&&(m==="autoAlpha"&&(d===1&&xn(e,"visibility")==="hidden"&&c&&(d=0),E.push("visibility",0,a.visibility),Qn(this,a,"visibility",d?"inherit":"hidden",c?"inherit":"hidden",!c)),m!=="scale"&&m!=="transform"&&(m=rn[m],~m.indexOf(",")&&(m=m.split(",")[0]))),g=m in Dn,g){if(this.styles.save(m),x||(w=e._gsap,w.renderTransform&&!r.parseTransform||Xa(e,r.parseTransform),S=r.smoothOrigin!==!1&&w.smooth,x=this._pt=new zt(this._pt,a,Oe,0,1,w.renderTransform,w,0,-1),x.dep=1),m==="scale")this._pt=new zt(this._pt,w,"scaleY",w.scaleY,(_?Ks(w.scaleY,_+c):c)-w.scaleY||0,Up),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){E.push(Gr,0,a[Gr]),h=MD(h),w.svg?$p(e,h,0,S,0,this):(y=parseFloat(h.split(" ")[2])||0,y!==w.zOrigin&&Qn(this,w,"zOrigin",w.zOrigin,y),Qn(this,a,m,vh(u),vh(h)));continue}else if(m==="svgOrigin"){$p(e,h,1,S,0,this);continue}else if(m in WE){LD(this,w,m,d,_?Ks(d,_+h):h);continue}else if(m==="smoothOrigin"){Qn(this,w,"smooth",w.smooth,h);continue}else if(m==="force3D"){w[m]=h;continue}else if(m==="transform"){ND(this,h,e);continue}}else m in a||(m=_o(m)||m);if(g||(c||c===0)&&(d||d===0)&&!yD.test(h)&&m in a)v=(u+"").substr((d+"").length),c||(c=0),y=Et(h)||(m in Zt.units?Zt.units[m]:v),v!==y&&(d=yi(e,m,u,y)),this._pt=new zt(this._pt,g?w:a,m,d,(_?Ks(d,_+c):c)-d,!g&&(y==="px"||m==="zIndex")&&r.autoRound!==!1?wD:Up),this._pt.u=y||0,v!==y&&y!=="%"&&(this._pt.b=u,this._pt.r=xD);else if(m in a)kD.call(this,e,m,u,_?_+h:h);else if(m in e)this.add(e,m,u||e[m],_?_+h:h,i,s);else if(m!=="parseTransform"){cg(m,h);continue}g||(m in a?E.push(m,0,a[m]):E.push(m,1,u||e[m])),o.push(m)}}T&&FE(this)},render:function(e,r){if(r.tween._time||!wg())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:xn,aliases:rn,getSetter:function(e,r,n){var i=rn[r];return i&&i.indexOf(",")<0&&(r=i),r in Dn&&r!==Gr&&(e._gsap.x||xn(e,"x"))?n&&Sy===n?r==="scale"?bD:SD:(Sy=n||{})&&(r==="scale"?CD:AD):e.style&&!lg(e.style[r])?ED:~r.indexOf("-")?TD:yg(e,r)},core:{_removeProperty:Va,_getMatrix:Tg}};$t.utils.checkPrefix=_o;$t.core.getStyleSaver=HE;(function(t,e,r,n){var i=Ut(t+","+e+","+r,function(s){Dn[s]=1});Ut(e,function(s){Zt.units[s]="deg",WE[s]=1}),rn[i[13]]=t+","+e,Ut(n,function(s){var o=s.split(":");rn[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ut("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Zt.units[t]="px"});$t.registerPlugin(KE);var mr=$t.registerPlugin(KE)||$t;mr.core.Tween;class FD extends Re{constructor(e=1){super(),this.mWaitBombSecond=3,this.mBombScope=e,this.mBomb=new Vr(Or.getHandle.getRsc("bomb.png")),this.mBomb.anchor.set(.5),this.mBomb.position.set(Ve.tileScale/2,Ve.tileScale/2),mr.to(this.mBomb.scale,{x:.8,y:.8,duration:.2}).repeat(-1).yoyo(!0),this.mFireArray=[],this.removeChildren(),this.addChild(this.mBomb)}get scene(){return mt.getHandle.getScene}get bombScope(){return this.mBombScope}get waitBomb(){return this.mWaitBombSecond}}class UD extends Re{constructor(){super(),this.mFire=new Vr,this.mFire.texture=Or.getHandle.getRsc("fire-bomb.png"),this.mFire.position.set(Ve.tileScale/2,Ve.tileScale/2),this.mFire.anchor.set(.5,.5),this.mFire.scale.set(0),mr.to(this.mFire.scale,{x:1,y:1,duration:.5}),mr.to(this.mFire,{alpha:0,duration:.4/6}).delay(.6).repeat(7).yoyo(!0).eventCallback("onComplete",()=>{this.emit("endFire")}),this.addChild(this.mFire)}}class zD extends Vr{constructor(){super(),this.texture=Or.getHandle.getRsc("bomb.png"),this.anchor.set(.5),this.position.set(Ve.tileScale,Ve.tileScale/2),this.scale.set(.6)}}const{tileScale:Yl,speed:GD}=Ve;class $D{constructor(e){this.socketOn=new HD(e),this.socket=yu("ws://localhost:3000")}async init(){this.socket.on("connect",()=>{console.log("connect")});const e=this.socketOn.constructor.prototype;for(const r of Object.getOwnPropertyNames(e))r!=="constructor"&&this.socket.on(r,({...n})=>this.socketOn[r]({...n}))}emit(e,r){this.socket.emit(e,{...r})}}class HD{constructor(e){this.scene=e}welcome({socketId:e,users:r,mapData:n}){console.log("welcome",e),this.scene.setId(e),this.scene.bombersInfo=r,this.scene.mapData=n}incomingUser({socketId:e,pos:r}){console.log("incomingUser",e),this.scene.insertUser({socketId:e,pos:r,status:"wait"})}leaveUser({socketId:e}){this.scene.leaveUser(e),delete this.scene.bombers[e]}move({socketId:e,pos:r,status:n}){const i=this.scene.bombers[e];i&&(mr.to(i,{x:r[0],y:r[1],duration:GD,onStart:()=>{i?.chageStatus(n)},onComplete:()=>{i.isMoving=!1}}),mt.getHandle.onViewTab=()=>{i&&(mr.killTweensOf(i),i?.chageStatus(n),i.position.set(r[0],r[1]))})}setBomb({socketId:e,bombPos:r}){console.log("setBomb");const n=this.scene.bombers[e],i=new FD(n.bombFire);i.position.set(r[0]*Yl,r[1]*Yl),this.scene.bombersContainer.addChild(i),setTimeout(()=>{this.scene.socket.emit("fireBomb",{socketId:e,bombPos:r,fireScope:n.bombFire}),this.scene.bombersContainer.removeChild(i)},n.waitBomb*1e3)}fireBomb({firePos:e}){for(const[r,n]of e){const i=new UD;i.zIndex=3,i.position.set(r*Yl,n*Yl),this.scene.bombersContainer.addChild(i),i.on("endFire",()=>{this.scene.bombersContainer.removeChild(i),this.scene.socket.emit("endBomb",{firePos:e})})}}deathUser({info:e}){for(const{killer:r,death:n}of e)this.scene.killLog(`[${r.slice(4)}] kill => [${n.slice(4)}]`),this.scene.bombers[n]?.death(),delete this.scene.bombers[n]}}class VD extends Re{constructor(e,r){super(),this.isUseKeyboard=!1,this.info={idx:e,sceneName:r}}set useKeyboard(e){this.isUseKeyboard=e}get useKeyboard(){return this.isUseKeyboard}get sceneInfo(){return this.info}async init(){}async startGame(){}async endGame(){mr.globalTimeline.clear(),this.removeChildren()}async keyupEvent(e){}async keydownEvent(e){}}const{tileScale:Ht}=Ve;class jD extends Re{constructor(e,r,n,i,s=3,o=2,a=5){super(),this.mIsAlive=!0,this.mWaitBomb=o,this.mBombFire=s,this.mInitData={name:e,pos:i,status:n},this.mSocketId=r,this.mIsMoving=!1,this.mFixBombCnt=a,this.mUseBombCnt=0,this.mItems={bomb:new zD},this.sortableChildren=!0,this.mItemLayout=new Re,this.mCharacterLayout=new Re,this.mItemLayout.zIndex=2,this.mCharacterLayout.zIndex=1,this.addChild(this.mItemLayout,this.mCharacterLayout)}get scene(){return mt.getHandle.getScene}get invalidBomb(){return this.mFixBombCnt<=this.mUseBombCnt}get waitBomb(){return this.mWaitBomb}set waitBomb(e){this.mWaitBomb=e}get bombFire(){return this.mBombFire}set bombFire(e){this.mBombFire=e}set isMoving(e){this.mIsMoving=e}set useBomb(e){this.mUseBombCnt+=1}async init(){const{name:e,status:r,pos:n}=this.mInitData,i=s=>Or.getHandle.getRsc(s).clone();this.mGifSprite={wait:i(`${e}-wait.gif`),left:i(`${e}-l.gif`),right:i(`${e}-r.gif`),down:i(`${e}-down.gif`),up:i(`${e}-up.gif`),bomb:i(`${e}-bombing.gif`)},await this.createCharacter(),await this.createItem(),this.chageStatus(r),this.position.set(n[0]*Ht,n[1]*Ht)}async createCharacter(){const e=["wait","up","down","left","right"];for(const n of e){const i=this.mGifSprite[n];this.mCharacterLayout.addChild(i)}this.mCharacterLayout.pivot.set(Ht/2,Ht/2),this.mCharacterLayout.position.set(Ht/2,Ht/2);const r=new rl(this.mSocketId.slice(0,4),{fontSize:14,fill:16777215,align:"center",padding:4,stroke:"#000",strokeThickness:8});r.y=Ht-10,this.addChild(r)}async createItem(){const e=Object.keys(this.mItems);for(let r=0;r<e.length;r++)this.mItemLayout.addChild(this.mItems[e[r]]),this.mItems[e[r]].visible=!1}changeItem(e){const r=Object.values(this.mItems);for(const n of r)n.visible=!1;e!=="none"&&(this.mItems[e].visible=!0)}chageStatus(e){const r=Object.values(this.mGifSprite);for(const n of r)n.visible=!1;this.mGifSprite[e].visible=!0}async setDirection(e){this.mIsAlive&&(e.up&&await this.move(this.x,this.y-Ht,"up"),e.down&&await this.move(this.x,this.y+Ht,"down"),e.left&&await this.move(this.x-Ht,this.y,"left"),e.right&&await this.move(this.x+Ht,this.y,"right"))}async move(e,r,n){if(this.mIsMoving&&this.mIsAlive)return;const i=this.scene.mapData,s=[e/Ht,r/Ht];if(i[s[1]][s[0]]===1){this.chageStatus(n);return}this.mIsMoving=!0,this.scene.setMove({pos:[e,r],status:n})}async death(){this.mIsAlive=!1;const e=Object.values(this.mGifSprite);for(const r of e)r.stop();mr.to(this.mCharacterLayout.scale,{x:1.2,y:1.2,duration:.5}).repeat(2).yoyo(!0).eventCallback("onComplete",()=>{mr.to(this.mCharacterLayout.scale,{x:0,y:0,duration:.5})})}}class XD extends Vr{constructor(e,r){super();const n=e?"grass":"wall",i=Or.getHandle.getRsc(`${n}.png`);this.texture=new q(i)}}let WD=class extends Re{constructor(e){super(),this.mMapData=e}get mapData(){return this.mMapData}async init(){await this.changeMap()}async changeMap(){this.removeChildren();const e=this.mMapData;for(let r=0;r<e.length;r++)for(let n=0;n<e[0].length;n++){const i=!e[r][n],s={x:n*Ve.tileScale,y:r*Ve.tileScale},o=new XD(i,s);o.position.set(s.x,s.y),this.addChild(o)}}};const Tt={width:1200,height:800,background:0};class YD extends VD{constructor(e,r){super(e,r),this.useKeyboard=!0,this.sortableChildren=!0,this.mLogs={},this.mBombers={},this.mBombersInfo=[{socketId:"init",pos:[1,1],status:"wait"}],this.mMapLayout=new Re,this.mMapLayout.zIndex=1,this.mCharacterLayout=new Re,this.mCharacterLayout.sortableChildren=!0,this.mCharacterLayout.zIndex=2,this.addChild(this.mMapLayout,this.mCharacterLayout)}get socket(){return this.mSocket}get me(){return this.mMe}get myId(){return this.mMyId}get bombers(){return this.mBombers}get bombersContainer(){return this.mCharacterLayout}get bombersInfo(){return this.mBombersInfo}set bombersInfo(e){this.mBombersInfo=e}get mapData(){return this.mMapData}set mapData(e){this.mMapData=e}async keydownEvent(e){e.key===" "&&this.mMe.changeItem("bomb")}async keyupEvent(e){e.key===" "&&(this.setBomb(),this.mMe.changeItem("none"))}setId(e){this.mMyId=e,this.setId=()=>null}async init(){this.mSocket=new $D(this),await this.mSocket.init()}async startGame(){this.addChild(this.mMapLayout,this.mCharacterLayout),await Or.getHandle.loadAllRsc(Ve.rscList),await this.createObject(),await this.registAnimationFrame()}async registAnimationFrame(){const e=async()=>{const{direction:r}=Bs.getHandle;await this.mMe.setDirection(r),requestAnimationFrame(()=>e())};requestAnimationFrame(()=>e())}setMove({pos:e,status:r}){this.mSocket.emit("moveReq",{pos:e,status:r})}async createObject(){for(const e of this.mBombersInfo)await this.insertUser(e);this.mMap=new WD(this.mMapData),await this.mMap.init(),this.mMapLayout.addChild(this.mMap)}async insertUser({socketId:e,pos:r,status:n}){const i=new jD("cha",e,n,r);await i.init(),this.myId===e&&(this.mMe=i),this.mBombers[e]=i,this.mCharacterLayout.addChild(i)}leaveUser(e){const r=this.mBombers[e];r&&this.mCharacterLayout.removeChild(r)}async setBomb(){if(this.mMe.invalidBomb)return;this.mMe.useBomb+=1;const e=Ow.getMetrixPos(this.mMe.x,this.mMe.y),r=this.myId,n=[e.x,e.y],i=this.mMe.bombFire;this.mSocket.emit("setBomb",{socketId:r,bombPos:n,fireScope:i})}killLog(e){if(this.mLogs[e])return;this.mLogs[e]=!0;const{length:r}=Object.values(this.mLogs),n=new rl(e,{fontSize:14,fill:16711680,fontWeight:"bold"});n.anchor.set(1,0),n.position.set(Tt.width,(r-1)*20),n.zIndex=3,this.addChild(n),setTimeout(()=>{delete this.mLogs[e],this.removeChild(n)},6e3)}}class My extends Re{constructor(){super(),this.sceneAry=[],this.sceneIdx=0}get currentScene(){return this.sceneAry[this.sceneIdx]}get currentSceneInfo(){return this.sceneAry[this.sceneIdx].sceneInfo}async init(){this.sceneIdx=0,this.sceneAry=[],this.sceneAry.push(new YD(0,"bomber"))}async start(){await this.changeScene("bomber")}async changeScene(e){this.removeChildren(),await this.sceneAry[this.sceneIdx]?.endGame(),await mt.getHandle.getModalManager.loadingStart();for(let r=0;r<this.sceneAry.length;r++){const{sceneName:n}=this.sceneAry[r].sceneInfo;if(e===n){this.addChild(this.sceneAry[r]),await this.sceneAry[r].init(),await this.sceneAry[r].startGame(),await mt.getHandle.getModalManager.loadingEnd();break}}}}const Dy={x:Tt.width/2,y:Tt.height/2},ql=100;class qD extends Re{constructor(){super(),this.mLoadingDots=[],this.mLoadingBg=new uo,this.mLoadingBg.beginFill(0,1),this.mLoadingBg.drawRect(0,0,Tt.width,Tt.height),this.mLoadingBg.endFill(),this.addChild(this.mLoadingBg)}async start(){mr.to(this,{alpha:1,duration:.5,onComplete:()=>{let e=0;for(const r of this.mLoadingDots){e+=.5;const n=mr.timeline();n.to(r,{y:r.y-ql,duration:.5}),n.to(r,{x:r.x-ql,duration:.5}),n.to(r,{y:r.y,duration:.5}),n.to(r,{x:r.x,duration:.5}),n.repeat(-1).delay(e)}}})}async end(){mr.to(this,{alpha:0,duration:.25,onComplete:()=>{const e=mt.getHandle.getScene.sceneInfo.sceneName;console.log(`%c complete-loading [${e}]`,"padding:10px; background: #000;color:#fff")}})}async init(){const e=["#0BA8E0","#63FAB3","#B98EF0"];for(let r=0;r<e.length;r++){const n=new uo;n.beginFill(e[r],1),n.drawCircle(0,0,10),n.endFill(),n.position.set(Dy.x-ql+r*ql,Dy.y),this.mLoadingDots.push(n),this.addChild(n)}}}class By extends Re{constructor(){super(),this.mLoading=new qD,this.addChild(this.mLoading)}async init(){await this.mLoading.init(),this.addChild(this.mLoading),this.mLoading.visible=!1}async loadingStart(){this.mLoading.visible=!0,await this.mLoading.start()}async loadingEnd(){await this.mLoading.end(),this.mLoading.visible=!1}}const KD={backgroundColor:Tt.background,width:Tt.width,height:Tt.height};class mt extends tg{constructor({width:e,height:r,backgroundColor:n}){super({width:e,height:r,backgroundColor:n}),mt.handle=this,this.mSceneManager=new My,this.mModalManager=new By}static get getHandle(){return mt.handle?mt.handle:new mt(KD)}get getScene(){return this.mSceneManager.currentScene}get getModalManager(){return this.mModalManager}async init(){this.stage.removeChildren(),this.mSceneManager=new My,this.mModalManager=new By,this.stage.sortableChildren=!0,this.mSceneManager.zIndex=1,this.mModalManager.zIndex=2,this.stage.addChild(this.mSceneManager,this.mModalManager),await this.mSceneManager.init(),await this.mModalManager.init(),await this.mSceneManager.start(),document.addEventListener("visibilitychange",()=>{document.hidden?this.onHiddenTab():this.onViewTab()})}onHiddenTab(){}onViewTab(){}}const Kl=new mt({backgroundColor:Tt.background,width:Tt.width,height:Tt.height});function ZD(){const t=Q.createRef(),e=async()=>(t.current?.appendChild(Kl.view),Kl.start(),await Kl.init(),()=>Kl.stop()),r=()=>{const n=t.current,{innerWidth:i,innerHeight:s}=window,o=Tt.width/Tt.height;let a=Tt.width,l=Tt.height;i>=Tt.width?(l=s-40,a=l*o):(a=i,l=a/o),n?.setAttribute("style",` 
        position:relative;
        width:${a}px; 
        height: ${l}px; 
        border-radius: 20px;
        box-shadow:0 20px 50px rgba(255,255,255,0.2);
      `)};return Q.useEffect(()=>{e(),r(),window.addEventListener("resize",r)},[t]),Vn(QD,{children:Vn(JD,{ref:t})})}const QD=ox.div`
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100vw;
  height: 100vh;
  background-color: #000;
`,JD=ox.div`
  & > canvas {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    transform: translate(-50%, -50%);
  }
`;function eB(){return Q.useEffect(()=>{Ow.mouseRight=()=>null,document.addEventListener("contextmenu",function(t){t.preventDefault()})},[]),Vn(gA,{children:Vn(mA,{children:Vn(mx,{path:"/",element:Vn(ZD,{})})})})}const tB=H1(document.getElementById("root"));tB.render(ET("div",{children:[Vn(CC,{}),Vn(eB,{})]}));
